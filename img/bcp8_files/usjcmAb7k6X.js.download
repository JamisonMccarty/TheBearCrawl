if (self.CavalryLogger) { CavalryLogger.start_js(["InThf"]); }

__d("LoadingMarker.react",["LoadingMarkerGated","React"],(function(a,b,c,d,e,f){"use strict";function a(a){return a.children}e.exports=b("LoadingMarkerGated").component||a}),null);
__d("PerfHelperUtils",["cx","DeferredComponent.react","JSResource","React","joinClasses","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.render=function(){var a=this.props,c=a.tooltip;a=a.className;return b("React").createElement("div",{className:"_28hn"+(this.props.color==="red"?" _4ez8":"")+(this.props.color==="green"?" _28ho":"")},b("React").createElement(b("DeferredComponent.react"),{deferredPlaceholder:b("React").createElement("div",null),deferredComponent:function(a){b("promiseDone")(b("JSResource")("Tooltip.react").__setRef("PerfHelperUtils").load(),a)},className:b("joinClasses")("_5_my",a),tooltip:c},this.props.children))};return a}(b("React").PureComponent);function a(a){return b("React").createElement(h,{color:"red",tooltip:"This bootloaded component has a red border\n          because "+a.moduleId+"\n          took over "+a.timeLimitSecs+" seconds ("+a.timeSpentSecs+"s) to load"},a.children)}c={SlowBootloadBorder:a,BorderedComponent:h};e.exports=c}),null);
__d("VideoPermalinkURI",[],(function(a,b,c,d,e,f){__p&&__p();var g={isValid:function(a){return g.parse(a)!==null},parse:function(a){__p&&__p();if(this.isValidLegacy(a)){var b=a.getQueryData();return b.v?{video_id:b.v,set_token:b.set}:null}b=a.getPath();b[b.length-1]==="/"&&(b=b.substring(0,b.length-1));a=b.split("/");if(a.length>=3&&a[2]==="videos")if(a.length===4&&this.isNumeric(a[3]))return{video_id:a[3],set_token:null};else if(a.length===5){if(this.isNumeric(a[4]))return{video_id:a[4],set_token:a[3]};else if(this.isNumeric(a[3]))return{video_id:a[3],story_id:a[4]}}else if(a.length===6&&this.isNumeric(a[4]))return{video_id:a[4],set_token:a[3],story_id:a[5]};return null},isNumeric:function(a){return/^\d+$/.exec(a)!==null},isValidLegacy:function(a){a=a.getPath();a[a.length-1]==="/"&&(a=a.substring(0,a.length-1));return a==="/photo.php"||a==="/force_photo/photo.php"||a==="/photo"||a==="/force_photo/photo/index.php"||a==="/photo/index.php"||a==="/force_photo/photo"||a==="/video.php"||a==="/video/video.php"?!0:!1},getCustomStoryURI:function(a,b){return a+b+"/"}};e.exports=g}),null);
__d("SnowflakePermalinkUtils",["URI"],(function(a,b,c,d,e,f){var g=/\/[^/]+\/(albums\/([^/]+)|posts\/([a-zA-Z]+[^/]+))\/([^/]+\/)?/;a={isPermalinkURI:function(a){a=new(b("URI"))(a);return g.test(a.getPath())}};e.exports=a}),null);
__d("FBStoriesPrivacySelectorClickHandler",["Bootloader","CSS","Event","Run","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";a={registerForClick:function(a){var c=a.button,d=a.buttonIcon,e=a.buttonSpinner,f=a.container,g=a.privateSharingOn,h=a.menuAlignh,i=a.menuPosition,j=new(b("SubscriptionsHandler"))();j.addSubscriptions(b("Event").listen(c,"click",function(a){a.stopPropagation(),b("CSS").hide(d),b("CSS").show(e),b("Bootloader").loadModules(["FBStoriesPrivacySelector"],function(a){a.onClick({buttonIcon:d,buttonSpinner:e,container:f,privateSharingOn:g,menuAlignh:h,menuPosition:i})},"FBStoriesPrivacySelectorClickHandler")}));b("Run").onBeforeUnload(function(){j.release()})}};e.exports=a}),null);
__d("ReactDOMInstrumentationFB",["invariant","Env","LogBuffer","ProfilingCounters","React","gkx","performanceAbsoluteNow","registerForHotReload","unregisterForHotReload"],(function(a,b,c,d,e,f,g){__p&&__p();var h=!1,i=[],j=!1,k=!1;function l(a){a=a.type;if(typeof a==="string")return"<dom-node>";var b="<compressed-name>";return a.displayName||b||"<unknown>"}function m(){h||(h=!0,i.forEach(function(a){n(a)}))}function n(c){__p&&__p();var d=c.render;function e(a,c,e){__p&&__p();var f=null,g=null;j&&(f=b("performanceAbsoluteNow")());k&&(g=b("ProfilingCounters").startTiming("REACT_RENDER_TIME"));c=d.call(this,a,c,e);g!=null&&b("ProfilingCounters").stopTiming(g);if(j){e=b("performanceAbsoluteNow")();g=l(a);b("LogBuffer").write("react_speed",{name:g,begin:f,end:e})}return c}Object.assign(c,{render:e,enableRenderMeasurements:function(){j=!0,m()}});e=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e.addUserTimingListener!=null||g(0,1067);c=a.PerformanceObserver;if(c!==void 0&&b("gkx")("678771")){e.addUserTimingListener();e=new c(function(a){a.getEntries().forEach(function(a){return[a.name,a.entryType,a.startTime,a.duration]})});e.observe({entryTypes:["measure"]})}}function c(a){__p&&__p();var c=a.render;function d(a,d,e){var f=a.ref;if(typeof f!=="string"&&typeof a.type==="function"&&a.type.prototype&&a.type.prototype.isReactComponent){var g;a=b("React").cloneElement(a,{ref:function(a){g&&b("unregisterForHotReload")(g),a&&b("registerForHotReload")(a),g=a,typeof f==="function"&&f(a)}})}return c.call(this,a,d,e)}Object.assign(a,{render:d})}b("Env").timeslice_categories&&b("Env").timeslice_categories.react_render&&(k=!0,m());d={patchedReactDOM:function(a){i.indexOf(a)===-1&&(i.push(a),h&&n(a));return a}};e.exports=d}),null);
__d("ReactDOM",["ReactDOM-fb","ReactDOMInstrumentationFB"],(function(a,b,c,d,e,f){e.exports=b("ReactDOMInstrumentationFB").patchedReactDOM(b("ReactDOM-fb"))}),null);
__d("ReactFiberErrorDialog",["LogHistory","requireCond","cr:682214"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=!1;function a(a){try{a.error.reactComponentStackForLogging=a.componentStack}catch(a){}var c=a.error,d=b("LogHistory").getInstance("react_fiber_error_logger");d.error("capturedError",JSON.stringify({componentStack:a.componentStack,error:{name:c.name,message:c.message,stack:c.stack},errorBoundaryName:a.errorBoundaryName,willRetry:a.willRetry}));!g&&b("cr:682214")&&(g=!0,b("cr:682214").showReactErrorDialog(a));return!0}f.showErrorDialog=a}),null);
__d("ReactFeedSproutsComposerXStoryPost",["BanzaiODS","Bootloader","ComposerStoryCreateMutationWebGraphQLMutation","WebGraphQLLegacyHelper","XWebGraphQLMutationController","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={bootload:function(){b("Bootloader").loadModules(["ReactComposerAsyncRequest"],function(){},"ReactFeedSproutsComposerXStoryPost")},postToStory:function(a){var c=b("ComposerStoryCreateMutationWebGraphQLMutation").__getDocID(),d=b("WebGraphQLLegacyHelper").getURI({controller:b("XWebGraphQLMutationController"),docID:c});c=[{stories:{self:{target_id:a.targetID}}}];var e={actor_id:a.actorID,client_mutation_id:b("uuid")(),source:"WWW",audiences:c,message:{text:a.text,ranges:[]}};b("Bootloader").loadModules(["ReactComposerAsyncRequest"],function(c){c=new c(a.composerID,d).setHandler(a.successHandler).setData({variables:JSON.stringify({client_mutation_id:b("uuid")(),actor_id:a.actorID,input:e})});c.send();b("BanzaiODS").bumpEntityKey("webgraphml_publish","hit")},"ReactFeedSproutsComposerXStoryPost")}};e.exports=a}),null);
__d("textProbablyWritingMarkdown",["CurrentUser"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=1e3;function a(a){__p&&__p();a.length>g&&(a=a.slice(0,g));var c=a.match(/^[*+-] /gm);if(c&&c.length>1)return!0;c=a.match(/`/);if(c)return!0;c=a.match(/\$([^ \t\n\$]([^\$]*[^ \t\n\$])?)\$/);if(c)return!0;c=a.match(/__([\s\S]+?)__(?!_)|\*\*([\s\S]+?)\*\*(?!\*)/);if(c)return!0;c=a.match(/(^\s{0,3}#{2,6}[^#])|(^\s*[-=]{5,}\s*$)/m);if(c)return!0;c=a.match(/\]\(|\]\[/);if(c)return!0;if(!b("CurrentUser").isEmployee())return!1;c=a.match(/\b[sS]\d{5,6}\b/);if(c)return!0;c=a.match(/\b[tT]\d{7,8}\b/);if(c)return!0;c=a.match(/\b[dD]\d{6,8}\b/);if(c)return!0;c=a.match(/\b[pP]\d{7,9}\b/);if(c)return!0;c=a.match(/\b(cms|CMS)\d\b/);if(c)return!0;c=a.match(/\b[aA]\d{4,}\b/);if(c)return!0;c=a.match(/\b[zZ][0-9]{4,}\b/);if(c)return!0;c=a.match(/\b(NT|nt)\d{4,}\b/);if(c)return!0;c=a.match(/\b(re|RE)\d{4,16}\b/);if(c)return!0;c=a.match(/\b(ie|IE)\d{1,15}\b/);return c?!0:!1}e.exports=a}),null);
__d("ReactPropTransferer",["ReactPropTransfererCore"],(function(a,b,c,d,e,f){e.exports=b("ReactPropTransfererCore")}),null);
__d("EventListener",["Event","TimeSlice","emptyFunction","setImmediateAcrossTransitions"],(function(a,b,c,d,e,f){__p&&__p();a={listen:b("Event").listen,capture:function(a,c,d){d=b("TimeSlice").guard(d,"EventListener capture "+c);if(a.addEventListener){a.addEventListener(c,d,!0);return{remove:function(){a.removeEventListener(c,d,!0)}}}else return{remove:b("emptyFunction")}},registerDefault:function(a,c){var d,e=b("Event").listen(document.documentElement,a,f,b("Event").Priority._BUBBLE);function f(){g(),d=b("Event").listen(document,a,c),b("setImmediateAcrossTransitions")(g)}function g(){d&&d.remove(),d=null}return{remove:function(){g(),e&&e.remove(),e=null}}}};e.exports=a}),null);
__d("injectSubscriptionsHandler.react",["React","SubscriptionsHandler","getReactComponentDisplayName"],(function(a,b,c,d,e,f){__p&&__p();function a(a){__p&&__p();var c,d,e=b("getReactComponentDisplayName")(a);return d=c=function(c){"use strict";__p&&__p();babelHelpers.inheritsLoose(d,c);function d(){var a,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=d=c.call.apply(c,[this].concat(f))||this,d.state={subscriptionsHandler:new(b("SubscriptionsHandler"))()},a)||babelHelpers.assertThisInitialized(d)}var e=d.prototype;e.componentWillUnmount=function(){this.state.subscriptionsHandler.release()};e.render=function(){return b("React").createElement(a,babelHelpers["extends"]({},this.props,{subscriptionsHandler:this.state.subscriptionsHandler}))};return d}(b("React").Component),c.displayName="injectSubscriptionsHandler("+e+")",d}e.exports=a}),null);
__d("FeedbackReactionTypeNames",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({0:"NONE",1:"LIKE",2:"LOVE",3:"WOW",4:"HAHA",5:"YAY",6:"OUCH",7:"SORRY",8:"ANGER",9:"JACKO",10:"CONFUSED",11:"DOROTHY",12:"TOTO",13:"SELFIE",14:"FLAME",15:"PLANE"})}),null);
__d("ReactionIconClassNamesLegacy",["cx"],(function(a,b,c,d,e,f,g){"use strict";e.exports={root:"_9zc",icon:"_2p78",reactions:{like:"_3j7l",love:"_3j7m",anger:"_3j7q",wow:"_3j7n",haha:"_3j7o",sorry:"_3j7r",yay:"_3j7p",confused:"_3j7s",dorothy:"_3rya",toto:"_4aou",flame:"_3qr6",plane:"_4vps"},sizes:{14:"_9-y",16:"_9--",18:"_19kl",48:"_9-_",96:"_9_0"}}}),null);
__d("UFI2ActionLink.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.children,d=a.linkClassName,e=a.enabled;a=a.showIcon;return b("React").createElement("span",{className:"_18vi"},c({className:b("joinClasses")((e?"":"_6dc1")+" _18vj"+(a?" _18vk":""),d)}))}a.defaultProps={enabled:!0,showIcon:!0};e.exports=a}),null);
__d("UFIReactionIconImpl.react",["cx","FeedbackReactionTypeNames","React","joinClasses","requireCond","cr:827457"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a){return a.className!==this.props.className||a.reaction!==this.props.reaction||a.size!==this.props.size||a.grayscale!==this.props.grayscale};d.renderImage=function(){var a=b("cr:827457"),c=b("FeedbackReactionTypeNames")[this.props.reaction].toLowerCase();return b("React").createElement("i",{className:b("joinClasses")(a.reactions[c],a.icon,a.sizes[this.props.size],(this.props.grayscale?"_pxi":"")+" _hly")})};d.render=function(){var a=b("cr:827457");return b("React").createElement("span",{className:b("joinClasses")(a.root,a.sizes[this.props.size],this.props.className,"_3uet _4e-m")},this.renderImage())};return c}(b("React").Component);a.defaultProps={className:null,grayscale:!1,size:"16"};e.exports=a}),null);
__d("UFI2ReactionIcon.react",["cx","React","UFIReactionIconImpl.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React").useEffect,i=b("React").useRef;function a(a){var c=a.shouldAnimateOnFirstRender,d=a.shouldAnimateOnReactionChange,e=babelHelpers.objectWithoutPropertiesLoose(a,["shouldAnimateOnFirstRender","shouldAnimateOnReactionChange"]),f=i(!1);h(function(){f.current=!0});c=!f.current&&c||f.current&&d;return b("React").createElement(b("UFIReactionIconImpl.react"),babelHelpers["extends"]({},e,{className:b("joinClasses")(c?"_74ac":"",a.className),key:c?a.reaction:void 0}))}e.exports=a}),null);
__d("UFI2ReactionUtils",["UFIReactionTypes"],(function(a,b,c,d,e,f){"use strict";a={checkReactionKey:function(a){return a&&!b("UFIReactionTypes").reactions[a]?0:a||0}};e.exports=a}),null);
__d("UFICommonInteractionEvents",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({UFI_OPTIMISTIC_COMMENT:"UFIOptimisticComment",UFI_PERSISTED_COMMENT:"UFIPersistedComment",UFI2_OPTIMISTIC_COMMENT:"UFI2OptimisticComment",UFI2_PERSISTED_COMMENT:"UFI2PersistedComment",UFI2_OPTIMISTIC_COMMENT_EDIT:"UFI2OptimisticCommentEdit",UFI2_PERSISTED_COMMENT_EDIT:"UFI2PersistedCommentEdit",UFI_TOP_LEVEL_COMMENTS_PAGINATION:"UFITopLevelCommentsPagination",UFI2_TOP_LEVEL_COMMENTS_PAGINATION:"UFI2TopLevelCommentsPagination",UFI2_REPLY_COMMENTS_PAGINATION:"UFI2ReplyCommentsPagination",UFI_SHARE_DIALOG_OPENS:"UFIShareDialogOpens",UFI2_SHARE_DIALOG_OPENS:"UFI2ShareDialogOpens",UFI_COMPOSER_INPUT_FOCUS:"UFIComposerInputFocus",UFI_STORY_REACTION:"UFIStoryReaction",UFI_COMMENT_REACTION:"UFICommentReaction",UFI2_STORY_REACTION:"UFI2StoryReaction",UFI2_COMMENT_REACTION:"UFI2CommentReaction",UFI_COMPOSER_KEYPRESS_LATENCY:"UFIComposerKeypressLatency",UFI2_COMPOSER_KEYPRESS_LATENCY:"UFI2ComposerKeypressLatency"});e.exports=a}),null);
__d("UFICommonInteractionLogger",["Bootloader","EventProfiler","UFICommonInteractionEvents","UfiQuickLogModule","performanceAbsoluteNow","requestAnimationFrameAcrossTransitions","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return"click"}var h=new Map(),i=0;function j(){return b("uuid")()}function a(a,c){__p&&__p();var d=b("performanceAbsoluteNow")();c=c||j();var e=b("EventProfiler").markManualStart([a],g(a),d),f=l(a),k;if(f){var m=i++;k={event:f,markerKey:m};b("Bootloader").loadModules(["QuickPerformanceLogger"],function(a){a.markerStart(f,m,d)},"UFICommonInteractionLogger")}h.set(c,{manualInstrumentation:e,startTimestamp:d,qplInfo:k});return c}function c(a){b("requestAnimationFrameAcrossTransitions")(function(){k(a)},{priority:b("requestAnimationFrameAcrossTransitions").Priorities.DISPLAY_DONE_LOGGING})}function k(a){__p&&__p();var c=h.get(a);if(c){var d=c.manualInstrumentation,e=c.qplInfo;h["delete"](a);d.markManualEnd();if(e){var f=b("performanceAbsoluteNow")();b("Bootloader").loadModules(["QuickPerformanceLogger","QuickLogActionType"],function(a,b){a.markerEnd(e.event,b.SUCCESS,e.markerKey,f)},"UFICommonInteractionLogger")}}}function l(a){__p&&__p();switch(a){case b("UFICommonInteractionEvents").UFI_OPTIMISTIC_COMMENT:return b("UfiQuickLogModule").UFI_OPTIMISTIC_COMMENT;case b("UFICommonInteractionEvents").UFI_PERSISTED_COMMENT:return b("UfiQuickLogModule").UFI_PERSISTED_COMMENT;case b("UFICommonInteractionEvents").UFI2_OPTIMISTIC_COMMENT:return b("UfiQuickLogModule").UFI2_OPTIMISTIC_COMMENT;case b("UFICommonInteractionEvents").UFI2_PERSISTED_COMMENT:return b("UfiQuickLogModule").UFI2_PERSISTED_COMMENT;case b("UFICommonInteractionEvents").UFI2_OPTIMISTIC_COMMENT_EDIT:return b("UfiQuickLogModule").UFI2_OPTIMISTIC_COMMENT_EDIT;case b("UFICommonInteractionEvents").UFI2_PERSISTED_COMMENT_EDIT:return b("UfiQuickLogModule").UFI2_PERSISTED_COMMENT_EDIT;case b("UFICommonInteractionEvents").UFI_TOP_LEVEL_COMMENTS_PAGINATION:return b("UfiQuickLogModule").UFI_TOP_LEVEL_COMMENTS_PAGINATION;case b("UFICommonInteractionEvents").UFI2_TOP_LEVEL_COMMENTS_PAGINATION:return b("UfiQuickLogModule").UFI2_TOP_LEVEL_COMMENTS_PAGINATION;case b("UFICommonInteractionEvents").UFI2_REPLY_COMMENTS_PAGINATION:return b("UfiQuickLogModule").UFI2_REPLY_COMMENTS_PAGINATION;case b("UFICommonInteractionEvents").UFI_SHARE_DIALOG_OPENS:return b("UfiQuickLogModule").UFI_SHARE_DIALOG_OPENS;case b("UFICommonInteractionEvents").UFI2_SHARE_DIALOG_OPENS:return b("UfiQuickLogModule").UFI2_SHARE_DIALOG_OPENS;case b("UFICommonInteractionEvents").UFI_COMPOSER_INPUT_FOCUS:return b("UfiQuickLogModule").UFI_COMPOSER_INPUT_FOCUS;case b("UFICommonInteractionEvents").UFI_STORY_REACTION:return b("UfiQuickLogModule").UFI_STORY_REACTION;case b("UFICommonInteractionEvents").UFI_COMMENT_REACTION:return b("UfiQuickLogModule").UFI_COMMENT_REACTION;case b("UFICommonInteractionEvents").UFI2_STORY_REACTION:return b("UfiQuickLogModule").UFI2_STORY_REACTION;case b("UFICommonInteractionEvents").UFI2_COMMENT_REACTION:return b("UfiQuickLogModule").UFI2_COMMENT_REACTION;case b("UFICommonInteractionEvents").UFI_COMPOSER_KEYPRESS_LATENCY:return b("UfiQuickLogModule").UFI_COMPOSER_KEYPRESS_LATENCY;case b("UFICommonInteractionEvents").UFI2_COMPOSER_KEYPRESS_LATENCY:return b("UfiQuickLogModule").UFI2_COMPOSER_KEYPRESS_LATENCY;default:return null}}e.exports={startInteraction:a,endInteraction:k,endInteractionAtEndOfFrame:c,makeTrackingID:j}}),null);
__d("UFI2ReactionLink.react",["cx","fbt","Bootloader","Event","React","ReactDOM","RelayModern","UFI2FeedbackReactMutation","UFI2ReactionUtils","UFICommonInteractionLogger","UFIReactionTypes","addFocusEvents","clearTimeout","collectDataAttributes","emptyFunction","getCommentCreateMutationPropertiesFromTrackingData","ifRequired","injectSubscriptionsHandler.react","joinClasses","nullthrows","setTimeoutAcrossTransitions","UFI2ReactionLink_feedback.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var i=b("UFIReactionTypes").reactions,j=20,k="ontouchstart"in window,l=500,m=b("addFocusEvents")("a"),n=!1;function o(a){if(a==null)return null;a=b("UFIReactionTypes").ordering.indexOf(a);if(a!==-1){a=b("UFIReactionTypes").ordering[a];return a}return null}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.$4=null,d.$7=b("React").createRef(),d.state={UFI2ReactionsMenu:b("ifRequired")("UFI2ReactionsMenu",function(a){return a}),hasPreviouslyShownMenu:!1,isLongPressing:!1,isScrubbing:!1,isTouchDown:!1,showMenu:!1},d.$8=function(a,c){var e=d.$7.current;e=b("ReactDOM").findDOMNode(e);return e?b("collectDataAttributes")(e,a,c):null},d.$10=!!b("ifRequired")("UFI2ReactionsMenu",function(){return!0}),d.$12=function(a,c){__p&&__p();var e;c=d.props;var f=c.feedback,g=c.feedbackSource,h=c.relay.environment;c=c.useDefaultActor;var i=b("nullthrows")(f.id);e=b("nullthrows")((e=f.viewer_current_actor)==null?void 0:e.id);d.$1&&d.$1.dispose();i=babelHelpers["extends"]({feedback_id:i,feedback_reaction:a,feedback_source:g},b("getCommentCreateMutationPropertiesFromTrackingData")(d.$8));d.props.mutationInputAugmenter&&(i=d.props.mutationInputAugmenter(i));d.$1=b("UFI2FeedbackReactMutation").commit({actorID:e,environment:h,feedbackArg:f,input:i,useDefaultActor:c});d.setState({isScrubbing:!1,showMenu:!1})},d.$13=function(a){var c,e;d.props.interactionEvent&&(e=b("UFICommonInteractionLogger").startInteraction(d.props.interactionEvent));c=(c=d.props.feedback.viewer_feedback_reaction_info)==null?void 0:c.key;c=b("UFI2ReactionUtils").checkReactionKey(c);c=c?b("UFIReactionTypes").NONE:b("UFIReactionTypes").LIKE;e!=null&&(d.$5={newReactionKey:c,trackingID:e});d.$12(c,a)},d.$14=function(a){d.state.isTouchDown&&a.preventDefault()},d.$16=function(a){b("clearTimeout")(d.$4)},d.$17=function(a){b("clearTimeout")(d.$4)},d.$18=function(){d.$19=!0,d.$11(),d.$20()},d.$21=function(){n=!0,d.$18()},d.$22=function(a){b("clearTimeout")(d.$4),d.state.showMenu||(d.$4=b("setTimeoutAcrossTransitions")(d.$20,d.props.showDelay)),d.$11()},d.$23=function(a){b("clearTimeout")(d.$4),d.state.showMenu&&(d.$4=b("setTimeoutAcrossTransitions")(d.$24,d.props.hideDelay))},d.$25=function(a){d.state.showMenu||(d.$6=b("setTimeoutAcrossTransitions")(function(){d.setState({hasPreviouslyShownMenu:!0,isLongPressing:!0,showMenu:!0})},l),d.$11()),d.setState({isLongPressing:!1,isTouchDown:!0})},d.$26=function(a){d.$2=null,d.$3=null,b("clearTimeout")(d.$6),d.setState({isLongPressing:!1,isTouchDown:!1})},d.$27=function(a){__p&&__p();if(d.state.isScrubbing)return;a=a.touches[0];var b=a.clientX;a=a.clientY;if(d.$2===null&&d.$3===null){d.$2=b;d.$3=a;return}typeof d.$2==="number"&&typeof d.$3==="number"&&(d.$2>b+j||d.$2<b-j||d.$3>a+j||d.$3<a-j)&&d.setState({isScrubbing:!0})},d.$24=function(){d.setState({isScrubbing:!1,showMenu:!1})},d.$20=function(){d.setState({hasPreviouslyShownMenu:!0,showMenu:!0})},d.$19=!1,c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$9=function(){var a;return((a=this.props.feedback.supported_reactions)!=null?a:[]).map(function(a){return o(a.key)}).filter(Boolean)};d.$11=function(){var a=this;this.$10||(this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules(["UFI2ReactionsMenu"],function(b){a.setState({UFI2ReactionsMenu:b})},"UFI2ReactionLink.react")),this.$10=!0)};d.$15=function(a){a.preventDefault()};d.componentWillUnmount=function(){b("clearTimeout")(this.$4)};d.componentDidUpdate=function(a,c){__p&&__p();var d=this;a=this.$5;if(a){var e;e=(e=this.props.feedback)==null?void 0:(e=e.viewer_feedback_reaction_info)==null?void 0:e.key;e=b("UFI2ReactionUtils").checkReactionKey(e);e===a.newReactionKey&&(b("UFICommonInteractionLogger").endInteraction(a.trackingID),this.$5=null)}if(!c.showMenu&&this.state.showMenu){if(k){var f;this.props.subscriptionsHandler.addSubscriptions(b("Event").listen(document.documentElement,"touchstart",function(a){f=a.touches[0]}),b("Event").listen(document.documentElement,"touchmove",function(a){f=a.touches[0]}),b("Event").listen(document.documentElement,"touchend",function(a){f&&d.refs&&d.refs.root&&d.refs.root.contains&&!d.refs.root.contains(document.elementFromPoint(f.clientX,f.clientY))&&d.setState({isScrubbing:!1,showMenu:!1})}))}}else c.showMenu&&!this.state.showMenu&&(this.props.subscriptionsHandler.release(),this.props.subscriptionsHandler.engage())};d.render=function(){__p&&__p();var a,c=this.state.UFI2ReactionsMenu;a=(a=this.props.feedback.viewer_feedback_reaction_info)==null?void 0:a.key;a=b("UFI2ReactionUtils").checkReactionKey(a);var d,e;if(!a)d=i[b("UFIReactionTypes").LIKE].display_name;else{var f=i[a],g=f.display_name;f=f.color;d=g;e=f}g=c!=null&&this.state.hasPreviouslyShownMenu?b("React").createElement(c,{allowKeyboardFocus:this.$19,initialReaction:a,isLongPressing:this.state.isLongPressing,isScreenReader:n,onBlur:this.$24,onFocus:this.$20,onMouseEnter:this.$16,onMouseLeave:this.$23,onReactionClick:this.$12,onReactionMouseEnter:b("emptyFunction"),onReactionMouseLeave:b("emptyFunction"),shown:this.state.showMenu,supportedReactions:this.$9()}):null;return b("React").createElement("div",{ref:"root"},b("React").createElement(m,{"aria-pressed":!!a,className:b("joinClasses")((a?"_3_16":"")+" _6a-y",this.props.className),"data-testid":"UFI2ReactionLink",href:"#",onClick:this.$13,onContextMenu:this.$14,onDragStart:this.$15,onKeyboardFocus:this.$18,onMouseDown:this.$17,onMouseEnter:this.$22,onMouseLeave:this.$23,onTouchEnd:k?this.$26:null,onTouchMove:k?this.$27:null,onTouchStart:k?this.$25:null,ref:this.$7,role:"button",style:{color:e},tabIndex:this.state.hasPreviouslyShownMenu?-1:0},this.props.children,d),c==null?b("React").createElement("button",{className:"accessible_elem",onClick:this.$21,tabIndex:-1,type:"button"},h._("Show more reactions")):null,g)};return c}(b("React").Component);c.displayName="UFI2ReactionLink";e.exports=a(b("injectSubscriptionsHandler.react")(c),{feedback:function(){return b("UFI2ReactionLink_feedback.graphql")}})}),null);
__d("UFI2ReactionActionLink.react",["ix","cx","Bootloader","Image.react","React","RelayModern","Run","UFI2ActionLink.react","UFI2ReactionIcon.react","UFI2ReactionLink.react","UFI2ReactionUtils","UFICommonInteractionEvents","UFIReactionTypes","asset","joinClasses","UFI2ReactionActionLink_feedback.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var i=525,j=750,k=null,l=!1,m=function(){__p&&__p();if(l)return;var a=b("Run").onAfterLoad(function(){if(l)return;l=!0;b("Bootloader").loadModules(["UFIReactionsAnimatedLikeActionIcon.react"],function(b){k=b,a.remove()},"UFI2ReactionActionLink.react")});b("Run").onLeave(function(){a.remove()})};function n(a){a=(a=a.feedback)==null?void 0:(a=a.viewer_feedback_reaction_info)==null?void 0:a.key;a=b("UFI2ReactionUtils").checkReactionKey(a);return a}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,c.state={canAnimateLikeIcon:!1},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.props.enableAnimations===!0&&m(),this.$1=n(this.props)};d.componentDidUpdate=function(){this.$1=n(this.props)};c.getDerivedStateFromProps=function(a,b){a=n(a);if(b.oldReactionKey==null)return{oldReactionKey:a};else if(b.oldReactionKey!=a)return{canAnimateLikeIcon:!0,oldReactionKey:a};return null};d.shouldAnimateLikeIcon=function(){return this.state.canAnimateLikeIcon&&this.props.enableAnimations===!0};d.render=function(){var a=this.props,c=a.className,d=a.feedback,e=a.feedbackSource,f=a.mutationInputAugmenter,h=a.reactionIconClassName,l=a.useDefaultActor;a=n(this.props);var m;!a?m=b("React").createElement(b("Image.react"),{className:b("joinClasses")("_6rk2",this.props.reactionIconClassName),src:this.props.inverse===!0?this.props.filled===!0?g("352555"):g("352559"):g("347022")}):a!==b("UFIReactionTypes").LIKE?m=b("React").createElement(b("UFI2ReactionIcon.react"),{className:b("joinClasses")("_2lk8",h),grayscale:!1,reaction:a,shouldAnimateOnFirstRender:Boolean(this.props.enableAnimations)&&(this.$1===b("UFIReactionTypes").NONE||this.$1===b("UFIReactionTypes").LIKE),shouldAnimateOnReactionChange:Boolean(this.props.enableAnimations),size:"18"}):this.shouldAnimateLikeIcon()&&k!=null?m=b("React").createElement(k,{className:b("joinClasses")("_6rk1",this.props.reactionIconClassName)}):m=b("React").createElement(b("Image.react"),{className:b("joinClasses")("_6rk2",this.props.reactionIconClassName),src:g("347019")});return b("React").createElement(b("UFI2ActionLink.react"),{showIcon:!m},function(a){a=a.className;return b("React").createElement("div",{className:"_666k","data-testid":"UFI2ReactionLink/actionLink"},b("React").createElement(b("UFI2ReactionLink.react"),{className:b("joinClasses")("_3l2t",a,c),feedback:d,feedbackSource:e,hideDelay:j,interactionEvent:b("UFICommonInteractionEvents").UFI2_STORY_REACTION,mutationInputAugmenter:f,showDelay:i,useDefaultActor:l},m))})};return c}(b("React").Component);c.displayName="UFI2ReactionActionLink";e.exports=a(c,{feedback:function(){return b("UFI2ReactionActionLink_feedback.graphql")}})}),null);
__d("UFI2ReactionsLinkStandalone.react",["FBLogger","FeedbackReactionType","React","ReactDOM","RelayAPIConfig","RelayModern","RelayUFI2Environment","UFI2ReactionActionLink.react","UFIVideoPlayerRegistry","XUISpinner.react","UFI2ReactionsLinkStandaloneQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(a){__p&&__p();var c=a.error;a=a.props;if(c)return null;if(a==null)return b("React").createElement(b("XUISpinner.react"),{className:d.props.spinnerClassName,size:"small"});var e=a.feedback;if(!e){b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",d.props.queryVariables.feedbackTargetID||"UNKNOWN").mustfix("Query is missing feedback data.");return null}return b("React").createElement(b("UFI2ReactionActionLink.react"),{className:d.props.className,feedback:e,feedbackSource:d.props.feedbackSource,filled:!0,inverse:d.props.inverse,mutationInputAugmenter:function(a){return d.$1(e,a)},reactionIconClassName:d.props.reactionIconClassName,useDefaultActor:!0})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a,c){if(c.feedback_reaction===b("FeedbackReactionType").NONE)return c;var d=this.$2(a);if(d!=null){return babelHelpers["extends"]({},c,{time_anchor:{time:d,type:((d=a.parent_object_ent)==null?void 0:d.is_live_streaming)===!0?"LIVE_VIDEO":"ON_DEMAND_VIDEO"}})}return c};d.$2=function(a){a=(a=a.parent_object_ent)==null?void 0:a.id;var c=b("ReactDOM").findDOMNode(this);if(a==null||!(c instanceof Element))return;c=b("UFIVideoPlayerRegistry").getAvailableVideoPlayerControllerTimeForElement(c,a);if(c==null)return;return Math.floor(c)};d.render=function(){var a=this.props.queryVariables;return b("React").createElement(g,{dataFrom:"STORE_THEN_NETWORK",environment:b("RelayUFI2Environment").forActor(b("RelayAPIConfig").actorID),query:c.query,render:this.$3,variables:babelHelpers["extends"]({},a)})};return c}(b("React").Component);a.query=function(){return b("UFI2ReactionsLinkStandaloneQuery.graphql")};e.exports=a}),null);
__d("UFI2ReactionsLinkStandaloneWhenVisible.react",["OnVisible.react","React","UFI2ReactionsLinkStandalone.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={wasEverVisible:!1},c.$1=function(){c.setState({wasEverVisible:!0})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return this.state.wasEverVisible?b("React").createElement(b("UFI2ReactionsLinkStandalone.react"),this.props):b("React").createElement(b("OnVisible.react"),{onVisible:this.$1},b("React").createElement("div",null))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("UFIReactionsProfileBrowserUtils",["ActorURIConfig","XUFIReactionProfileBrowserController","XUFIReactionProfileDialogController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={getDialogURI:function(a){var c=a.actorID,d=a.feedbackTargetID;a=a.reactionKey;return b("XUFIReactionProfileDialogController").getURIBuilder().setString("ft_ent_identifier",d).setEnum("reaction_type",a).getURI().addQueryData(b("ActorURIConfig").PARAMETER_ACTOR,c)},getPageURI:function(a){var c=a.actorID;a=a.feedbackTargetID;return b("XUFIReactionProfileBrowserController").getURIBuilder().setString("ft_ent_identifier",a).getURI().addQueryData(b("ActorURIConfig").PARAMETER_ACTOR,c)},getPrimerProps:function(a){var b=g.getPageURI(a);a=g.getDialogURI(a);return{ajaxify:a,href:b,rel:"dialog"}}};e.exports=g}),null);
__d("scrollTo",["debounce"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){__p&&__p();var c=a.onScrollComplete,d=babelHelpers.objectWithoutPropertiesLoose(a,["onScrollComplete"]);try{window.scrollTo(d)}catch(b){window.scrollTo(a.top,a.left)}var e,f=!1;c!=null&&(e=b("debounce")(function(){f=!0,window.removeEventListener("scroll",e),c()},42),window.addEventListener("scroll",e,{passive:!0}));return{dispose:function(){if(f)return;e&&e.reset();window.removeEventListener("scroll",e);window.scrollTo(window.pageYOffset)}}}}),null);
__d("scrollIntoView",["emptyFunction","recoverableViolation","scrollTo"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){__p&&__p();c===void 0&&(c=Object.freeze({}));var d=c,e=d.behavior;e=e===void 0?"auto":e;d=d.onScrollComplete;a=a.getBoundingClientRect();if(document.documentElement==null){b("recoverableViolation")("There is no documentElement accessible on document, something is seriously wrong and I couldn't imagine the situation you have found yourself in","comet");return{dispose:b("emptyFunction")}}var f=document.documentElement.clientHeight;if(a.top<=f&&a.bottom>=0){d!=null&&d();return{dispose:b("emptyFunction")}}c=(c=c.verticalAlign)!=null?c:"closest";c==="closest"&&(a.top>=f?c="bottom":c="top");var g;switch(c){case"top":g=window.pageYOffset+a.top;break;case"bottom":g=window.pageYOffset+a.bottom-f;break;case"center":g=window.pageYOffset+a.bottom-f+(f-a.height)/2;break}return b("scrollTo")({behavior:e,top:g,onScrollComplete:d})}e.exports=a}),null);
__d("UFI2SurfaceContainerContext",["FBLogger","JSResource","React","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("lazyLoadComponent")(b("JSResource")("FeedStoryUFICommentActionLinks.react").__setRef("UFI2SurfaceContainerContext")),h=b("lazyLoadComponent")(b("JSResource")("FeedStoryUFICommentActorLinkBadges.react").__setRef("UFI2SurfaceContainerContext")),i=b("lazyLoadComponent")(b("JSResource")("UFI2CommentActorName.react").__setRef("UFI2SurfaceContainerContext")),j=b("lazyLoadComponent")(b("JSResource")("FeedStoryUFICommentAttachments.react").__setRef("UFI2SurfaceContainerContext")),k=b("lazyLoadComponent")(b("JSResource")("FeedStoryUFICommentBody.react").__setRef("UFI2SurfaceContainerContext")),l=b("lazyLoadComponent")(b("JSResource")("UFI2ProfileLink.react").__setRef("UFI2SurfaceContainerContext")),m=new Set(),n=function(a){var c=a.children;a=a.componentName;m.has(a)||(b("FBLogger")("ufi2").mustfix("UFI2SurfaceContainerContext: Tried to render a %s without providing a parent context. To provide context, wrap in a context provider, e.g. <UFI2SurfaceContainerContext.Provider value={context} />",a),m.add(a));return b("React").createElement(b("React").Suspense,{fallback:null,maxDuration:500},c)};a=b("React").createContext({CommentActionLinksComponent:function(a){return b("React").createElement(n,{componentName:"UFI2CommentActionLinksDynamic"},b("React").createElement(g,a))},CommentActorLinkBadgesComponent:function(a){return b("React").createElement(n,{componentName:"UFI2CommentActorLinkBadgesDynamic"},b("React").createElement(h,a))},CommentActorNameComponent:function(a){return b("React").createElement(n,{componentName:"UFI2CommentActorNameDynamic"},b("React").createElement(i,a))},CommentAttachmentComponent:function(a){return b("React").createElement(n,{componentName:"UFI2CommentAttachmentsDynamic"},b("React").createElement(j,a))},CommentBodyComponent:function(a){return b("React").createElement(n,{componentName:"UFI2CommentBodyDynamic"},b("React").createElement(k,a))},ProfileLinkComponent:function(a){return b("React").createElement(n,{componentName:"UFI2ProfileLinkDynamic"},b("React").createElement(l,a))},containerMapping:{containerIsFeedStory:!0,containerIsLiveStory:!1,containerIsTahoe:!1,containerIsWorkplace:!1}});e.exports=a}),null);
__d("UFI2SurfaceContainerConsumer.react",["invariant","React","UFI2SurfaceContainerContext"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return b("React").createElement(b("UFI2SurfaceContainerContext").Consumer,null,function(b){b!=null||g(0,493);var c=a.props.children;return c(b)})};return c}(b("React").Component);e.exports=a}),null);
__d("UFI2CommentActionLinksDynamic.react",["FBLogger","React","RelayModern","UFI2SurfaceContainerConsumer.react","UFI2CommentActionLinksDynamic_comment.graphql","UFI2CommentActionLinksDynamic_feedback.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var g=!1;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.comment,d=a.feedback,e=babelHelpers.objectWithoutPropertiesLoose(a,["comment","feedback"]);return b("React").createElement("div",null,b("React").createElement(b("UFI2SurfaceContainerConsumer.react"),null,function(a){a=a.CommentActionLinksComponent;if(!a){g||(b("FBLogger")("ufi2").mustfix("UFI2CommentActionLinksDynamic: Tried to render without providing a Component for CommentActionLinksComponent via UFI2SurfaceContainerContext."),g=!0);return null}return b("React").createElement(a,babelHelpers["extends"]({},e,{comment:c,feedback:d}))}))};return c}(b("React").Component);e.exports=a(c,{comment:function(){return b("UFI2CommentActionLinksDynamic_comment.graphql")},feedback:function(){return b("UFI2CommentActionLinksDynamic_feedback.graphql")}})}),null);
__d("UFI2CommentActorLinkBadgesDynamic.react",["FBLogger","React","RelayModern","UFI2SurfaceContainerConsumer.react","UFI2CommentActorLinkBadgesDynamic_comment.graphql","UFI2CommentActorLinkBadgesDynamic_feedback.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var g=!1;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.comment,d=a.feedback;return b("React").createElement(b("UFI2SurfaceContainerConsumer.react"),null,function(a){a=a.CommentActorLinkBadgesComponent;if(!a){g||(b("FBLogger")("ufi2").mustfix("UFI2CommentActorLinkBadgesDynamic: Tried to render without providing a Component for CommentActorLinkBadgesComponent via UFI2SurfaceContainerContext."),g=!0);return null}return b("React").createElement(a,{comment:c,feedback:d})})};return c}(b("React").Component);e.exports=a(c,{comment:function(){return b("UFI2CommentActorLinkBadgesDynamic_comment.graphql")},feedback:function(){return b("UFI2CommentActorLinkBadgesDynamic_feedback.graphql")}})}),null);
__d("UFI2CommentActorNameDynamic.react",["FBLogger","React","RelayModern","UFI2SurfaceContainerConsumer.react","UFI2CommentActorNameDynamic_author.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var g=!1;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.author,d=babelHelpers.objectWithoutPropertiesLoose(a,["author"]);return b("React").createElement(b("UFI2SurfaceContainerConsumer.react"),null,function(a){a=a.CommentActorNameComponent;if(!a){g||(b("FBLogger")("ufi2").mustfix("UFI2CommentActorNameDynamic: Tried to render without providing a Component for CommentActorNameComponent via UFI2SurfaceContainerContext."),g=!0);return null}return b("React").createElement(a,babelHelpers["extends"]({},d,{author:c}))})};return c}(b("React").Component);e.exports=a(c,{author:function(){return b("UFI2CommentActorNameDynamic_author.graphql")}})}),null);
__d("UFI2CommentAttachmentsDynamic.react",["FBLogger","React","RelayModern","UFI2SurfaceContainerConsumer.react","UFI2CommentAttachmentsDynamic_comment.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var g=!1;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=this.props,d=c.comment,e=c.feedbackSource;return b("React").createElement("div",null,b("React").createElement(b("UFI2SurfaceContainerConsumer.react"),null,function(c){c=c.CommentAttachmentComponent;if(!c){g||(b("FBLogger")("ufi2").mustfix("UFI2CommentAttachmentsDynamic: Tried to render without providing a Component for CommentAttachmentComponent via UFI2SurfaceContainerContext."),g=!0);return null}return b("React").createElement(c,{comment:d,feedbackSource:e,storyRenderLocation:a.props.storyRenderLocation})}))};return c}(b("React").Component);e.exports=a(c,{comment:function(){return b("UFI2CommentAttachmentsDynamic_comment.graphql")}})}),null);
__d("UFI2CommentBodyDynamic.react",["FBLogger","React","RelayModern","UFI2SurfaceContainerConsumer.react","UFI2CommentBodyDynamic_comment.graphql","UFI2CommentBodyDynamic_feedback.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var g=!1;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.comment,d=a.feedback,e=babelHelpers.objectWithoutPropertiesLoose(a,["comment","feedback"]);return b("React").createElement("div",null,b("React").createElement(b("UFI2SurfaceContainerConsumer.react"),null,function(a){a=a.CommentBodyComponent;if(!a){g||(b("FBLogger")("ufi2").mustfix("UFI2CommentBodyDynamic: Tried to render without providing a Component for CommentBodyComponent via UFI2SurfaceContainerContext."),g=!0);return null}return b("React").createElement(a,babelHelpers["extends"]({},e,{comment:c,feedback:d}))}))};return c}(b("React").Component);e.exports=a(c,{comment:function(){return b("UFI2CommentBodyDynamic_comment.graphql")},feedback:function(){return b("UFI2CommentBodyDynamic_feedback.graphql")}})}),null);
__d("UFI2LinkWrapper.react",["requireCond","cr:827572"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:827572")}),null);
__d("UFI2ProfileLinkDynamic.react",["FBLogger","React","UFI2SurfaceContainerConsumer.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=!1;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this;return b("React").createElement(b("UFI2SurfaceContainerConsumer.react"),null,function(c){c=c.ProfileLinkComponent;if(!c){g||(b("FBLogger")("ufi2").mustfix("UFI2ProfileLinkDynamic: Tried to render without providing a Component for ProfileLinkComponent via UFI2SurfaceContainerContext."),g=!0);return null}return b("React").createElement(c,a.props)})};return c}(b("React").Component);e.exports=a}),null);
__d("UFI2SurfaceContainerProvider.react",["React","UFI2SurfaceContainerContext"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(b("UFI2SurfaceContainerContext").Provider,{value:this.props.providerValue},this.props.children)};return c}(b("React").Component);e.exports=a}),null);
__d("UFI2TooltipCometCompatWrapper.react",["requireCond","cr:850872"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:850872")}),null);
__d("UFI2BootloadedCommentPlaceInfoAttachment.react",["cx","JSResource","React","RelayModern","XUISpinner.react","lazyLoadComponent","UFI2BootloadedCommentPlaceInfoAttachment_attachment.graphql","UFI2BootloadedCommentPlaceInfoAttachment_comment.graphql","UFI2BootloadedCommentPlaceInfoAttachment_PageFragment.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var h=b("lazyLoadComponent")(b("JSResource")("UFI2CommentPlaceInfoAttachment.react").__setRef("UFI2BootloadedCommentPlaceInfoAttachment.react"));function a(a){var c,d;c=(c=a.attachment)==null?void 0:(c=c.target)==null?void 0:c.pending_places_for_attachment;d=(d=a.attachment)==null?void 0:(d=d.target)==null?void 0:(d=d.place_list_items)==null?void 0:d.nodes;if(!c&&!d)return null;c=(c==null?void 0:c.length)||0+(d==null?void 0:d.length)||0;d=c==0?90:88*c+34;c=b("React").createElement("div",{className:"_6su-",style:{height:d+"px"}},b("React").createElement(b("XUISpinner.react"),{size:"large"}));return b("React").createElement(b("React").Suspense,{fallback:c},b("React").createElement(h,a))}e.exports=c(a,{attachment:function(){return b("UFI2BootloadedCommentPlaceInfoAttachment_attachment.graphql")},comment:function(){return b("UFI2BootloadedCommentPlaceInfoAttachment_comment.graphql")}});(function(){return b("UFI2BootloadedCommentPlaceInfoAttachment_PageFragment.graphql")})}),null);
__d("UFI2CommentAttachmentContainer.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.children,d=a.className,e=a.height;a=a.width;return b("React").createElement("div",{className:b("joinClasses")("_2tx5",d)},b("React").createElement("div",{className:"_2txe"},c),b("React").createElement("div",{className:"_3fp0",style:{paddingBottom:(a?e/a*100:0)+"%",width:a}}))}e.exports=a}),null);
__d("UFI2CommentAnimatedImageAttachment.react",["ix","cx","FBLogger","Image.react","JSResource","React","RelayModern","UFI2CommentAttachmentContainer.react","UFI2LinkWrapper.react","UFI2ScaleRect","asset","ifRequired","isAnimatedWebPProbablySupported","lazyLoadComponent","requireCond","cr:709731","UFI2CommentAnimatedImageAttachment_attachment.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var i=b("lazyLoadComponent")(b("JSResource")("UFI2CommentAnimatedImageAttachmentPlayer.react").__setRef("UFI2CommentAnimatedImageAttachment.react")),j=b("lazyLoadComponent")(b("JSResource")("FeedAnimatedImageShare.react").__setRef("UFI2CommentAnimatedImageAttachment.react")),k=396;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=b("isAnimatedWebPProbablySupported")(b("ifRequired")("UserAgent",function(a){return a})),d.state={videoPlayerController:null},d.$2=function(a){d.state.videoPlayerController==null&&d.setState({videoPlayerController:a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){__p&&__p();var a,c,d,e=this.props.attachment.url,f=this.props.attachment.media;if(!f)return null;var g;this.$1?g=f.webPAnimatedImage_396||f.gifAnimatedImage_396:g=f.gifAnimatedImage_396;var h=f.image_396,l=f.id,m=f.playable_url;a=(a=g)==null?void 0:a.uri;var n=h==null?void 0:h.uri;c=(c=(c=g)==null?void 0:c.width)!=null?c:h==null?void 0:h.width;d=(d=(d=g)==null?void 0:d.height)!=null?d:h==null?void 0:h.height;if(!c||!d){b("FBLogger")("ufi2").addMetadata("UFI","RAW_DATA",JSON.stringify(g)||JSON.stringify(h)||"UNDEFINED").addMetadata("UFI","MEDIA_TYPE",f.__typename).addMetadata("UFI","ATTACHMENT_ID",l||"UNDEFINED").mustfix("Tried to render UFI2CommentAnimatedImageAttachment without a knownsize.");return null}if(a||l||n){g=b("UFI2ScaleRect").scaleToContain({gracefullyFallbackToMaxDimensionWhenHeightOrWidthIsZero:!0,maxHeight:k,maxWidth:k,srcHeight:d,srcWidth:c});h=g.height;d=g.width;return b("React").createElement(b("UFI2CommentAttachmentContainer.react"),{height:h,width:d},(!l||this.state.videoPlayerController)&&b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("div",null),maxDuration:1e3},b("React").createElement(j,{animatedSrc:a,autoplay:!0,className:"_6c7h",fbid:l,height:h,href:e,isPlayableInline:a!=null,overlayNode:this.$3(),staticSrc:n,videoController:this.state.videoPlayerController,videoElement:this.state.videoPlayerController&&this.state.videoPlayerController.getContainerNode(),width:d})),b("cr:709731")!=null&&m!=null&&l!=null?b("React").createElement(b("cr:709731"),{autoplay:!0,controls:!1,loop:!0,onUpdate:this.$2,placeholder:b("React").createElement(b("Image.react"),{height:h,src:n,width:d}),playableUrl:m,playerOrigin:"comment",subOrigin:"animated_image_share",videoID:l}):l&&b("React").createElement(b("React").Suspense,{fallback:b("React").createElement(b("Image.react"),{height:h,src:n,width:d}),maxDuration:1e3},b("React").createElement(i,{onVpcUpdate:this.$2,videoID:l})))}else{b("FBLogger")("ufi2").addMetadata("UFI","RAW_DATA",JSON.stringify(f)||"UNDEFINED").mustfix("Tried to render UFI2CommentAnimatedImageAttachment without an animatedImageURI or videoID.");return null}};d.$3=function(){var a,c=this.props.attachment,d=c.url;a=(a=c.media)==null?void 0:a.animated_image_attribution;c=(c=c.source)==null?void 0:c.text;return d?b("React").createElement(b("UFI2LinkWrapper.react"),{className:"_336k",href:d,rel:"noopener nofollow",target:"_blank"},b("React").createElement("div",{className:"_336m"},a||c),b("React").createElement(b("Image.react"),{className:"_336n",src:g("412470")})):null};return c}(b("React").Component);c.displayName="UFI2CommentAnimatedImageAttachment";e.exports=a(c,{attachment:function(){return b("UFI2CommentAnimatedImageAttachment_attachment.graphql")}})}),null);
__d("UFI2CommentAttachmentContentFilterBootloadPlaceholder.react",["cx","React","UFI2CommentAttachmentContainer.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.className,d=a.height;a=a.width;return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("UFI2CommentAttachmentContainer.react"),{className:b("joinClasses")("_6bk0",c),height:d,width:a},b("React").createElement("div",null)),b("React").createElement("div",{className:"_6bk2"}))}e.exports=a}),null);
__d("UFI2CommentDonationAttachment.react",["cx","React","RelayModern","TextWithEntities.react","linkifyEntityRange","UFI2CommentDonationAttachment_attachment.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;a=(a=this.props.attachment.style_infos[0])==null?void 0:a.donation_comment_text;return a!=null?b("React").createElement("div",{className:"_629t"},b("React").createElement(b("TextWithEntities.react"),{interpolator:b("linkifyEntityRange"),ranges:a.ranges,text:a.text})):null};return c}(b("React").Component);e.exports=a(c,{attachment:function(){return b("UFI2CommentDonationAttachment_attachment.graphql")}})}),null);
__d("UFI2CommentImageAttachment.react",["Image.react","JSResource","React","RelayModern","UFI2CommentAttachmentContainer.react","UFI2CommentAttachmentContentFilterBootloadPlaceholder.react","UFI2LinkWrapper.react","UFI2ScaleRect","lazyLoadComponent","UFI2CommentImageAttachment_attachment.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var g=b("lazyLoadComponent")(b("JSResource")("UFI2CommentAttachmentContentFilterContainer.react").__setRef("UFI2CommentImageAttachment.react"));function a(a){__p&&__p();var c,d,e,f,h,i=a.attachment,j=a.storyRenderLocation;c=(c=i.media)==null?void 0:(c=c.image)==null?void 0:c.uri;d=(d=i.media)==null?void 0:(d=d.image)==null?void 0:d.width;e=(e=i.media)==null?void 0:(e=e.image)==null?void 0:e.height;var k=i.url;f=(f=i.media)==null?void 0:f.accessibility_caption;h=(h=i.media)==null?void 0:h.objectionable_content_info;if(i&&c!==""&&c!=null&&k!==""&&k!=null&&d!=null&&e!=null){e=b("UFI2ScaleRect").scaleToContain({gracefullyFallbackToMaxDimensionWhenHeightOrWidthIsZero:!0,maxHeight:210,maxWidth:260,srcHeight:e,srcWidth:d});d=e.height;e=e.width;k=b("React").createElement(b("UFI2LinkWrapper.react"),{href:k,rel:"theater"},b("React").createElement(b("Image.react"),{alt:f,height:d,src:c,width:e}));return h?b("React").createElement(b("React").Suspense,{fallback:b("React").createElement(b("UFI2CommentAttachmentContentFilterBootloadPlaceholder.react"),{className:a.className,height:d,width:e}),maxDuration:1e3},b("React").createElement(g,{className:a.className,height:d,objectionableContentInfo:h,responsibleContentLocation:j,storyAttachment:i,type:"photo",width:e},k)):b("React").createElement(b("UFI2CommentAttachmentContainer.react"),{className:a.className,height:d,width:e},k)}return null}a.displayName="UFI2CommentImageAttachment";e.exports=c(a,{attachment:function(){return b("UFI2CommentImageAttachment_attachment.graphql")}})}),null);
__d("UFI2CommentLazyLoadAttachmentContainer.react",["React","RelayFBMatchContainer","RelayModern","UFI2CommentLazyLoadAttachmentContainer_attachment.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){var c=a.attachment;a.storyRenderLocation;a=c.style_type_renderer_blue;return a==null?null:b("React").createElement(b("React").Suspense,{fallback:""},b("React").createElement(b("RelayFBMatchContainer"),{match:a}))}e.exports=c(a,{attachment:function(){return b("UFI2CommentLazyLoadAttachmentContainer_attachment.graphql")}})}),null);
__d("UFI2CommentSticker.react",["JSResource","React","RelayModern","StickerType","UFI2ScaleRect","lazyLoadComponent","qex","UFI2CommentSticker_sticker.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var g=b("lazyLoadComponent")(b("JSResource")("Sticker.react").__setRef("UFI2CommentSticker.react"));function a(a){__p&&__p();var c=a.className;a=a.sticker;var d=b("qex")._("817685")&&a.sticker_type===b("StickerType").AVATAR,e=a.sprite_image,f=d?a.larger_sticker_image:a.sticker_image;if(f==null)return null;d=d?120:80;d=b("UFI2ScaleRect").scaleToContain({gracefullyFallbackToMaxDimensionWhenHeightOrWidthIsZero:!1,maxHeight:d,maxWidth:d,srcHeight:f.height||d,srcWidth:f.width||d});var h=d.height;d=d.width;var i=b("React").createElement("div",{style:{backgroundImage:"url("+(f.uri||"")+")",backgroundRepeat:"no-repeat",backgroundSize:d+"px "+h+"px",height:h,width:d}});return b("React").createElement(b("React").Suspense,{fallback:i,maxDuration:1e3},b("React").createElement(g,{accessibilityLabel:a.label,animationTrigger:"load_and_hover",className:c,frameCount:a.frame_count,frameRate:a.frame_rate,framesPerCol:a.frames_per_column,framesPerRow:a.frames_per_row,packName:(i=a.pack)==null?void 0:i.name,sourceHeight:h,sourceURI:f.uri,sourceWidth:d,spriteURI:e&&e.uri}))}a.displayName="UFI2CommentSticker";e.exports=c(a,{sticker:function(){return b("UFI2CommentSticker_sticker.graphql")}})}),null);
__d("UFI2CommentStickerAttachment.react",["FBLogger","React","RelayModern","UFI2CommentSticker.react","UFI2CommentStickerAttachment_attachment.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){a=a.attachment.sticker;if(a==null){b("FBLogger")("ufi2").mustfix("An attachment with the `sticker` style had a `null` media field. This should not be possible; investigate why.");return null}return b("React").createElement(b("UFI2CommentSticker.react"),{sticker:a})}a.displayName="UFI2CommentStickerAttachment";e.exports=c(a,{attachment:function(){return b("UFI2CommentStickerAttachment_attachment.graphql")}})}),null);
__d("UFI2CommentVideoAttachment.react",["FBLogger","Image.react","JSResource","React","RelayModern","UFI2CommentAttachmentContainer.react","UFI2CommentAttachmentContentFilterBootloadPlaceholder.react","UFI2ScaleRect","lazyLoadComponent","requireCond","cr:709731","UFI2CommentVideoAttachment_attachment.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var g=b("lazyLoadComponent")(b("JSResource")("UFI2CommentVideoAttachmentPlayer.react").__setRef("UFI2CommentVideoAttachment.react")),h=b("lazyLoadComponent")(b("JSResource")("UFI2CommentAttachmentContentFilterContainer.react").__setRef("UFI2CommentVideoAttachment.react")),i=414;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=b("React").createRef(),d.$2=b("React").createRef(),d.$3=function(a){var b=d.$1.current,c=d.$2.current,e="warning_screen_cover";b!=null?a?b.getController().pause(e):b.getController().play(e):c!=null&&(a?c.pause(e):c.play(e))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){__p&&__p();var a=this.props.attachment,c=a.media;if(!c){b("FBLogger")("ufi2").mustfix("An attachment with the `video` style had a `null` media field. This should not be possible; investigate why.");return null}var d=c.id,e=c.width,f=c.height,j=c.objectionable_content_info;if(a&&d!=null&&e!=null&&f!=null){f=b("UFI2ScaleRect").shrinkToContain({gracefullyFallbackToMaxDimensionWhenHeightOrWidthIsZero:!0,maxHeight:i,maxWidth:i,srcHeight:f,srcWidth:e});e=f.height;f=f.width;var k=c.original_width,l=c.original_height;l=k!=null&&l!=null?l>k:void 0;c=b("cr:709731")!=null&&c.playable_url!=null?b("React").createElement(b("cr:709731"),{autoplay:this.props.autoplay||!1,placeholder:b("React").createElement(b("Image.react"),{height:e,src:(k=c.image)==null?void 0:k.uri,width:f}),playableUrl:c.playable_url,playerOrigin:"comment",ref:this.$1,startMuted:!0,subOrigin:"ufi_comment_attachment",videoID:d}):b("React").createElement(b("React").Suspense,{fallback:b("React").createElement(b("Image.react"),{height:e,src:(k=c.image)==null?void 0:k.uri,width:f}),maxDuration:1e3},b("React").createElement(g,{autoplay:this.props.autoplay||!1,isPortrait:l,videoID:d,videoPlayerRef:this.$2}));return j?b("React").createElement(b("React").Suspense,{fallback:b("React").createElement(b("UFI2CommentAttachmentContentFilterBootloadPlaceholder.react"),{className:this.props.className,height:e,width:f}),maxDuration:1e3},b("React").createElement(h,{className:this.props.className,height:e,objectionableContentInfo:j,onCoverOrUncover:this.$3,responsibleContentLocation:this.props.storyRenderLocation,storyAttachment:a,type:"video",width:f},c)):b("React").createElement(b("UFI2CommentAttachmentContainer.react"),{className:this.props.className,height:e,width:f},c)}return null};return c}(b("React").Component);c.displayName="UFI2CommentVideoAttachment";e.exports=a(c,{attachment:function(){return b("UFI2CommentVideoAttachment_attachment.graphql")}})}),null);
__d("UFI2CommentArticleContext.react",["cx","fbt","Bootloader","IntegrityContextConfig","IntegrityContextEntryPointJSEnum","React","RelayModern","TrackingNodes","XArticleContextMainDialogController","tooltipPropsFor","uuid","UFI2CommentArticleContext_actionLink.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=b("uuid")(),d.$3=b("React").createRef(),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this,c=this.$3.current;c&&(this.$2=b("Bootloader").loadModules(["IntegrityContextTriggerLoggerManager"],function(b){a.$4=b.initLogger({loggerID:a.$1,triggerLinkElem:c,triggerRootElem:c})},"UFI2CommentArticleContext.react"))};d.componentWillUnmount=function(){this.$2&&this.$2.remove(),this.$4&&this.$4.destroy()};d.render=function(){var a=b("IntegrityContextConfig").tooltipFBT;a=a?b("tooltipPropsFor")(a,"above","right"):{};var c=this.props,d=c.actionLink;c=c.title;c=c!=null?h._("Show more information about {name of article title}",[h._param("name of article title",c)]):h._("Show more information");return b("React").createElement("a",babelHelpers["extends"]({},a,{ajaxify:b("XArticleContextMainDialogController").getURIBuilder().setFBID("share_id",d.object_id).setString("trigger_log_id",this.$1).setEnum("entry_type",b("IntegrityContextEntryPointJSEnum").NEWS_FEED_LEARN_MORE).getURI(),"aria-label":c,className:"_3w8w","data-ft":b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.ARTICLE_CONTEXT_TRIGGER),ref:this.$3,rel:"dialog-post"}),b("React").createElement("i",{className:"_3w97"}))};return c}(b("React").Component);e.exports=a(c,{actionLink:function(){return b("UFI2CommentArticleContext_actionLink.graphql")}})}),null);
__d("UFI2CommentFallbackAttachment.react",["cx","Image.react","LitestandEllipsis","React","RelayModern","UFI2CommentArticleContext.react","UFI2LinkWrapper.react","UFI2ScaleRect","UFI2CommentFallbackAttachment_attachment.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){__p&&__p();var c,d,e,f;a=a.attachment;c=(c=(c=a.target)==null?void 0:c.url)!=null?c:a.url;var g=(d=a.title_with_entities)==null?void 0:d.text,i=(d=a.source)==null?void 0:d.text;d=(d=a.media)==null?void 0:(d=d.fallback_image)==null?void 0:d.uri;e=(e=a.media)==null?void 0:(e=e.fallback_image)==null?void 0:e.width;f=(f=a.media)==null?void 0:(f=f.fallback_image)==null?void 0:f.height;var j=null;if(d&&e&&f){f=b("UFI2ScaleRect").scaleToContain({gracefullyFallbackToMaxDimensionWhenHeightOrWidthIsZero:!1,maxHeight:98,maxWidth:98,srcHeight:f,srcWidth:e});e=f.height;f=f.width;j=d&&b("React").createElement(b("React").Fragment,null,b("React").createElement(b("Image.react"),{alt:g||i,className:"_ns-",height:e,src:d,width:f}),((e=a.media)==null?void 0:e.is_playable)?b("React").createElement("i",{className:"_6a14"}):null)}d=null;a.action_links.forEach(function(a){a.__typename==="ArticleContextActionLink"&&(d=b("React").createElement(b("UFI2CommentArticleContext.react"),{actionLink:a,title:g||i}))});return b("React").createElement("div",{className:"_3mvp","data-ft":a.tracking},b("React").createElement("div",{className:"_6a15"},j&&b("React").createElement("div",{className:"_3mvu"},j),b("React").createElement("div",{className:"_3mvv"},i&&b("React").createElement("div",{className:"_2fj2"},b("React").createElement("div",{className:"_3mvw ellipsis"},i)),g&&b("React").createElement("div",{className:"_3mvr",ref:h},g),c&&b("React").createElement(b("UFI2LinkWrapper.react"),{className:"_ns_",href:c,rel:"noopener nofollow",target:"_blank"},b("React").createElement("span",{className:"accessible_elem"},g||i)))),d)}a.displayName="UFI2CommentFallbackAttachment";function h(a){a&&b("LitestandEllipsis").add(a,40)}e.exports=c(a,{attachment:function(){return b("UFI2CommentFallbackAttachment_attachment.graphql")}})}),null);
__d("UFI2AttachmentLoader",["invariant","AsyncRequest","FBLogger","XUFI2FetchCommentShareAttachmentController","guid"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=new Map();function a(a){var c=b("guid")(),d=b("XUFI2FetchCommentShareAttachmentController").getURIBuilder().setInt("feedback_source",a.feedbackSource).setString("comment_id",a.commentID).setString("request_id",c).getRequest(new(b("AsyncRequest"))()).setErrorHandler(function(){a.onResponse(null)}).setAllowCrossPageTransition(!0);d.send();h.set(c,a.onResponse);return{abandon:function(){h["delete"](c),d.abandon()}}}function c(a,c){var d=h.get(a);if(d==null){b("FBLogger")("ufi2").info("UFI2AttachmentLoader: trying to set response to request that never existed or no longer exists: `%s`.",a);return}d(c);h["delete"](a)}e.exports={request:a,setResponse:c}}),null);
__d("UFI2CommentServerAttachment.react",["cx","DOMContainer.react","React","RelayModern","UFI2AttachmentLoader","UFI2CommentServerAttachment_comment.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={element:null,loading:c.props.comment.id!=null},c.$1=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this,c=this.props.comment.id;if(c==null)return;c=b("UFI2AttachmentLoader").request({commentID:c,feedbackSource:this.props.feedbackSource,onResponse:function(b){a.setState({element:b,loading:!1})}});this.$1=c.abandon};d.componentWillUnmount=function(){this.$1&&(this.$1(),this.$1=null)};d.render=function(){return this.state.loading?null:this.state.element?b("React").createElement(b("DOMContainer.react"),{className:"UFICommentContent _3-a6",display:"block"},this.state.element):null};return c}(b("React").Component);c.displayName="UFI2CommentServerAttachment";e.exports=a(c,{comment:function(){return b("UFI2CommentServerAttachment_comment.graphql")}})}),null);
__d("UFI2CommentActionLinks.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){var c=a.children,d=a.className;a=a.listRef;return b("React").createElement("ul",{className:b("joinClasses")("_6coi",d),"data-testid":"UFI2CommentActionLinks/root",ref:a},c)}c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.children;return b("React").createElement("li",{className:"_6coj"},b("React").createElement("span",{"aria-hidden":!0,className:"_6cok"},"\xa0\xb7\xa0"),a)};return c}(b("React").PureComponent);e.exports={UFI2CommentActionLinkItem:c,UFI2CommentActionLinks:a}}),null);
__d("UFI2BanActorLink.react",["fbt","React","RelayModern","UFI2BanActorMutation","UFI2CommentActionLinks.react","UFI2LinkWrapper.react","UFI2BanActorLink_comment.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var h=b("UFI2CommentActionLinks.react").UFI2CommentActionLinkItem;function a(a){var c=a.relay,d=a.comment,e=a.feedbackSource,f=d==null?void 0:(a=d.parent_feedback)==null?void 0:a.id,i=d==null?void 0:(a=d.parent_feedback)==null?void 0:(a=a.viewer_acts_as_page)==null?void 0:a.id,j=d==null?void 0:(a=d.author)==null?void 0:a.id;return i==null||j==null?null:b("React").createElement(h,null,b("React").createElement(b("UFI2LinkWrapper.react"),{href:"#",onClick:function(){return b("UFI2BanActorMutation").commit(c.environment,{actorId:i,feedbackId:f,feedbackSource:e,pageId:i,targetUserId:j,undoBan:Boolean(d.is_author_banned_by_content_owner)})},role:"button"},(d==null?void 0:d.is_author_banned_by_content_owner)?g._("Unban {name}",[g._param("name",(a=d.author)==null?void 0:a.name)]):g._("Ban {name}",[g._param("name",(a=d.author)==null?void 0:a.name)])))}e.exports=c(a,{comment:function(){return b("UFI2BanActorLink_comment.graphql")}})}),null);
__d("UFI2CommentMenu.react",["React","RelayModern","requireCond","cr:842677","UFI2CommentMenu_comment.graphql","UFI2CommentMenu_feedback.graphql"],(function(a,b,c,d,e,f){"use strict";c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){return b("React").createElement(b("cr:842677"),a)}e.exports=c(a,{comment:function(){return b("UFI2CommentMenu_comment.graphql")},feedback:function(){return b("UFI2CommentMenu_feedback.graphql")}})}),null);
__d("UFI2CommentMenuBlue.react",["cx","Bootloader","FBLogger","JSResource","React","RelayModern","UFI2NUXConfig","XUIDotsButton.react","XUISpinner.react","ifRequired","injectSubscriptionsHandler.react","lazyLoadComponent","UFI2CommentMenuBlue_comment.graphql","UFI2CommentMenuBlue_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var h=b("lazyLoadComponent")(b("JSResource")("UFI2RemoveTextDelightsNUX.react").__setRef("UFI2CommentMenuBlue.react")),i={CommentMenuItemDelete:b("JSResource")("getCommentMenuDeleteItem").__setRef("UFI2CommentMenuBlue.react"),CommentMenuItemDeleteAndRemoveMember:b("JSResource")("getCommentMenuDeleteAndRemoveItem").__setRef("UFI2CommentMenuBlue.react"),CommentMenuItemDivider:b("JSResource")("getCommentMenuItemDivider").__setRef("UFI2CommentMenuBlue.react"),CommentMenuItemEdit:b("JSResource")("getCommentMenuEditItem").__setRef("UFI2CommentMenuBlue.react"),CommentMenuItemGiveFeedbackOrReport:b("JSResource")("getCommentMenuItemGiveFeedbackOrReport").__setRef("UFI2CommentMenuBlue.react"),CommentMenuItemHide:b("JSResource")("getCommentMenuHideItem").__setRef("UFI2CommentMenuBlue.react"),CommentMenuItemMoreOptions:b("JSResource")("getCommentMenuMoreOptionsItem").__setRef("UFI2CommentMenuBlue.react"),CommentMenuItemMuteMember:b("JSResource")("getCommentMenuMuteCommenterItem").__setRef("UFI2CommentMenuBlue.react"),CommentMenuItemRemoveTextDelights:b("JSResource")("getCommentMenuItemRemoveTextDelightsItem").__setRef("UFI2CommentMenuBlue.react"),CommentMenuItemRemoveWithFeedback:b("JSResource")("getCommentMenuDeleteWithFeedbackItem").__setRef("UFI2CommentMenuBlue.react")};function j(a){return a&&i[a.__typename]}function k(){var a=b("ifRequired")("ContextualDialogArrow",function(a){return a}),c=b("ifRequired")("PopoverMenu.react",function(a){return a}),d=b("ifRequired")("ReactXUIMenu",function(a){return a});return a&&c&&d?{ContextualDialogArrow:a,PopoverMenu:c,XUIMenu:d}:null}function l(a){a=(a=a.comment.comment_menu_items)!=null?a:[];return a.map(j).filter(Boolean)}function m(a){return a.every(function(a){return b("ifRequired").call(null,a.getModuleId(),function(){return!0},function(){return!1})})}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={itemsAreLoaded:m(l(d.props)),menuResources:k(),showNUX:!1},d.$4=!1,d.$5=function(a){__p&&__p();var c,e,f=j(a);if(!f)return null;f=b("ifRequired").call(null,f.getModuleId(),function(a){return a});if(!f){b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",d.props.comment.id||"UNKNOWN").warn("Tried to render comment item before getter was loaded for item with type `%s`.",a.__typename);return null}var g=babelHelpers.assertThisInitialized(d);g=g.props;c=(c=g.feedback.viewer_current_actor)==null?void 0:c.id;e=(e=g.comment.author)==null?void 0:e.id;return f({actorId:c,authorName:(f=g.comment.author)==null?void 0:f.name,commentId:g.comment.id,confirmDeleteWithDialog:c===e,feedbackId:g.feedback.id,feedbackSource:g.feedbackSource,groupId:(f=g.comment.group_comment_info)==null?void 0:f.group_id,isMuted:(c=g.comment.group_comment_info)==null?void 0:c.is_author_muted,itemType:a.__typename,legacyId:g.comment.legacy_fbid,legacyToken:g.comment.legacy_token,onEdit:g.onEdit,relay:g.relay,showRemoveContentOptions:a.__typename==="CommentMenuItemDeleteAndRemoveMember"&&a.show_remove_content_options,topLevelFeedbackId:g.topLevelFeedbackId})},d.$8=function(a){d.$3=a,a&&b("UFI2NUXConfig").shouldShowRemoveTextDelightsNUX&&d.setState({showNUX:!0})},d.$10=function(){d.$9()},d.$11=function(){d.$9(),d.$3||(d.$4=!d.$4)},c)||babelHelpers.assertThisInitialized(d)}c.getDerivedStateFromProps=function(a){return{itemsAreLoaded:m(l(a))}};var d=c.prototype;d.$6=function(){var a=this;if(this.$1)return;this.$1=!0;this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules(["ContextualDialogArrow","PopoverMenu.react","ReactXUIMenu"],function(){return a.setState({menuResources:k()})},"UFI2CommentMenuBlue.react"))};d.$7=function(){var a=this;if(this.$2)return;this.$2=!0;this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules.call(b("Bootloader"),l(this.props).map(function(a){return a.getModuleId()}),function(){a.setState({itemsAreLoaded:!0})}))};d.$9=function(){this.state.menuResources||this.$6(),this.state.itemsAreLoaded||this.$7()};d.componentDidUpdate=function(){this.$4&&this.$3&&(this.$3.showPopover(),this.$4=!1)};d.render=function(){__p&&__p();var a=this,c=this.props.comment,d=this.state.showNUX,e=c.comment_menu_items;if(!e||!e.length)return null;var f=Boolean(e.find(function(a){return a.__typename==="CommentMenuItemRemoveTextDelights"})),g=c.comment_menu_tooltip;g=g?{label:g,tooltip:g}:null;g=b("React").createElement(b("XUIDotsButton.react"),babelHelpers["extends"]({},g,{className:"_2f3a"+(this.props.visible?" _1n6k":""),"data-testid":"UFI2CommentMenu/toggle",onClick:this.$11,onMouseEnter:this.$10,onTouchStart:this.$11,type:"button"}));if(!this.state.menuResources)return g;var i=this.state.menuResources,j=i.ContextualDialogArrow,k=i.PopoverMenu;i=i.XUIMenu;e=this.state.itemsAreLoaded?e.map(this.$5).filter(Boolean):b("React").createElement(i.Item,{disabled:!0},b("React").createElement(b("XUISpinner.react"),{size:"small"}));i=b("React").createElement(i,{className:"_67lz"},e);return b("React").createElement(b("React").Fragment,null,f&&d?b("React").createElement(b("React").Suspense,{fallback:null},b("React").createElement(h,{comment:c,contextRef:function(){return a.$3}})):null,b("React").createElement(k,{alignh:"right",layerBehaviors:[j],menu:i,ref:this.$8},g))};return c}(b("React").Component);e.exports=a(b("injectSubscriptionsHandler.react")(c),{comment:function(){return b("UFI2CommentMenuBlue_comment.graphql")},feedback:function(){return b("UFI2CommentMenuBlue_feedback.graphql")}})}),null);
__d("UFI2CommentsFilterFallbackWarning.react",["cx","fbt","React","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();var c=a.Selectors,d=a.className,e=a.depth,f=a.direction,g=a.listState,i=a.totalCount;a=a.viewOption;var j=c.isPagerLoading({depth:e,direction:f,state:g});if(j)return null;j=c.hasMoreInDirection({depth:e,direction:f,state:g,totalCount:i});if(j)return null;j=c.getVisibleCommentsCount({depth:e,state:g});c=i===j;if(c)return null;if(j===0&&f==="backward")return null;var k;switch(a){case"RANKED_THREADED":k=e>0?h._("Most Relevant is selected, so some replies may have been filtered out."):h._("Most Relevant is selected, so some comments may have been filtered out.");break;default:k=e>0?h._("Some replies may have been filtered out by the selected ordering mode"):h._("Some comments may have been filtered out by the selected ordering mode")}return b("React").createElement("div",{className:b("joinClasses")("_6hnh",d)},k)};e.exports=a}),null);
__d("UFI2CommentsPagerRenderer.react",["cx","React","UFI2AbstractButtonWrapper.react","XUISpinner.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.children,d=a.className,e=a.depth,f=a.isLoading,g=a.linkClassName,h=a.nestedPagerIconClassName,i=a.onClick,j=a.onMouseEnter;a=a.trackingInfo;var k=e===1,l=(k?"_4sso":"")+" _4ssp";c=c(l);return b("React").createElement("div",{className:b("joinClasses")("_4swz",d),onMouseEnter:j},b("React").createElement(b("UFI2AbstractButtonWrapper.react"),{className:b("joinClasses")("_4sxc",g),"data-ft":a,"data-testid":"UFI2CommentsPagerRenderer/pager_depth_"+e,disabled:f,href:"#",label:b("React").createElement("div",{className:"_4sxd"+(f?" _4sxe":""),key:"pager"},k?b("React").createElement("i",{className:b("joinClasses")("_4sxf",h)}):null,c,f?b("React").createElement(b("XUISpinner.react"),{className:"_4sxg",size:"small"}):null),onClick:i,role:"button"}))}e.exports=a}),null);
__d("UFI2ComposerAction.react",["React","UFI2TooltipCometCompatWrapper.react","requireCond","cr:844029"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=!1,d.state={initializeComponentClicked:!1,shouldBeginBootloading:!1},d.$2=function(a){d.$1=!1,d.props.placeholder.props.onBlur&&d.props.placeholder.props.onBlur(a)},d.$3=function(a){d.$1=!0,d.$4(),d.props.placeholder.props.onFocus&&d.props.placeholder.props.onFocus(a)},d.$5=function(a){d.$4(),d.props.placeholder.props.onMouseUp&&d.props.placeholder.props.onMouseUp(a),d.setState(function(a){a=a.initializeComponentClicked;return{initializeComponentClicked:!a}})},d.$6=function(a){d.$4(),d.props.placeholder.props.onMouseOver&&d.props.placeholder.props.onMouseOver(a)},d.$7=function(a){if(a!=null&&d.$1){d.$1=!1;if(b("cr:844029")!=null)b("cr:844029").set(a,!0);else try{a.focus()}catch(a){}}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$4=function(){this.state.shouldBeginBootloading||this.setState({shouldBeginBootloading:!0})};d.render=function(){var a=this.state.shouldBeginBootloading,c=this.props,d=c.resource;c=c.label;var e=b("React").cloneElement(this.props.placeholder,{hasBeenClicked:this.state.initializeComponentClicked,onBlur:this.$2,onFocus:this.$3,onMouseOver:this.$6,onMouseUp:this.$5});return b("React").createElement(b("UFI2TooltipCometCompatWrapper.react"),{alignH:"center",delayMountUntilHover:!0,position:"above",tooltip:c},b("React").createElement(b("React").Suspense,{fallback:e},a?b("React").createElement(d,this.props.createComponentProps({clicked:this.state.initializeComponentClicked,onFocusableElementRefChange:this.$7})):e))};return c}(b("React").Component);e.exports=a}),null);
__d("UFI2ComposerActionPlaceholder.react",["cx","React","UFI2LinkWrapper.react","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return this.props.hasBeenClicked===!0?b("React").createElement(b("XUISpinner.react"),{className:"_2wv6",size:"small"}):b("React").createElement(b("UFI2LinkWrapper.react"),{"aria-label":this.props.label,className:this.props.buttonClassName,onBlur:this.props.onBlur,onFocus:this.props.onFocus,onMouseOver:this.props.onMouseOver,onMouseUp:this.props.onMouseUp,role:"button"},b("React").createElement("div",{className:this.props.iconClassName}))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("UFI2ComposerActions.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").createElement("ul",{className:"_1obb"},b("React").Children.map(a.children,function(a){return b("React").createElement("li",{className:"_1obc"},a)}))}e.exports=a}),null);
__d("UFI2ComposerPreviewArea.react",["cx","CloseButton.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.children,d=a.className,e=a.onRemoveClick,f=a.removeButtonLabel;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","className","onRemoveClick","removeButtonLabel"]);return b("React").createElement("div",babelHelpers["extends"]({},a,{className:b("joinClasses")(d,"_1llh")}),c,b("React").createElement(b("CloseButton.react"),{ariaLabel:f,className:"_1lli",onClick:e,tooltip:f}))}e.exports=a}),null);
__d("UFI2ErrorBoundary.react",["ErrorBoundary.react","FBLogger","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c){var e=d.props.getFBLoggerErrorMessage;e=e!=null?e(a,c):"`"+(c||"Unknown Component")+"` experienced a fatal error during render.";b("FBLogger")("ufi2").catching(a).mustfix(e)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props,c=a.children;a.getFBLoggerErrorMessage;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","getFBLoggerErrorMessage"]);return b("React").createElement(b("ErrorBoundary.react"),babelHelpers["extends"]({onHandleError:this.$1},a),c)};return c}(b("React").Component);e.exports=a}),null);
__d("UFI2HiddenCommentsPlaceholder.react",["cx","fbt","React","UFI2LinkWrapper.react","UFI2TooltipCometCompatWrapper.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var c=a.className,d=a.commentIDs,e=a.expandHiddenComments;return b("React").createElement("div",{className:b("joinClasses")("_6cog",c)},b("React").createElement(b("UFI2TooltipCometCompatWrapper.react"),{alignH:"center",delayMountUntilHover:!0,tooltip:h._({"*":"{count} hidden"},[h._param("count",d.length),h._plural(d.length)])},b("React").createElement(b("UFI2LinkWrapper.react"),{"aria-label":h._("Show comments marked as spam"),className:"_6coh",href:"#",onClick:function(){return e(d)},role:"button"},b("React").createElement("span",{className:"_6cn_"},b("React").createElement("i",{className:"_6co0"})))))}e.exports=a}),null);
__d("UFI2ProfileLink.react",["CurrentUser","React","absoluteToRelative"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.children,d=a.href,e=a.uid;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","href","uid"]);var f="/ajax/hovercard/user.php?id="+e,g="";d!=null?g=b("CurrentUser").isWorkUser()?d:b("absoluteToRelative")(d):g="/"+e;return b("React").createElement("a",babelHelpers["extends"]({},a,{"data-hovercard":f,href:g}),c)}e.exports=a}),null);
__d("getPlainTextFromUFI2InputState",[],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a.__type){case"plain-text":return a.text;case"editor-state-based":return a.editorState.getCurrentContent().getPlainText();default:return a}}e.exports=a}),null);
__d("isUFI2ComposerStateEmpty",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var b=a.attachment;a=a.inputState;if(b!=null)return!1;switch(a.__type){case"editor-state-based":return!a.editorState.getCurrentContent().hasText();case"plain-text":return!(a.text&&a.text.trim().length);default:return a.__type}}e.exports=a}),null);
__d("UFI2ProgressiveComposerInput.react",["cx","invariant","requireDeferred","Event","FBLogger","Keys","React","ReactDOMSelection","SubscriptionsHandler","clearImmediate","clearTimeout","emptyFunction","getActiveElement","getPlainTextFromUFI2InputState","ifRequired","isSoftNewlineEvent","isUFI2ComposerStateEmpty","joinClasses","setImmediateAcrossTransitions","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("Keys").BACKSPACE,j=b("Keys").DELETE,k=b("Keys").RETURN,l=b("requireDeferred")("UFI2RichComposerInput.react"),m=b("requireDeferred")("getEditorStateFromUFI2ComposerState");function n(a){a=a.innerText||"";a.replace(/(\r\n|\r|\n)/g,"")===""&&(a="");return a}function o(){return b("ifRequired")("EditorState",function(a){var b=l.getModuleIfRequired();return b!=null?{EditorState:a,UFI2RichComposerInput:b}:null},function(){return null})}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=!1,d.$2=!1,d.$3=null,d.$4=new(b("SubscriptionsHandler"))(),d.state={proxyIsInCompositionMode:!1},d.$7=function(a){d.$8()},d.$9=function(a){d.setState({proxyIsInCompositionMode:!0})},d.$10=function(a){d.setState({proxyIsInCompositionMode:!1})},d.$11=function(a){d.$8()},d.$12=function(a){d.$13(a.target)},d.$14=function(a){d.$3=a,d.props.onInputRefUpdated&&d.props.onInputRefUpdated(a)},d.$15=function(a){a.keyCode===k&&!b("isSoftNewlineEvent")(a)?(a.preventDefault(),d.props.onCommit()):(a.keyCode===i||a.keyCode===j)&&d.$8()},d.$16=function(a){d.$2=!0;var c=b("setTimeoutAcrossTransitions")(function(){b("FBLogger")("ufi2").warn("_handleProxyMouseDown had no corresonding mouseup event for 30s.")},3e4);d.$4.addSubscriptions({remove:function(){b("clearTimeout")(c)}});var e=b("Event").listen(document,"mouseup",function(){b("clearTimeout")(c),d.$2=!1,d.$4.releaseOne(e),d.$3!=null&&d.$3===b("getActiveElement")()&&d.$5()});d.$4.addSubscriptions(e)},d.$17=function(a){var b=d.props.handlePastedFiles;if(b){var c=a.clipboardData;c=c.items!=null?Array.from(c.items):[];c=c.map(function(a){return a.getAsFile()}).filter(Boolean);c.length&&(b(c)==="handled"&&a.preventDefault())}a.isDefaultPrevented()===!1&&d.$8()},d.$19=function(a){var c=function(){d.$2===!1&&d.$5()};m.getModuleIfRequired()==null?m.loadImmediately(function(){return c()}):c();var e=o();(e==null?void 0:e.UFI2RichComposerInput)==null&&l.loadImmediately(b("emptyFunction"));d.props.onFocus&&d.props.onFocus(a)},c)||babelHelpers.assertThisInitialized(d)}c.createEmptyComposerState=function(){var a=o();a=a==null?void 0:a.EditorState;return a!=null?{__type:"editor-state-based",editorState:a.createEmpty()}:{__type:"plain-text",selectionOffsets:null,text:""}};var d=c.prototype;d.$5=function(){__p&&__p();var a=this,c=m.getModuleIfRequired();if(c==null||this.state.proxyIsInCompositionMode===!0||this.props.composerState.inputState.__type!=="plain-text")return;this.props.onComposerStateChange(function(d){var e=d.inputState;if(e.__type!=="plain-text"){b("FBLogger")("ufi2").warn("We were asked to commit the text and selection state of the proxy input, but the current input state is of type `%s` when we expected it to be of type `plain-text`. Investigate why a reference to the proxy input existed when the input state was of this type.",e.__type);return d}e=babelHelpers["extends"]({},d,{inputState:babelHelpers["extends"]({},e,{selectionOffsets:b("getActiveElement")()===a.$3?b("ReactDOMSelection").getOffsets(a.$3):e.selectionOffsets})});return babelHelpers["extends"]({},d,{inputState:{__type:"editor-state-based",editorState:c(e)}})})};d.$6=function(){b("isUFI2ComposerStateEmpty")(this.props.composerState)!==!0&&this.$5()};d.$13=function(a){this.$1=!1;var b=n(a);this.props.onComposerStateChange(function(a){var c=a.inputState;c.__type==="plain-text"||h(0,5554,c.__type);return babelHelpers["extends"]({},a,{inputState:babelHelpers["extends"]({},c,{text:b})})})};d.$18=function(a){__p&&__p();if(a.composerState.inputState.__type!=="plain-text")return;var c=this.$3;if(c){a=a.composerState.inputState;var d,e;switch(a.__type){case"plain-text":d=a.text;e=a.selectionOffsets;break;case"editor-state-based":default:d=a.editorState.getCurrentContent().getBlockMap().map(function(a){return a?a.getText():""}).join("\n");b("FBLogger")("ufi2").warn("Unimplemented: tried to update the UFI2 proxy input's selection using an `EditorState` but we have not yet implemented a function that maps from an `EditorState` to selection offsets.");break}e==null&&(e=b("getActiveElement")()===c?b("ReactDOMSelection").getOffsets(c):null);a=n(c);d!==a&&(c.textContent=d,e!=null&&(d===""?(c.innerText="\xa0",b("ReactDOMSelection").setOffsets(c,{end:1,start:1}),document.execCommand("delete",!1,null)):b("ReactDOMSelection").setOffsets(c,e)))}};d.$8=function(){var a=this;if(this.$1)return;this.$1=!0;var c=b("setImmediateAcrossTransitions")(function(){a.$1&&(a.$1=!1,a.$3&&a.$13(a.$3))});this.$4.addSubscriptions({remove:function(){b("clearImmediate")(c)}})};d.componentDidMount=function(){var a=this,b=this.props.composerState.inputState;this.$3&&b.__type==="plain-text"&&this.$18(this.props);b=o();(b==null?void 0:b.UFI2RichComposerInput)==null&&this.$4.addSubscriptions(l.onReady(function(b){a.props.composerState.inputState.__type==="editor-state-based"&&a.forceUpdate()}))};d.componentDidUpdate=function(a,b){this.props.composerState.inputState.__type==="plain-text"&&this.$6(),this.$18(this.props)};d.componentWillUnmount=function(){this.$4.release()};d.execCommand=function(a){this.props.handleCommand&&(a.__type==="PrefillMention"&&(l.loadImmediately(b("emptyFunction")),this.$5()),this.props.handleCommand(a))};d.render=function(){var a=o(),c=b("getPlainTextFromUFI2InputState")(this.props.composerState.inputState).trim()!=="";a=a==null?void 0:a.UFI2RichComposerInput;var d=this.props.depth?"UFI2ComposerInput/reply":"UFI2ComposerInput/comment";return a&&this.props.composerState.inputState.__type==="editor-state-based"?b("React").createElement(a,babelHelpers["extends"]({},this.props,{className:b("joinClasses")("_65tb",this.props.className),composerState:this.props.composerState,onClick:this.props.onClick,onCommit:this.props.onCommit,onComposerStateChange:this.props.onComposerStateChange,onInputRefUpdated:this.props.onInputRefUpdated,placeholder:this.props.placeholder,webDriverTestID:d+":rich-input"})):b("React").createElement("div",{className:this.props.className,onClick:this.props.onClick},b("React").createElement("div",{className:"_7c-l"},b("React").createElement("div",{className:(this.props.composerState.isLocked?"_65tc":"")+" _65td",contentEditable:this.props.composerState.isLocked===!1,"data-testid":d+":proxy-input",onBeforeInput:this.$7,onBlur:this.props.onBlur,onCompositionEnd:this.$10,onCompositionStart:this.$9,onCut:this.$11,onFocus:this.$19,onInput:this.$12,onKeyDown:this.$15,onMouseDown:this.$16,onPaste:this.$17,ref:this.$14}),c?null:b("React").createElement("div",{className:"_7c-t"},this.props.placeholder)))};return c}(b("React").Component);e.exports=a}),null);
__d("UFI2ReactionIconTooltipTitle.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.children;return b("React").createElement("div",{className:"_27ne"},a)}e.exports=a}),null);
__d("UFI2RepliesCollapser.react",["cx","fbt","invariant","NumberFormat","React","UFI2AbstractButtonWrapper.react","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function a(a){var c=a.Selectors,d=a.className,e=a.collapseList,f=a.depth;a=a.listState;f===1||i(0,3957);if(!c.isRepliesCollapserVisible({depth:f,state:a}))return null;c=c.getVisibleCommentsCount({depth:f,state:a});f=h._({"*":{"*":"Hide {count} Replies","_1":"Hide {count} Reply"}},[h._param("count",b("NumberFormat").formatInteger(c),[0,c]),h._plural(c)]);return b("React").createElement(b("UFI2AbstractButtonWrapper.react"),{className:b("joinClasses")("_3_qk",d),href:"#",label:b("React").createElement("div",{className:"_3_ql",key:"toggler"},b("React").createElement("i",{className:"_3_qm"}),b("React").createElement("span",{className:"_3_qo"},f)),onClick:e,role:"button"})}e.exports=a}),null);
__d("UFI2RepliesExpanderTimestampLabel.react",["cx","LiveTimer","React","Timestamp.react","formatDate","timeString"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.timestamp;a.viewOption;return b("React").createElement("span",{className:"_7o81","data-testid":"UFI2RepliesExpanderTimestampLabelRoot"},"\xa0\xa0\xa0",b("React").createElement(b("Timestamp.react"),{shorten:!0,text:b("timeString")(c*1e3,b("LiveTimer").getApproximateServerTime()*1e3),time:c,verbose:b("formatDate")(new Date(c*1e3),"l, M j, Y g:ia")}))}e.exports=a}),null);
__d("UFI2ScrollHoldingContainer.react",["React","ViewportBounds","getElementRect","getScrollPosition","ifRequired"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=b("React").createRef(),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1.current&&(this.$2=b("ifRequired")("ScrollableArea",function(b){return b.getInstance(a.$1.current)},function(){return null}))};d.componentWillUnmount=function(){delete this.$2};d.getSnapshotBeforeUpdate=function(a){return this.$1.current?b("getElementRect")(this.$1.current):null};d.componentDidUpdate=function(a,c,d){__p&&__p();a=this.$1.current;if(a&&d){c=b("getElementRect")(a);var e=c.height-d.height;if(e===0)return;var f=this.$2;if(f){var g=f.getScrollTop();a=f.getScrollOffsetForElement(a);a=a+c.height<g;a&&f.setScrollTop(g+e)}else{c=b("ViewportBounds").getTop();a=d.bottom<c;if(a){f=b("getScrollPosition")(window);g=f.x;d=f.y;window.scrollTo(g,d+e)}}}};d.render=function(){return b("React").createElement("div",{ref:this.$1},this.props.children)};return c}(b("React").Component);e.exports=a}),null);
__d("UFI2ToggleWritingHelpButton.react",["React","UFI2LinkWrapper.react","UFI2TooltipCometCompatWrapper.react","WritingAssistanceTypedLogger","joinClasses"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){d.props.onClick&&d.props.onClick(a),new(b("WritingAssistanceTypedLogger"))().setAction("icon_clicked").setValue(d.props.isActive?"hide":"show").log()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").createElement(b("UFI2TooltipCometCompatWrapper.react"),{alignH:"center",delayMountUntilHover:!0,tooltip:this.props.tooltip},b("React").createElement(b("UFI2LinkWrapper.react"),{"aria-label":this.props.tooltip,className:this.props.buttonClassName,onClick:this.$1,role:"button"},b("React").createElement("div",{className:b("joinClasses")(this.props.iconClassName,this.props.isActive?this.props.iconActiveClassName:null)})))};return c}(b("React").Component);e.exports=a}),null);
__d("UFI2Tooltip.react",["EventEmitter","LazyContentTooltip.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=new(b("EventEmitter"))(),d.$2=function(a){return d.$1.emit("visibilityChange",a)},d.$3=function(a){return d.$1.addListener("visibilityChange",a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props,c=a.environment,d=a.tooltipContentComponent,e=a.tooltipContentProps;a=babelHelpers.objectWithoutPropertiesLoose(a,["environment","tooltipContentComponent","tooltipContentProps"]);return b("React").createElement(b("LazyContentTooltip.react"),babelHelpers["extends"]({},a,{delayMountUntilHover:!0,onVisibilityChange:this.$2,tooltipContent:b("React").createElement(d,babelHelpers["extends"]({addVisibilityChangeListener:this.$3,environment:c},e))}))};return c}(b("React").Component);e.exports=a}),null);
__d("UFI2UnhideCommentLink.react",["fbt","React","UFI2LinkWrapper.react","UFI2UnhideCommentMutation","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.actorID,d=a.className,e=a.commentID,f=a.environment,h=a.feedbackSource;return b("React").createElement(b("UFI2LinkWrapper.react"),{className:b("joinClasses")(d),"data-testid":"UFI2Comment/unhide-link",href:"#",onClick:function(){b("UFI2UnhideCommentMutation").commit(f,{actorId:c,commentId:e,feedbackSource:h})},role:"button"},g._("Unhide"))}e.exports=a}),null);
__d("makeUFI2HighlightedComment",["Bootloader","Event","OnVisible.react","React","debounceAcrossTransitions","getReactComponentDisplayName","ifRequired","injectSubscriptionsHandler.react","joinClasses","scrollIntoView"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=5e3,h=400;function a(a){__p&&__p();var c=b("getReactComponentDisplayName")(a),d=function(d){__p&&__p();babelHelpers.inheritsLoose(c,d);function c(){__p&&__p();var a;for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];a=d.call.apply(d,[this].concat(e))||this;a.hasScrolled=!1;a.state={hasCompleted:!1,highlightClassName:""};a.$1=function(b){a.node=b};a.onScrollableScroll=function(){a.hasScrolled=!0;if(a.visibleAt!=null){var b=Date.now();a.visibleAt+g<b?(a.onScrollStopDebounced.reset(),a.applyHighlightClass()):a.onScrollStopDebounced()}};a.onVisible=function(){a.visibleAt==null&&(a.visibleAt=Date.now(),a.hasScrolled||a.onScrollableScroll())};a.onHidden=function(){a.visibleAt!=null&&delete a.visibleAt,a.onScrollStopDebounced.reset()};a.onScrollStop=function(){a.applyHighlightClass()};a.removeWindowScroll=function(){a.windowSubscription&&(a.windowSubscription.remove(),delete a.windowSubscription)};a.onScrollStopDebounced=b("debounceAcrossTransitions")(a.onScrollStop,h,!1);return a}var e=c.prototype;e.componentDidMount=function(){var a=this;window.history&&window.history.scrollRestoration&&(this.originalScrollRestoration=window.history.scrollRestoration,window.history.scrollRestoration="manual");var c=b("Bootloader").loadModules(["getUFI2CommentHighlightClasses"],function(c){a.setState({highlightClassName:c(!0)},function(){a.node&&!a.hasScrolled&&a.props.subscriptionsHandler.addSubscriptions(b("scrollIntoView")(a.node,{behavior:"smooth",verticalAlign:"center"}))})},"makeUFI2HighlightedComment");this.windowSubscription=b("Event").listen(this.getScrollableElement(),"scroll",this.onScrollableScroll);this.props.subscriptionsHandler.addSubscriptions(c,{remove:this.removeWindowScroll},this.onScrollStopDebounced)};e.getScrollableElement=function(){var a=this;return b("ifRequired")("ScrollableArea",function(b){if(a.node){b=b.getInstance(a.node);if(b)return b.getElement()}return window},function(){return window})};e.componentWillUnmount=function(){this.originalScrollRestoration!=null&&(window.history.scrollRestoration=this.originalScrollRestoration),this.props.subscriptionsHandler.release()};e.render=function(){return b("React").createElement(b("OnVisible.react"),{onHidden:this.state.hasCompleted?void 0:this.onHidden,onVisible:this.state.hasCompleted?void 0:this.onVisible},b("React").createElement("div",{ref:this.$1},b("React").createElement(a,babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,this.state.highlightClassName)}))))};e.applyHighlightClass=function(){var a=this;if(!this.state.hasCompleted){this.removeWindowScroll();this.setState({hasCompleted:!0});var c=b("Bootloader").loadModules(["getUFI2CommentHighlightClasses"],function(b){a.setState({highlightClassName:b(!1)})},"makeUFI2HighlightedComment");this.props.subscriptionsHandler.addSubscriptions(c)}};return c}(b("React").Component);d.displayName="makeUFI2HighlightedComment("+c+")";return b("injectSubscriptionsHandler.react")(d)}e.exports=a}),null);
__d("getCommentDataFromComposerState",["UnicodeUtils","emptyFunction","textProbablyWritingMarkdown"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.attachmentMappers,d=a.composerState,e=a.contentBlockToTextWithEntitiesInputMessageMappers,f=d.attachment;a=d.feedbackID;var g=d.inputState,h=d.formattingStyle;c=f&&(f.__type==="ExistingAttachment"?[]:c.map(function(a){return a(f)}).filter(Boolean));var i={};switch(g.__type){case"plain-text":h==="PLAIN_TEXT"&&b("textProbablyWritingMarkdown")(g.text)&&(h="MARKDOWN");return{commentData:{attachments:c,feedback_id:a,formatting_style:h,message:{text:g.text}},entitiesByID:i};case"editor-state-based":default:g=g.editorState;var j=[],k=[],l=0;g.getCurrentContent().getBlockMap().forEach(function(a){__p&&__p();var c="",d=0;a.findEntityRanges(b("emptyFunction").thatReturnsTrue,function(f,g){__p&&__p();var h=e.some(function(e){__p&&__p();e=e(a,f,g);var h=a.getText().slice(0,f),j=Math.max(0,h.length-b("UnicodeUtils").strlen(h));if(e!=null){h=e.entitiesByID;e=e.message;Object.assign(i,h);c+=e.text;e.ranges&&k.push.apply(k,e.ranges.map(function(a){return a?babelHelpers["extends"]({},a,{offset:a.offset+l-j+d}):a}));d+=e.text.length-(g-f);return!0}return!1});h===!1&&(c+=a.getText().slice(f,g).replace("@[","@ ["))});l+=b("UnicodeUtils").strlen(c)+1;j.push(c)});g=j.join("\n");if(g.trim()===""&&f==null)return null;h==="PLAIN_TEXT"&&b("textProbablyWritingMarkdown")(g)&&(h="MARKDOWN");return{commentData:{attachments:c,feedback_id:a,formatting_style:h,insights_point_json:d.insightsPoint,message:{ranges:k,text:g}},entitiesByID:i}}}e.exports=a}),null);
__d("composeUFI2Plugins",[],(function(a,b,c,d,e,f){"use strict";function a(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return b.reduce(function(a,b){return function(){return a(b.apply(void 0,arguments))}})}e.exports=a}),null);
__d("withReparentingGuard",["React","getReactComponentDisplayName","isReactClassComponent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();function c(c){__p&&__p();var d,e,f=b("isReactClassComponent")(c)?c:function(a){babelHelpers.inheritsLoose(d,a);function d(){return a.apply(this,arguments)||this}var e=d.prototype;e.render=function(){return b("React").createElement(c,this.props)};return d}(b("React").Component),g;function h(b){b&&(g&&g!==b&&a(c),g=b)}var i=b("getReactComponentDisplayName")(c);return e=d=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(f,babelHelpers["extends"]({},this.props,{ref:h}))};return c}(b("React").Component),d.displayName="withReparentingGuard("+i+")",e}return c}e.exports=a}),null);
__d("createUFI2ComposerPlugin",["FBLogger","withReparentingGuard"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("withReparentingGuard")(function(a){var c;a=(c=(c=a.displayName)!=null?c:a.name)!=null?c:"Unknown";c="The UFI2 comment composer plugin that wraps the `"+a+"` component caused it to be reparented. Learn how to remedy this mustfix here: https://fburl.com/ufi-composer-plugins-must-never-reparent-wrapped-components";b("FBLogger")("ufi2").blameToPreviousFile().mustfix(c)})(a)}e.exports=a}),null);
__d("createUFI2ConversationGuideComposerPlugin",["Bootloader","React","Run","createUFI2ComposerPlugin","ifRequired","injectSubscriptionsHandler.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();return function(c){__p&&__p();var d=function(e){__p&&__p();babelHelpers.inheritsLoose(d,e);function d(){var c,d;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(c=d=e.call.apply(e,[this].concat(g))||this,d.state={committed:!1,upgradedPlugin:b("ifRequired")("getUpgradedUFI2ConversationGuideComposerPlugin",function(b){return b(a)},function(){return null})},d.$1=!1,d.$2=function(a){d.$3(),d.props.inputProps.onFocus&&d.props.inputProps.onFocus(a)},c)||babelHelpers.assertThisInitialized(d)}var f=d.prototype;f.$3=function(){var c=this;if(this.$1||this.state.upgradedPlugin)return;this.$1=!0;this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules(["getUpgradedUFI2ConversationGuideComposerPlugin"],function(b){c.setState({upgradedPlugin:b(a)})},"createUFI2ConversationGuideComposerPlugin"))};f.componentDidMount=function(){var a=this;this.state.upgradedPlugin||this.props.subscriptionsHandler.addSubscriptions(b("Run").onAfterLoad(function(){return a.$3()}))};f.componentDidUpdate=function(a){this.state.upgradedPlugin&&this.state.upgradedPlugin.componentDidUpdate(a,this.props)};f.render=function(){if(this.props.inputProps.depth!==0)return b("React").createElement(c,this.props);else if(this.state.upgradedPlugin)return this.state.upgradedPlugin.render(this.props,this.state,c,this.setState.bind(this));else return b("React").createElement("div",{key:"conversation_guide_root"},b("React").createElement("div",{key:"conversation_guide_row"}),b("React").createElement(c,babelHelpers["extends"]({},this.props,{inputProps:babelHelpers["extends"]({},this.props.inputProps,{onFocus:this.$2})})))};return d}(b("React").Component);return b("createUFI2ComposerPlugin")(b("injectSubscriptionsHandler.react")(d))}}e.exports=a}),null);
__d("createUFI2ComposerPluginPipeline",["React","composeUFI2Plugins"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();if(a.length===0)return function(a){var c=a.render;a=babelHelpers.objectWithoutPropertiesLoose(a,["render"]);return b("React").createElement(c,a)};var c=a;return function(a){__p&&__p();babelHelpers.inheritsLoose(d,a);function d(){var d,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(d=e=a.call.apply(a,[this].concat(g))||this,e.state={Pipeline:b("composeUFI2Plugins").apply(void 0,c)(e.props.render),mirroredRenderProp:e.props.render},d)||babelHelpers.assertThisInitialized(e)}d.getDerivedStateFromProps=function(a,d){return d.mirroredRenderProp!==a.render?{Pipeline:b("composeUFI2Plugins").apply(void 0,c)(a.render),mirroredRenderProp:a.render}:null};var e=d.prototype;e.render=function(){var a=this.props;a.render;a=babelHelpers.objectWithoutPropertiesLoose(a,["render"]);var c=this.state.Pipeline;return b("React").createElement(c,a)};return d}(b("React").Component)}e.exports=a}),null);
__d("createUFI2DelightsComposerPlugin",["Bootloader","React","Run","createUFI2ComposerPlugin","ifRequired","injectSubscriptionsHandler.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();return function(c){__p&&__p();var d=function(e){__p&&__p();babelHelpers.inheritsLoose(d,e);function d(){var c,d;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(c=d=e.call.apply(e,[this].concat(g))||this,d.state={upgradedPlugin:b("ifRequired")("getUpgradedUFI2DelightsComposerPlugin",function(b){return b(a)},function(){return null})},d.$1=!1,d.$2=function(a){d.$3(),d.props.inputProps.onFocus&&d.props.inputProps.onFocus(a)},c)||babelHelpers.assertThisInitialized(d)}var f=d.prototype;f.$3=function(){var c=this;if(this.$1||this.state.upgradedPlugin)return;this.$1=!0;this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules(["getUpgradedUFI2DelightsComposerPlugin"],function(b){c.setState({upgradedPlugin:b(a)})},"createUFI2DelightsComposerPlugin"))};f.componentDidMount=function(){var a=this;this.state.upgradedPlugin?this.state.upgradedPlugin.installPlugin(this.props):this.props.subscriptionsHandler.addSubscriptions(b("Run").onAfterLoad(function(){return a.$3()}))};f.componentDidUpdate=function(a,b){b.upgradedPlugin==null&&this.state.upgradedPlugin!=null&&this.state.upgradedPlugin.installPlugin(this.props)};f.render=function(){if(this.state.upgradedPlugin)return this.state.upgradedPlugin.render(this.props,c);else return b("React").createElement(c,babelHelpers["extends"]({},this.props,{inputProps:babelHelpers["extends"]({},this.props.inputProps,{onFocus:this.$2})}))};return d}(b("React").Component);return b("createUFI2ComposerPlugin")(b("injectSubscriptionsHandler.react")(d))}}e.exports=a}),null);
__d("UFI2InsertEmojiComposerAction.react",["cx","fbt","JSResource","React","UFI2ComposerAction.react","UFI2ComposerActionPlaceholder.react","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("lazyLoadComponent")(b("JSResource")("UFI2EmojiInputButton.react").__setRef("UFI2InsertEmojiComposerAction.react"));function a(a){var c=h._("Insert an emoji");return b("React").createElement(b("UFI2ComposerAction.react"),{createComponentProps:function(b){var c=b.clicked;b=b.onFocusableElementRefChange;return{buttonClassName:"_1t9_ _1ta3",iconActiveClassName:"UFICommentEmojiIconActive",iconClassName:"InsertEmoji",initiallyVisible:c,onComposerStateChange:a.onComposerStateChange,onFocusableElementRefChange:b}},label:c,placeholder:b("React").createElement(b("UFI2ComposerActionPlaceholder.react"),{buttonClassName:"_1t9_ _1ta3",iconClassName:"InsertEmoji",label:c}),resource:i})}e.exports=a}),null);
__d("createUFI2EmojiComposerPlugin",["requireDeferred","React","UFI2InsertEmojiComposerAction.react","createUFI2ComposerPlugin","ifRequired","injectSubscriptionsHandler.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("requireDeferred")("getUpgradedUFI2EmojiComposerPlugin");function a(a){__p&&__p();return function(c){__p&&__p();var d=function(e){__p&&__p();babelHelpers.inheritsLoose(d,e);function d(){__p&&__p();var c,d;for(var f=arguments.length,h=new Array(f),i=0;i<f;i++)h[i]=arguments[i];return(c=d=e.call.apply(e,[this].concat(h))||this,d.state={upgradedPlugin:b("ifRequired").call(null,"getUpgradedUFI2EmojiComposerPlugin",function(b){return b(a)})},d.$1=function(a,b){if(d.state.upgradedPlugin!=null)return d.state.upgradedPlugin.handleKeyCommand(d.props.inputProps,a,b);else return d.props.inputProps.handleKeyCommand?d.props.inputProps.handleKeyCommand(a,b):"not-handled"},d.$2=function(a){g.loadImmediately(d.$3),d.props.inputProps.onFocus&&d.props.inputProps.onFocus(a)},d.$3=function(b){d.state.upgradedPlugin||d.setState({upgradedPlugin:b(a)})},c)||babelHelpers.assertThisInitialized(d)}var f=d.prototype;f.componentDidMount=function(){this.state.upgradedPlugin||this.props.subscriptionsHandler.addSubscriptions(g.onReady(this.$3))};f.render=function(){return b("React").createElement(c,babelHelpers["extends"]({},this.props,{actions:[].concat(this.props.actions,[b("React").createElement(b("UFI2InsertEmojiComposerAction.react"),{key:"emojiComposerAction",onComposerStateChange:this.props.inputProps.onComposerStateChange})]),inputProps:babelHelpers["extends"]({},this.props.inputProps,{composerState:this.state.upgradedPlugin?this.state.upgradedPlugin.installEmojiInputDecorator(this.props.inputProps.composerState):this.props.inputProps.composerState,handleKeyCommand:this.$1,onFocus:this.$2})}))};return d}(b("React").Component);return b("createUFI2ComposerPlugin")(b("injectSubscriptionsHandler.react")(d))}}e.exports=a}),null);
__d("createUFI2EmoticonsComposerPlugin",["requireDeferred","React","createUFI2ComposerPlugin","injectSubscriptionsHandler.react","invokeDeferredFunctionIfRequired"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("requireDeferred")("getUpgradedUFI2EmoticonsComposerPlugin");function a(a){__p&&__p();return function(c){__p&&__p();var d=function(e){__p&&__p();babelHelpers.inheritsLoose(d,e);function d(){var c,d;for(var f=arguments.length,h=new Array(f),i=0;i<f;i++)h[i]=arguments[i];return(c=d=e.call.apply(e,[this].concat(h))||this,d.state={upgradedPlugin:b("invokeDeferredFunctionIfRequired")(g,a)},d.$1=!1,d.$2=function(a){g.loadImmediately(d.$3),d.props.inputProps.onFocus&&d.props.inputProps.onFocus(a)},d.$3=function(b){d.state.upgradedPlugin||d.setState({upgradedPlugin:b(a)})},c)||babelHelpers.assertThisInitialized(d)}var f=d.prototype;f.componentDidMount=function(){this.state.upgradedPlugin?this.state.upgradedPlugin.installPlugin(this.props):this.props.subscriptionsHandler.addSubscriptions(g.onReady(this.$3))};f.componentDidUpdate=function(a,b){b.upgradedPlugin==null&&this.state.upgradedPlugin!=null&&this.state.upgradedPlugin.installPlugin(this.props)};f.render=function(){if(this.state.upgradedPlugin)return this.state.upgradedPlugin.render(this.props,c);else return b("React").createElement(c,babelHelpers["extends"]({},this.props,{inputProps:babelHelpers["extends"]({},this.props.inputProps,{onFocus:this.$2})}))};return d}(b("React").Component);return b("createUFI2ComposerPlugin")(b("injectSubscriptionsHandler.react")(d))}}e.exports=a}),null);
__d("UFI2InsertGIFComposerAction.react",["cx","fbt","JSResource","React","UFI2ComposerAction.react","UFI2ComposerActionPlaceholder.react","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("lazyLoadComponent")(b("JSResource")("UFI2InsertGIFButton.react").__setRef("UFI2InsertGIFComposerAction.react"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.onComposerStateChange,d=a.onDisplaySearch,e=h._("Post a GIF");return b("React").createElement(b("UFI2ComposerAction.react"),{createComponentProps:function(a){var b=a.clicked;a=a.onFocusableElementRefChange;return{buttonClassName:"_1t9_ _1ny6",iconActiveClassName:"_1ny9",iconClassName:"_1nyp",initiallyVisible:b,label:e,onComposerStateChange:c,onDisplaySearch:d,onFocusableElementRefChange:a}},label:e,placeholder:b("React").createElement(b("UFI2ComposerActionPlaceholder.react"),{buttonClassName:"_1t9_ _1ny6",iconClassName:"_1nyp",label:e}),resource:i})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("createUFI2GIFComposerPlugin",["cx","fbt","Image.react","React","UFI2ComposerPreviewArea.react","UFI2InsertGIFComposerAction.react","UFI2NUXConfig","createUFI2ComposerPlugin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a){return a.attachment&&a.attachment.__type==="GIF"?a.attachment.data:null}var j=!1;function a(){__p&&__p();return function(a){__p&&__p();var c=function(d){__p&&__p();babelHelpers.inheritsLoose(c,d);function c(){var a,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=c=d.call.apply(d,[this].concat(f))||this,c.state={NUXVisible:!1},c.$1=function(a){c.props.inputProps.onComposerStateChange(function(a){return{attachment:null}})},c.$2=function(a){j||(j=!0,c.setState({NUXVisible:!0})),c.props.inputProps.onFocus!=null&&c.props.inputProps.onFocus(a)},c.$3=function(){c.setState({NUXVisible:!1})},c.action=b("React").createRef(),a)||babelHelpers.assertThisInitialized(c)}var e=c.prototype;e.componentDidMount=function(){this.props.onInstallAttachmentMappers(function(a){return a.__type==="GIF"?{link:{external:{url:a.data.source.url}}}:null})};e.componentDidUpdate=function(a){__p&&__p();var b=this.props.inputProps.composerState;a=a.inputProps.composerState;var c=i(b);if(a.attachment==null&&c&&i(a)==null){c=b.inputState;a=!1;switch(c.__type){case"plain-text":a=c.text.trim()!=="";break;case"editor-state-based":a=c.editorState.getCurrentContent().getPlainText().trim()!=="";break;default:c.__type}a===!1&&this.props.inputProps.onCommit()}};e.render=function(){var c=this,d=h._("Remove GIF"),e=this.props.inputProps.composerState,f=i(e);return b("React").createElement("div",{className:"_17pg"},b("React").createElement(a,babelHelpers["extends"]({},this.props,{actions:e.attachment?this.props.actions:[].concat(this.props.actions,[b("React").createElement(b("UFI2InsertGIFComposerAction.react"),{key:"gifComposerAction",onComposerStateChange:this.props.inputProps.onComposerStateChange,onDisplaySearch:this.$3,ref:this.action})]),inputProps:babelHelpers["extends"]({},this.props.inputProps,{onFocus:this.$2})})),f?b("React").createElement(b("UFI2ComposerPreviewArea.react"),{onRemoveClick:this.$1,removeButtonLabel:d},b("React").createElement(b("Image.react"),{className:"_17pj mas",height:f.media.preview.height,src:f.media.preview.url,width:f.media.preview.width})):null,b("UFI2NUXConfig").UFI2GIFNUX&&this.state.NUXVisible?b("React").createElement(b("UFI2NUXConfig").UFI2GIFNUX,{contextRef:function(){return c.action.current},onClose:this.$3}):null)};return c}(b("React").Component);return b("createUFI2ComposerPlugin")(c)}}e.exports=a}),null);
__d("createUFI2HashtagComposerPlugin",["requireDeferred","React","createUFI2ComposerPlugin","injectSubscriptionsHandler.react","invokeDeferredFunctionIfRequired"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("requireDeferred")("getUpgradedUFI2HashtagComposerPlugin");function a(){__p&&__p();return function(a){__p&&__p();var c=function(d){__p&&__p();babelHelpers.inheritsLoose(c,d);function c(){var a,c;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(a=c=d.call.apply(d,[this].concat(f))||this,c.state={upgradedPlugin:b("invokeDeferredFunctionIfRequired")(g)},c.$1=function(a){g.loadImmediately(c.$2),c.props.inputProps.onFocus&&c.props.inputProps.onFocus(a)},c.$2=function(a){c.state.upgradedPlugin||c.setState({upgradedPlugin:a()})},a)||babelHelpers.assertThisInitialized(c)}var e=c.prototype;e.componentDidMount=function(){this.state.upgradedPlugin||this.props.subscriptionsHandler.addSubscriptions(g.onReady(this.$2))};e.render=function(){return b("React").createElement(a,babelHelpers["extends"]({},this.props,{inputProps:babelHelpers["extends"]({},this.props.inputProps,{composerState:this.state.upgradedPlugin?this.state.upgradedPlugin.installHashtagInputDecorator(this.props.inputProps.composerState):this.props.inputProps.composerState,onFocus:this.$1})}))};return c}(b("React").Component);return b("createUFI2ComposerPlugin")(b("injectSubscriptionsHandler.react")(c))}}e.exports=a}),null);
__d("UFI2MediaUploadComposerAction.react",["cx","fbt","Event","JSResource","React","UFI2ComposerAction.react","UFI2ComposerActionPlaceholder.react","UFICommentFileInputAcceptValues","injectSubscriptionsHandler.react","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("lazyLoadComponent")(b("JSResource")("UFI2MediaUploadButton.react").__setRef("UFI2MediaUploadComposerAction.react"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var b=a.target.files.item(0);d.props.onComposerStateChange(function(a){return babelHelpers["extends"]({},a,{attachment:{__type:"Media",reference:{__type:"File",file:b}}})})},d.$2=function(a){a=document.createElement("input");a.setAttribute("accept",b("UFICommentFileInputAcceptValues").both);a.setAttribute("type","file");d.props.subscriptionsHandler.addSubscriptions(b("Event").listen(a,"change",d.$1));a.click()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,c=this.props.hasErrored?h._("There was a problem attaching the file, please try again"):h._("Attach a photo or video");return b("React").createElement(b("UFI2ComposerAction.react"),{createComponentProps:function(b){b.clicked;b=b.onFocusableElementRefChange;return{fileIsHoveringOverDropTarget:a.props.fileIsHoveringOverDropTarget,hasErrored:a.props.hasErrored,label:c,onComposerStateChange:a.props.onComposerStateChange,onFocusableElementRefChange:b}},label:c,placeholder:b("React").createElement(b("UFI2ComposerActionPlaceholder.react"),{buttonClassName:"_1t9_ _7ja_",iconClassName:(this.props.fileIsHoveringOverDropTarget?"_3n42":"")+(!this.props.fileIsHoveringOverDropTarget&&!this.props.hasErrored?" _3n43":"")+(this.props.hasErrored?" _3nb4":""),label:c,onMouseUp:this.$2}),resource:i})};return c}(b("React").Component);a.defaultProps={fileIsHoveringOverDropTarget:!1,hasErrored:!1};e.exports=b("injectSubscriptionsHandler.react")(a)}),null);
__d("isMimeTypeForMedia",["UFICommentFileInputAcceptValues"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("UFICommentFileInputAcceptValues").photos,h=b("UFICommentFileInputAcceptValues").videos,i={"image/gif":"video"},j,k;function l(a){return a.split(",").map(function(a){return a.trim()}).map(function(a){return a.replace(/\/\*$/,"/")})}function a(a){k==null&&(k=l(g));var b=i[a];return b!=null?b==="photo":k.some(function(b){return a.startsWith(b)})}function c(a){j==null&&(j=l(h));var b=i[a];return b!=null?b==="video":j.some(function(b){return a.startsWith(b)})}e.exports={isMimeTypeForPhoto:a,isMimeTypeForVideo:c}}),null);
__d("mimeTypeIsAcceptableToUFI2MediaUploadPlugin",["isMimeTypeForMedia"],(function(a,b,c,d,e,f){"use strict";var g=b("isMimeTypeForMedia").isMimeTypeForPhoto,h=b("isMimeTypeForMedia").isMimeTypeForVideo;function a(a){return g(a)||h(a)}e.exports=a}),null);
__d("indexOfFirstItemInDataTransferAcceptableToUFI2MediaUploadPlugin",["mimeTypeIsAcceptableToUFI2MediaUploadPlugin"],(function(a,b,c,d,e,f){"use strict";function g(a){return a.kind==="file"&&b("mimeTypeIsAcceptableToUFI2MediaUploadPlugin")(a.type)}function a(a){var b=a.items;a=a.types;return b==null||a==null||Array.from(a).includes("Files")===!1?-1:Array.from(b).findIndex(function(a){return g(a)})}e.exports=a}),null);
__d("createUFI2MediaUploadComposerPlugin",["cx","fbt","Bootloader","ProgressBar.react","React","UFI2ComposerPreviewArea.react","UFI2MediaUploadComposerAction.react","createUFI2ComposerPlugin","ifRequired","indexOfFirstItemInDataTransferAcceptableToUFI2MediaUploadPlugin","injectSubscriptionsHandler.react","mimeTypeIsAcceptableToUFI2MediaUploadPlugin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a,b){a.inputProps.onComposerStateChange(function(a){return{attachment:{__type:"Media",reference:{__type:"File",file:b}}}})}function j(a){return((a=a.attachment)==null?void 0:a.__type)==="Media"}function k(a,b,c){if(b==="ufi-commit"){var d=a.inputProps.composerState;d=d&&d.attachment&&d.attachment.__type==="Media"&&d.attachment.reference.__type;if(d==="File"||d==="UploadingFile")return"handled"}return a.inputProps.handleKeyCommand?a.inputProps.handleKeyCommand(b,c):"not-handled"}function a(a){__p&&__p();return function(c){__p&&__p();var d=function(e){__p&&__p();babelHelpers.inheritsLoose(d,e);function d(){__p&&__p();var c,d;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(c=d=e.call.apply(e,[this].concat(g))||this,d.$1=0,d.$2=!1,d.state={fileIsHoveringOverDropTarget:!1,upgradedPlugin:b("ifRequired")("getUpgradedUFI2MediaUploadComposerPlugin",function(b){return b(a)},function(){return null}),uploadError:null},d.$4=function(a){d.$1++;var c=a.dataTransfer;if(c==null)return;b("indexOfFirstItemInDataTransferAcceptableToUFI2MediaUploadPlugin")(c)!==-1&&(a.preventDefault(),d.$1>0&&d.setState({fileIsHoveringOverDropTarget:!0}))},d.$5=function(a){d.$1--,d.$1===0&&d.setState({fileIsHoveringOverDropTarget:!1})},d.$7=function(a){var b=a.dataTransfer;b!=null&&d.$3(a,b);d.$1=0;d.setState({fileIsHoveringOverDropTarget:!1})},d.$8=function(a){if(a.isDefaultPrevented())return;var b=a.clipboardData;if(b==null)return;d.$3(a,b)},d.$9=function(a){a=a.find(function(a){return b("mimeTypeIsAcceptableToUFI2MediaUploadPlugin")(a.type)});if(a){i(d.props,new Blob([a],{type:a.type}));return"handled"}return"not-handled"},d.$10=function(a){d.props.inputProps.onComposerStateChange(function(a){return{attachment:null}})},c)||babelHelpers.assertThisInitialized(d)}var f=d.prototype;f.$3=function(a,c){if(c==null)return;var d=b("indexOfFirstItemInDataTransferAcceptableToUFI2MediaUploadPlugin")(c);if(d===-1)return;c=Array.from(c.items);c=d<c.length?c[d].getAsFile():null;c!=null&&(a.preventDefault(),i(this.props,c))};f.$6=function(a){var c=a.dataTransfer;if(c==null)return;b("indexOfFirstItemInDataTransferAcceptableToUFI2MediaUploadPlugin")(c)!==-1&&a.preventDefault()};f.$11=function(){var c=this;if(this.state.upgradedPlugin||this.$2)return;this.$2=!0;this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules(["getUpgradedUFI2MediaUploadComposerPlugin"],function(b){c.setState({upgradedPlugin:b(a)})},"createUFI2MediaUploadComposerPlugin"))};f.componentDidMount=function(){this.state.upgradedPlugin?this.state.upgradedPlugin.installPlugin(this.props,this.state,this.setState.bind(this)):this.$12()&&this.$11()};f.$12=function(){if(this.state.upgradedPlugin||this.$2)return!1;var a=this.props.inputProps.composerState;return a.attachment!=null&&a.attachment.__type==="Media"};f.componentDidUpdate=function(a,b){b.upgradedPlugin==null&&this.state.upgradedPlugin!=null&&this.state.upgradedPlugin.installPlugin(this.props,this.state,this.setState.bind(this)),this.state.upgradedPlugin?this.state.upgradedPlugin.componentDidUpdate(a,this.props,this.state,this.setState.bind(this)):this.$12()&&this.$11()};f.render=function(){var a=this;if(this.state.upgradedPlugin)return this.state.upgradedPlugin.render(this.props,this.state,this.setState.bind(this),this.$4,this.$5,this.$6,this.$7,k,this.$8,this.$9,c);var d=j(this.props.inputProps.composerState),e=b("React").createElement(c,babelHelpers["extends"]({},this.props,{actions:this.props.inputProps.composerState.attachment?this.props.actions:[].concat(this.props.actions,[b("React").createElement(b("UFI2MediaUploadComposerAction.react"),{fileIsHoveringOverDropTarget:this.state.fileIsHoveringOverDropTarget,hasErrored:!1,key:"mediaUploadComposerAction",onComposerStateChange:this.props.inputProps.onComposerStateChange})]),inputProps:babelHelpers["extends"]({},this.props.inputProps,{handleKeyCommand:function(b,c){return k(a.props,b,c)},handlePastedFiles:this.$9})})),f=h._("Cancel upload");return b("React").createElement("div",{className:"_25-w",onDragEnter:this.$4,onDragLeave:this.$5,onDragOver:this.$6,onDrop:this.$7},e,d?b("React").createElement(b("UFI2ComposerPreviewArea.react"),{onRemoveClick:this.$10,removeButtonLabel:f},b("React").createElement(b("ProgressBar.react"),{label:h._("{value}\u0025",[h._param("value","0")]),value:0})):null)};return d}(b("React").Component);return b("createUFI2ComposerPlugin")(b("injectSubscriptionsHandler.react")(d))}}e.exports=a}),null);
__d("createUFI2MentionsComposerPlugin",["Bootloader","React","Run","createUFI2ComposerPlugin","ifRequired","injectSubscriptionsHandler.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();return function(c){__p&&__p();var d=!1,e=function(f){__p&&__p();babelHelpers.inheritsLoose(e,f);function e(){var c,e;for(var g=arguments.length,h=new Array(g),i=0;i<g;i++)h[i]=arguments[i];return(c=e=f.call.apply(f,[this].concat(h))||this,e.state={characterOffset:0,mentionableEntities:[],selectedMentionableEntity:null,upgradedPlugin:b("ifRequired").call(b("ifRequired"),a.upgradedPluginResource.getModuleId(),function(b){return b(a,d)},function(){return null})},e.$1=!1,e.$3=function(a){d=!1,e.props.inputProps.onBlur&&e.props.inputProps.onBlur(a)},e.$4=function(a){d=!0,e.$2(),e.props.inputProps.onFocus&&e.props.inputProps.onFocus(a)},c)||babelHelpers.assertThisInitialized(e)}var g=e.prototype;g.componentDidMount=function(){var a=this;this.state.upgradedPlugin!=null?this.state.upgradedPlugin.installPlugin(this.props):this.props.subscriptionsHandler.addSubscriptions(b("Run").onAfterLoad(function(){return a.$2()}))};g.componentDidUpdate=function(a,b){b.upgradedPlugin==null&&this.state.upgradedPlugin!=null&&this.state.upgradedPlugin.installPlugin(this.props),this.state.upgradedPlugin&&this.state.upgradedPlugin.componentDidUpdate(a,b,this.props,this.state,this.setState.bind(this))};g.componentWillUnmount=function(){this.state.upgradedPlugin&&this.state.upgradedPlugin.componentWillUnmount()};g.$2=function(){var c=this;if(this.$1||this.state.upgradedPlugin)return;this.$1=!0;this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules.call(b("Bootloader"),[a.upgradedPluginResource.getModuleId()],function(b){c.setState({upgradedPlugin:b(a,d)})}))};g.render=function(){var a=this.props;a.subscriptionsHandler;a=babelHelpers.objectWithoutPropertiesLoose(a,["subscriptionsHandler"]);if(this.state.upgradedPlugin)return this.state.upgradedPlugin.render(this.props,this.state,this.setState.bind(this),c);else return b("React").createElement(c,babelHelpers["extends"]({},a,{inputProps:babelHelpers["extends"]({},this.props.inputProps,{onBlur:this.$3,onFocus:this.$4})}))};return e}(b("React").Component);return b("createUFI2ComposerPlugin")(b("injectSubscriptionsHandler.react")(e))}}e.exports=a}),null);
__d("createUFI2PrefillMentionComposerPlugin",["requireDeferred","FBLogger","React","UFIODSLogger","UFIVersion","createUFI2ComposerPlugin","injectSubscriptionsHandler.react","invokeDeferredFunctionIfRequired"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("requireDeferred")("getUpgradedUFI2PrefillMentionComposerPlugin");function a(){__p&&__p();return function(a){__p&&__p();var c=function(d){__p&&__p();babelHelpers.inheritsLoose(c,d);function c(){var a,c;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(a=c=d.call.apply(d,[this].concat(f))||this,c.state={upgradedPlugin:b("invokeDeferredFunctionIfRequired")(g)},c.$1=function(a){var d=c.state.upgradedPlugin;d?(a.__type==="PrefillMention"&&b("UFIODSLogger").bump("prefill_mention_plugin.prefill_requested.with_implementation",b("UFIVersion").RELAY),d.handleCommand(a,c.props.inputProps)):(a.__type==="PrefillMention"&&(b("UFIODSLogger").bump("prefill_mention_plugin.prefill_requested.without_implementation",b("UFIVersion").RELAY),b("FBLogger")("ufi2").warn("Someone called for the composer to be prefilled with a mention before the prefill code had loaded. Nothing fatal happened, but the users involved experienced a degraded experience; the original author of the comment that was being replied to was likely not mentioned, hence they might not have been notified of the reply.")),c.props.inputProps.handleCommand&&c.props.inputProps.handleCommand(a))},a)||babelHelpers.assertThisInitialized(c)}var e=c.prototype;e.componentDidMount=function(){var a=this;this.state.upgradedPlugin||this.props.subscriptionsHandler.addSubscriptions(g.onReady(function(b){a.setState({upgradedPlugin:b()})}))};e.render=function(){return b("React").createElement(a,babelHelpers["extends"]({},this.props,{inputProps:babelHelpers["extends"]({},this.props.inputProps,{handleCommand:this.$1})}))};return c}(b("React").Component);return b("createUFI2ComposerPlugin")(b("injectSubscriptionsHandler.react")(c))}}e.exports=a}),null);
__d("UFI2InsertStickerComposerAction.react",["cx","fbt","JSResource","React","UFI2ComposerAction.react","UFI2ComposerActionPlaceholder.react","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("lazyLoadComponent")(b("JSResource")("UFI2InsertStickerButton.react").__setRef("UFI2InsertStickerComposerAction.react"));function a(a){var c=h._("Post a sticker");return b("React").createElement(b("UFI2ComposerAction.react"),{createComponentProps:function(b){var d=b.clicked;b=b.onFocusableElementRefChange;return{buttonClassName:"_1t9_ _2r-o",iconActiveClassName:"_2r-q",iconClassName:"_2r-r",initiallyVisible:d,label:c,onComposerStateChange:a.onComposerStateChange,onFocusableElementRefChange:b}},label:c,placeholder:b("React").createElement(b("UFI2ComposerActionPlaceholder.react"),{buttonClassName:"_1t9_ _2r-o",iconClassName:"_2r-r",label:c}),resource:i})}e.exports=a}),null);
__d("createUFI2StickersComposerPlugin",["cx","fbt","Bootloader","FBLogger","LoadingIndicator.react","React","UFI2ComposerPreviewArea.react","UFI2InsertStickerComposerAction.react","createUFI2ComposerPlugin","ifRequired","injectSubscriptionsHandler.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a){return a.attachment&&a.attachment.__type==="Sticker"?a.attachment.id:null}function a(a){__p&&__p();return function(c){__p&&__p();var d=function(e){__p&&__p();babelHelpers.inheritsLoose(d,e);function d(){__p&&__p();var c,d;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(c=d=e.call.apply(e,[this].concat(g))||this,d.$1=!1,d.state={upgradedPlugin:b("ifRequired")("getUpgradedUFI2StickersComposerPlugin",function(b){return b(a)},function(){return null})},d.$2=function(a){d.props.inputProps.onComposerStateChange(function(a){return{attachment:null}})},d.$3=function(a){d.props.inputProps.onComposerStateChange(function(){return{attachment:null}}),b("FBLogger")("ufi2").catching(a).mustfix("Encountered an error while rendering a sticker.")},c)||babelHelpers.assertThisInitialized(d)}var f=d.prototype;f.$4=function(c){var d=b("React").createElement(b("LoadingIndicator.react"),{className:"_1rwi mal",color:"blue",size:"small"});if(this.state.upgradedPlugin)return this.state.upgradedPlugin.renderSticker(a.environment,d,this.$3,c);else return d};f.$5=function(){if(this.state.upgradedPlugin||this.$1)return!1;var a=this.props.inputProps.composerState;return a.attachment!=null&&a.attachment.__type==="Sticker"};f.$6=function(){var c=this;if(this.state.upgradedPlugin||this.$1)return;this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules(["getUpgradedUFI2StickersComposerPlugin"],function(b){c.setState({upgradedPlugin:b(a)})},"createUFI2StickersComposerPlugin"))};f.componentDidMount=function(){this.props.onInstallAttachmentMappers(function(a){return a.__type==="Sticker"?{media:{id:a.id}}:null}),this.$5()&&this.$6()};f.componentDidUpdate=function(a){__p&&__p();var b=this.props.inputProps.composerState;a=a.inputProps.composerState;var c=i(b);if(this.props.inputProps.commentAction==="ADD"&&b.updateSource==="UFI2InsertStickerButton"&&a.attachment==null&&c&&i(a)==null){c=b.inputState;a=!1;switch(c.__type){case"plain-text":a=c.text.trim()!=="";break;case"editor-state-based":a=c.editorState.getCurrentContent().getPlainText().trim()!=="";break;default:c.__type}a===!1&&this.props.inputProps.onCommit()}this.$5()&&this.$6()};f.render=function(){var a=i(this.props.inputProps.composerState);return b("React").createElement("div",{className:"_1rwk"},b("React").createElement(c,babelHelpers["extends"]({},this.props,{actions:this.props.inputProps.composerState.attachment?this.props.actions:[].concat(this.props.actions,[b("React").createElement(b("UFI2InsertStickerComposerAction.react"),{key:"stickersComposerAction",onComposerStateChange:this.props.inputProps.onComposerStateChange})])})),a?b("React").createElement(b("UFI2ComposerPreviewArea.react"),{onRemoveClick:this.$2,removeButtonLabel:h._("Remove sticker")},this.$4(a)):null)};return d}(b("React").Component);return b("createUFI2ComposerPlugin")(b("injectSubscriptionsHandler.react")(d))}}e.exports=a}),null);
__d("createUFI2ComposerTipPlugin",["cx","React","createUFI2ComposerPlugin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){__p&&__p();return function(c){var d=function(e){babelHelpers.inheritsLoose(d,e);function d(){return e.apply(this,arguments)||this}var f=d.prototype;f.render=function(){return this.props.inputProps.commentAction==="EDIT"?b("React").createElement(c,this.props):b("React").createElement(b("React").Fragment,null,b("React").createElement(c,this.props),b("React").createElement("div",{className:"_6g0t fcg fss"},a.composer_tip))};return d}(b("React").Component);return b("createUFI2ComposerPlugin")(d)}}e.exports=a}),null);
__d("createUFI2LiveTypingBroadcastComposerPlugin",["Bootloader","React","createUFI2ComposerPlugin","ifRequired","injectSubscriptionsHandler.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();return function(c){__p&&__p();var d=function(e){__p&&__p();babelHelpers.inheritsLoose(d,e);function d(){var c,d;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(c=d=e.call.apply(e,[this].concat(g))||this,d.$1=!1,d.$2=!1,d.state={upgradedPlugin:b("ifRequired")("getUpgradedUFI2LiveTypingBroadcastComposerPlugin",function(b){return b(a)},function(){return null})},c)||babelHelpers.assertThisInitialized(d)}var f=d.prototype;f.componentWillUnmount=function(){this.state.upgradedPlugin!=null&&this.state.upgradedPlugin.componentWillUnmount()};f.$3=function(){var c=this;if(this.state.upgradedPlugin||this.$1)return;this.$1=!0;this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules(["getUpgradedUFI2LiveTypingBroadcastComposerPlugin"],function(b){b=b(a);b.onBootload(c.props,c.state,c.$2);c.setState({upgradedPlugin:b})},"createUFI2LiveTypingBroadcastComposerPlugin"))};f.render=function(){__p&&__p();var a=this;if(this.state.upgradedPlugin!=null)return this.state.upgradedPlugin.render(this.props,this.state,c);else return b("React").createElement(c,babelHelpers["extends"]({},this.props,{inputProps:babelHelpers["extends"]({},this.props.inputProps,{onBlur:function(b){a.props.inputProps.onBlur&&a.props.inputProps.onBlur(b);if(b.isDefaultPrevented())return;a.$2=!1},onFocus:function(b){a.props.inputProps.onFocus&&a.props.inputProps.onFocus(b);if(b.isDefaultPrevented())return;a.$2=!0;a.$3()}})}))};return d}(b("React").Component);return b("createUFI2ComposerPlugin")(b("injectSubscriptionsHandler.react")(d))}}e.exports=a}),null);
__d("getComposerStateSnapshotter",["memoizeWithArgsWeak"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=typeof WeakMap==="function";var g=c?new WeakMap():new Map();function h(a){var b=g.get(a);b==null&&(b={},g.set(a,b));return b}function i(a){a=a.inputProps;var b=a.depth;a=a.composerState.feedbackID;return JSON.stringify({depth:b,feedback:{id:a}})}function a(a,b){var c=i(b),d=h(a);return{clear:function(){delete d[c]},get:function(){return d[c]},set:function(a){d[c]=a}}}e.exports=b("memoizeWithArgsWeak")(a)}),null);
__d("createUFI2ComposerStateSnapshotComposerPlugin",["React","UFI2SurfaceContainerConsumer.react","createUFI2ComposerPlugin","getComposerStateSnapshotter","killswitch"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){__p&&__p();return function(a){__p&&__p();var c=function(d){__p&&__p();babelHelpers.inheritsLoose(c,d);function c(){var a,b;for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];return(a=b=d.call.apply(d,[this].concat(e))||this,b.$1=!1,b.$2=function(a){b.$1=!0,b.props.inputProps.onComposerStateChange(a)},b.$3=function(){b.$1=!1,b.props.snapshotter.clear(),b.props.inputProps.onCommit()},a)||babelHelpers.assertThisInitialized(b)}var e=c.prototype;e.componentWillUnmount=function(){this.$1&&this.props.snapshotter.set(this.props.inputProps.composerState)};e.render=function(){var c=this.props,d=c.snapshotter,e=c.initialComposerState,f=c.inputProps;c=babelHelpers.objectWithoutPropertiesLoose(c,["snapshotter","initialComposerState","inputProps"]);if(e)return b("React").createElement(a,babelHelpers["extends"]({},c,{initialComposerState:e,inputProps:f}));e=d.get();return b("React").createElement(a,babelHelpers["extends"]({},c,{inputProps:babelHelpers["extends"]({},f,{composerState:e!=null&&!this.$1?e:f.composerState,onCommit:this.$3,onComposerStateChange:this.$2})}))};return c}(b("React").Component);function d(a){return b("React").createElement(b("UFI2SurfaceContainerConsumer.react"),null,function(d){return b("React").createElement(c,babelHelpers["extends"]({},a,{snapshotter:b("getComposerStateSnapshotter")(d,a)}))})}return b("createUFI2ComposerPlugin")(d)}}e.exports=b("killswitch")("UFI2_COMPOSER_STATE_SNAPSHOT_PLUGIN")?function(){return null}:a}),null);
__d("UFI2ToggleWritingHelpComposerAction.react",["cx","fbt","React","UFI2NUXConfig","UFI2ToggleWritingHelpButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=6638;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=this.props,d=c.isActive;c=c.onClick;var e=h._("Get more writing help");return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("UFI2ToggleWritingHelpButton.react"),{buttonClassName:"_1t9_ _740d",iconActiveClassName:"_740e",iconClassName:"_740f",isActive:d,onClick:c,ref:"writing_help_button",tooltip:e}),b("UFI2NUXConfig").UFI2WritingHelpNUX?b("React").createElement(b("UFI2NUXConfig").UFI2WritingHelpNUX,{contextRef:function(){return a.refs.writing_help_button},nuxID:i,shouldShow:this.props.hasText},h._("Proofread your text and get additional writing suggestions")):null)};return c}(b("React").PureComponent);e.exports=a}),null);
__d("createUFI2WritingHelpComposerPlugin",["cx","Bootloader","React","UFI2ToggleWritingHelpComposerAction.react","XUISpinner.react","createUFI2ComposerPlugin","ifRequired","injectSubscriptionsHandler.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(){__p&&__p();return function(a){__p&&__p();var c=function(d){__p&&__p();babelHelpers.inheritsLoose(c,d);function c(){var a,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=c=d.call.apply(d,[this].concat(f))||this,c.$1=!1,c.state={isActive:!1,isInitialSuggestionCheck:!0,upgradedPlugin:b("ifRequired")("getUpgradedUFI2WritingHelpComposerPlugin",function(a){return a()},function(){return null}),userText:""},c.$2=function(a){c.setState(function(a){return{isActive:!a.isActive,isInitialSuggestionCheck:!0,userText:a.upgradedPlugin?a.upgradedPlugin.getUserText(c.props):""}}),c.$3()},a)||babelHelpers.assertThisInitialized(c)}var e=c.prototype;e.$3=function(){var a=this;if(this.state.upgradedPlugin||this.$1)return;this.$1=!0;this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules(["getUpgradedUFI2WritingHelpComposerPlugin"],function(b){b=b();a.setState({upgradedPlugin:b,userText:b.getUserText(a.props)})},"createUFI2WritingHelpComposerPlugin"))};e.render=function(){__p&&__p();if(this.state.upgradedPlugin)return this.state.upgradedPlugin.render(this.props,this.state,this.setState.bind(this),a,this.$2);var c=this.props,d=c.actions;c.subscriptionsHandler;c=babelHelpers.objectWithoutPropertiesLoose(c,["actions","subscriptionsHandler"]);function e(a){a=a.inputProps.composerState.inputState;switch(a.__type){case"editor-state-based":return a.editorState.getCurrentContent().hasText();case"plain-text":return a.text.length>0}return!1}c=b("React").createElement(a,babelHelpers["extends"]({},c,{actions:[].concat(d,[b("React").createElement(b("UFI2ToggleWritingHelpComposerAction.react"),{hasText:e(this.props),isActive:this.state.isActive,key:"writingHelpComposerAction",onClick:this.$2})])}));return b("React").createElement("div",{className:"_73_f"},c,this.state.isActive?b("React").createElement("div",{className:"_73_g"},b("React").createElement(b("XUISpinner.react"),{className:"_73_h",size:"large"})):null)};return c}(b("React").Component);return b("createUFI2ComposerPlugin")(b("injectSubscriptionsHandler.react")(c))}}e.exports=a}),null);
__d("setFocusOnUFI2ComposerInputState",["FBLogger","ifRequired"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var c=a.inputState;switch(c.__type){case"editor-state-based":return b("ifRequired")("EditorState",function(b){return babelHelpers["extends"]({},a,{inputState:babelHelpers["extends"]({},c,{editorState:b.moveFocusToEnd(c.editorState)})})},function(){b("FBLogger")("ufi2").mustfix("Tried to set focus on a composer state whose inputState was of type `editor-state-based` but the EditorState module has not yet been defined. It should not be possible to produce a composer state of that type without the `EditorState` module being defined. Investigate why.");return a});case"plain-text":default:var d=c.text.length;return babelHelpers["extends"]({},a,{inputState:babelHelpers["extends"]({},c,{selectionOffsets:{end:d,start:d}})})}}e.exports=a}),null);
__d("UFI2CommentActionLink.react",["cx","fbt","React","RelayModern","UFI2AbstractButtonWrapper.react","UFI2ActionLink.react","joinClasses","UFI2CommentActionLink_feedback.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){var c=a.className,d=a.feedback,e=a.inverse,f=a.onClick;return d&&d.can_viewer_comment?b("React").createElement(b("UFI2ActionLink.react"),null,function(a){a=a.className;return b("React").createElement(b("UFI2AbstractButtonWrapper.react"),{className:b("joinClasses")((e?"_6r34":"")+" _666h",a,c),href:"#",label:h._("Comment"),onClick:f,role:"button",tabIndex:0,testid:"UFI2CommentLink",title:h._("Leave a comment")})}):null}a.displayName="UFI2CommentActionLink";e.exports=c(a,{feedback:function(){return b("UFI2CommentActionLink_feedback.graphql")}})}),null);
__d("UFI2PrivateReplyLink.react",["fbt","invariant","ActorURI","Bootloader","React","RelayModern","UFI2LinkWrapper.react","UFI2PrimerDialogWrapper.react","UFI2TooltipCometCompatWrapper.react","XPagesMessagingPrivateReplyDialogController","UFI2PrivateReplyLink_feedback.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var i="private_reply",j=g._("Message");function a(a){__p&&__p();var c,d;if(!k(a))return null;var e=(c=a.feedback.page_private_reply)==null?void 0:c.status;if(e==null)return null;c=a.WrapperComponent;switch(e){case"REPLYABLE":var f=(d=a.feedback.page_private_reply)==null?void 0:(d=d.activity)==null?void 0:d.id,g=(d=a.feedback.page_private_reply)==null?void 0:(d=d.activity)==null?void 0:d.type,i=(d=a.feedback.page_private_reply)==null?void 0:(d=d.page)==null?void 0:d.id,j=(d=a.feedback.page_private_reply)==null?void 0:d.should_show_private_reply_nux;f!=null||h(0,5847);i!=null||h(0,5848);return b("React").createElement(c,null,function(a){a=a.className;return b("React").createElement(n,{activityID:f,activityType:g,className:a,pageID:i,shouldShowPrivateReplyNux:j})});case"ALREADY_REPLIED":var l=(d=a.feedback.page_private_reply)==null?void 0:d.permalink;return l==null?null:b("React").createElement(c,null,function(c){c=c.className;return b("React").createElement(o,{className:c,permalink:l,seeResponseLabel:a.seeResponseLabel})});default:return b("React").createElement(c,{enabled:!1},function(c){var d;c=c.className;return b("React").createElement(p,{activityType:(d=a.feedback.page_private_reply)==null?void 0:(d=d.activity)==null?void 0:d.type,className:c,status:e})})}}a.displayName="UFI2PrivateReplyLink";function k(a){var b,c;a=a.feedback;if(!a)return!1;b=(b=a.page_private_reply)==null?void 0:b.has_reply_permission;c=(c=a.viewer_current_actor)==null?void 0:c.id;a=(a=a.page_private_reply)==null?void 0:(a=a.page)==null?void 0:a.id;return b===!0&&c!=null&&c===a}function l(a){switch(a){case"COMMENT_PAGE_POST":case"COMMENT_WALL_POST":case"COMMENT_CUSTOMER_GROUP_USER_POST":case"COMMENT_REVIEW":return"comments";case"REVIEW":return"reviews";default:return"posts"}}var m=!1;function n(a){__p&&__p();var c=a.activityID,d=a.activityType,e=a.className,f=a.pageID;a=a.shouldShowPrivateReplyNux;var g=b("ActorURI").create(b("XPagesMessagingPrivateReplyDialogController").getURIBuilder().setString("activity_id",c).getURI(),f);a=a!=!1&&!m;a!=!1&&(m=!0);b("Bootloader").loadModules(["PagesLogger"],function(a){a.log(f,"impression","comment_message_button",null,["business_messaging_growth"],{activity_type:d,comment_id:c,messenger_entry_point:i})},"UFI2PrivateReplyLink.react");return b("React").createElement(b("UFI2PrimerDialogWrapper.react"),{Component:b("UFI2LinkWrapper.react"),props:{children:b("React").createElement(b("React").Fragment,null,j,a===!0?b("React").createElement(q,null):null),className:e,href:g.toString(),onClick:function(){b("Bootloader").loadModules(["PagesLogger"],function(a){a.log(f,"click","comment_message_button",null,["business_messaging_growth"],{activity_type:d,comment_id:c,messenger_entry_point:i})},"UFI2PrivateReplyLink.react")},rel:"dialog"}})}function o(a){var c=a.className,d=a.permalink;a=a.seeResponseLabel;return b("React").createElement(b("UFI2LinkWrapper.react"),{className:c,href:d||"#"},a?g._("See Response"):j)}function p(a){__p&&__p();var c=a.activityType,d=a.className;a=a.status;var e;switch(a){case"EXPIRED":e=g._({"comments":"You can't send a message response to comments that are older than 6 months.","reviews":"You can't send a message response to reviews that are older than 6 months.","posts":"You can't send a message response to posts that are older than 6 months."},[g._enum(l(c),{comments:"comments",reviews:"reviews",posts:"posts"})]);break;case"NOT_USER_CREATED":e=g._("Pages can't send private messages to other Pages.");break;case"CANNOT_MESSAGE":e=g._("This person can't receive a message reply from your Page.");break}a=b("React").createElement("span",{className:d},j);return e!=null?b("React").createElement(b("UFI2TooltipCometCompatWrapper.react"),{delayMountUntilHover:!0,tooltip:e},a):a}function q(){return null}d=c(a,{feedback:function(){return b("UFI2PrivateReplyLink_feedback.graphql")}});e.exports=d}),null);
__d("UFI2PrivateReplyActionLink.react",["cx","React","RelayModern","UFI2ActionLink.react","UFI2PrivateReplyLink.react","UFI2PrivateReplyActionLink_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){var c=a.feedback;a=a.seeResponseLabel;return b("React").createElement(b("UFI2PrivateReplyLink.react"),{WrapperComponent:function(a){return b("React").createElement(b("UFI2ActionLink.react"),babelHelpers["extends"]({},a,{linkClassName:"_6dc2"}))},feedback:c,seeResponseLabel:a})}a.displayName="UFI2PrivateReplyActionLink";d=c(a,{feedback:function(){return b("UFI2PrivateReplyActionLink_feedback.graphql")}});e.exports=d}),null);
__d("UFI2ShareActionLink.react",["cx","fbt","invariant","Promise","ActorURI","Bootloader","CurrentUser","JSResource","React","RelayModern","TrackingNodes","UFI2ActionLink.react","UFI2LocalUserAction","UFI2PrimerDialogWrapper.react","UFICommonInteractionEvents","UFICommonInteractionLogger","URI","XUISpinner.react","clearTimeout","joinClasses","lazyLoadComponent","setTimeoutAcrossTransitions","UFI2ShareActionLink_feedback.graphql","UFI2ShareActionLink_shareableConfig.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var j=b("lazyLoadComponent")(b("JSResource")("UFIShareNowMenu.react").__setRef("UFI2ShareActionLink.react"));c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=!1,d.$3=!1,d.$4=null,d.state={focusOnInit:!1,interacted:!1,isLoading:!1,misinformationDialogConfirmed:!1,openAfterMisinformationConfirmed:!1,openAfterPagePostInterceptionConfirmed:!1,openOnInit:!1},d.$5=function(){d.$1!=null&&(b("UFICommonInteractionLogger").endInteraction(d.$1),d.$1=null),d.$3=!0,d.$6()},d.$7=function(){d.$3=!1},d.$8=function(){var a=d.props.shareableConfig,c=a==null?void 0:a.misinformation_confirm_dialog_uri;c!=null||i(0,866);b("Bootloader").loadModules(["AsyncRequest","AsyncDialog","ShareWarningFactCheckLinkLogger"],function(a,e,f){e.send(new a(new(b("URI"))(c).getUnqualifiedURI()),function(a){a.subscribe("confirm",function(){d.setState({misinformationDialogConfirmed:!0,openAfterMisinformationConfirmed:!0})}),f.addReshareLoggingToDialog(a)})},"UFI2ShareActionLink.react");d.$6()},d.$10=function(){d.$1==null&&!d.$3&&(d.$1=b("UFICommonInteractionLogger").startInteraction(b("UFICommonInteractionEvents").UFI2_SHARE_DIALOG_OPENS))},d.$11=function(){if(d.$2)return;d.setState({focusOnInit:!0,interacted:!0})},d.$12=function(){d.$2||d.$13()},d.$14=function(){d.$2=!0},d.$15=function(){d.setState({interacted:!0})},d.$13=function(){d.setState({interacted:!0,openOnInit:!0},function(){b("clearTimeout")(d.$4),d.$4=b("setTimeoutAcrossTransitions")(function(){return d.setState(function(a){return a.openOnInit?{isLoading:!0}:null})},300)}),d.$10()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentWillUnmount=function(){b("clearTimeout")(this.$4)};d.$6=function(){b("UFI2LocalUserAction").emit("share",{feedbackNodeToken:this.props.feedbackTargetID})};d.$9=function(a){__p&&__p();var c=this;b("Bootloader").loadModules(["PagePostEngagementFrictionActions","PagePostEngagementFictionDialogStrings","promiseDone"],function(d,e,f){__p&&__p();var g=new(b("Promise"))(function(b,c){d.showReshareEngagementFrictionDialog(a,function(){return b(!0)},function(){return b(!1)},function(){b(!1);var c=e.getStrings(a);d.goToPage(c.pageId)})}).then(function(a){a&&(c.setState({interacted:!0,openAfterPagePostInterceptionConfirmed:!0}),c.$10())},function(a){throw a});f(g)},"UFI2ShareActionLink.react")};d.render=function(){__p&&__p();var a=this,c,d=this.props,e=d.className,f=d.linkClassName,g=d.feedback,h=d.feedbackTargetID,i=d.inverse;d=d.shareableConfig;var l=this.state,m=l.focusOnInit,n=l.interacted,o=l.isLoading,p=l.misinformationDialogConfirmed,q=l.openAfterMisinformationConfirmed,r=l.openOnInit;if(!d||!d.share_action_link_uri)return null;g=g==null?void 0:(l=g.viewer_current_actor)==null?void 0:l.id;l=d==null?void 0:d.misinformation_confirm_dialog_uri;var s=d==null?void 0:d.intercept_for_page_post,t=d==null?void 0:(c=d.share_action_link_primer_attributes)==null?void 0:c.rel,u=new(b("URI"))(d==null?void 0:d.share_action_link_uri);c=d==null?void 0:d.share_now_menu_uri;if(l&&!p)return b("React").createElement(b("UFI2ActionLink.react"),{linkClassName:f},function(c){c=c.className;return b("React").createElement(k,{className:c,inverse:i,onClick:a.$8})});if(s&&!this.$3&&!this.state.openAfterPagePostInterceptionConfirmed)return b("React").createElement(b("UFI2ActionLink.react"),{linkClassName:f},function(c){c=c.className;return b("React").createElement(k,{className:c,inverse:i,onClick:function(b){return a.$9(h)}})});var v;g&&(u=u&&b("ActorURI").create(u,g),v=c&&new(b("URI"))(c).addQueryData("actor_id",g));if(!v)return b("React").createElement(b("UFI2ActionLink.react"),{linkClassName:f},function(c){c=c.className;return b("React").createElement(k,{className:c,href:u,inverse:i,onClick:function(){return a.$6()},openDialogOnMount:q,rel:t})});var w={isLoading:o,onClick:this.$12,onFocus:this.$11,onMouseDown:this.$14,onMouseOver:this.$15,onMouseUp:this.$13};return b("React").createElement(b("UFI2ActionLink.react"),{linkClassName:f},function(c){c=c.className;return b("React").createElement("span",{className:b("joinClasses")("_1j6m",e)},v&&n?b("React").createElement(b("React").Suspense,{fallback:b("React").createElement(k,babelHelpers["extends"]({},w,{className:c,inverse:i})),maxDuration:1e3},b("React").createElement(j,{className:"_6800",endpoint:v.getPath(),endpointData:v.getQueryData(),focusOnInit:m,onHide:a.$7,onShow:a.$5,openOnInit:r||a.state.openAfterPagePostInterceptionConfirmed},b("React").createElement(k,{className:c,inverse:i,onClick:function(){return a.$6()},onMouseUp:a.$10}))):b("React").createElement(k,babelHelpers["extends"]({},w,{className:c,inverse:i})))})};return c}(b("React").Component);c.displayName="UFI2ShareActionLink";var k=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.$1=null,b.$2=function(a){b.$1=a},b.$3=function(a){var c=b.props.onClick;c&&(a.preventDefault(),c(a))},a)||babelHelpers.assertThisInitialized(b)}var d=a.prototype;d.componentDidMount=function(){var a=this.props.openDialogOnMount;a===!0&&this.$1&&this.$1.click()};d.render=function(){var a=this.props,c=a.className,d=a.isLoading,e=a.rel;a.href;a=babelHelpers.objectWithoutPropertiesLoose(a,["className","isLoading","rel","href"]);var f=this.props.href&&!this.props.href.isEmpty()?this.props.href.getUnqualifiedURI():"#",g=b("CurrentUser").isWorkUser()?h._("Send this to coworkers or post it on your timeline."):h._("Send this to friends or post it on your timeline."),i='{ "tn": "'+b("TrackingNodes").encodeTN(b("TrackingNodes").types.SHARE_LINK)+'", "type": 25 }';d=d===!0?b("React").createElement(b("XUISpinner.react"),{className:"_2nj6"}):null;return e==="dialog"?b("React").createElement(b("UFI2PrimerDialogWrapper.react"),{Component:"a",props:babelHelpers["extends"]({},a,{children:b("React").createElement(b("React").Fragment,null,h._("Share"),d),className:b("joinClasses")((this.props.inverse?"_6r37":"")+" _2nj7",c),"data-ft":i,href:f.toString(),onClick:this.$3,ref:this.$2,rel:e,role:"button",tabIndex:0,title:g})}):b("React").createElement("a",babelHelpers["extends"]({},a,{className:b("joinClasses")((this.props.inverse?"_6r37":"")+" _2nj7",c),"data-ft":i,href:f,onClick:this.$3,ref:this.$2,rel:e,role:"button",tabIndex:0,title:g}),h._("Share"),d)};return a}(b("React").Component);e.exports=a(c,{feedback:function(){return b("UFI2ShareActionLink_feedback.graphql")},shareableConfig:function(){return b("UFI2ShareActionLink_shareableConfig.graphql")}})}),null);
__d("UFI2ActorSelector.react",["cx","BizSiteIdentifier.brands","JSResource","PageVoiceDropdownSelector.react","React","RelayModern","Run","UFI2NUXConfig","UFIODSLogger","UFIVersion","emptyFunction","isEmpty","joinClasses","lazyLoadComponent","UFI2ActorSelector_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var h=b("lazyLoadComponent")(b("JSResource")("UFI2ActorSelectorNUX.react").__setRef("UFI2ActorSelector.react")),i=!1;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var d,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(d=e=a.call.apply(a,[this].concat(g))||this,e.root=b("React").createRef(),e.state=c.getDerivedStateFromProps(e.props),e.$1=function(){return e.setState({showNUX:!1})},e.$2=function(a){b("UFIODSLogger").bump("actor_selector.on_change",b("UFIVersion").RELAY),e.props.onActorChange(a.value)},d)||babelHelpers.assertThisInitialized(e)}c.getDerivedStateFromProps=function(a,b){__p&&__p();var c,d;a=a.feedback;c=(c=(c=(c=a.viewer_current_actor)==null?void 0:c.id)!=null?c:(c=a.account_actor)==null?void 0:c.id)!=null?c:"";if(!a.can_see_voice_switcher)return{actorData:{},selectedActorID:c,showNUX:Boolean(b&&b.showNUX),userID:c};d=(d=(d=a.voice_switcher_actors)==null?void 0:d.nodes)!=null?d:[];var e={};d.forEach(function(a){var b=a.id;if(b){e[b]={name:a.name,thumbSrc:(b=a.profile_picture)==null?void 0:b.uri}}});a=(d=a.account_actor)==null?void 0:d.id;(a==null||!(a in e))&&(a=c);return{actorData:e,selectedActorID:c,showNUX:Boolean(b&&b.showNUX),userID:a}};var d=c.prototype;d.componentDidMount=function(){var a=this;b("UFIODSLogger").bump("actor_selector.component_did_mount",b("UFIVersion").RELAY);!i&&b("UFI2NUXConfig").shouldShowActorSelectorNUX&&(i=!0,b("Run").onAfterLoad(function(){a.setState({showNUX:!0})}))};d.render=function(){var a=this,c=this.state,d=c.actorData,e=c.selectedActorID;c=c.userID;return b("isEmpty")(d)||!d[e]?null:b("React").createElement("div",{className:b("joinClasses")(this.props.className,"_29ak"),ref:this.root},b("React").createElement(b("PageVoiceDropdownSelector.react"),{disabled:!1,onChange:this.$2,onClick:b("emptyFunction"),pages:d,searchBarVisible:!0,selectedActorID:e,showBusinessPages:!1,showPersonalPagesInRoot:!b("BizSiteIdentifier.brands").isBizSite(),suppressed:!0,user:d[c]}),this.state.showNUX?b("React").createElement(b("React").Suspense,{fallback:null},b("React").createElement(h,{contextRef:function(){return a.root.current},feedback:this.props.feedback,onClose:this.$1})):null)};return c}(b("React").Component);e.exports=a(c,{feedback:function(){return b("UFI2ActorSelector_feedback.graphql")}})}),null);
__d("UFI2AddCommentLink.react",["cx","fbt","React","TrackingNodes","UFI2AbstractButtonWrapper.react"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){a=a.onClick;var c=h._("Write a comment\u2026");return b("React").createElement("div",{className:"_694w","data-testid":"UFI2AddCommentLink/root"},b("React").createElement(b("UFI2AbstractButtonWrapper.react"),{className:"_694x","data-ft":b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.COMMENT_LINK),"data-testid":"UFI2AddCommentLink/link",href:"#",label:c,onClick:a,role:"button"}))}e.exports=a}),null);
__d("UFI2CommentDefaultLayout.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.childrenForLayout;var c=a.actionLinks,d=a.firstContentElement,e=a.menu;a=a.otherContentElements;return b("React").createElement(b("React").Fragment,null,b("React").createElement("div",null,b("React").createElement("div",{className:"_6c7i"},d),b("React").createElement("div",{className:"_6c7j"},e)),a.length>0&&b("React").createElement("div",{className:"_4eeo"},a),c)}e.exports=a}),null);
__d("UFI2CommentRow.react",["cx","fbt","requireDeferred","FlexibleBlock.react","Image.react","React","RelayModern","UFI2ProfileLinkDynamic.react","UFI2SilhouetteConfig","deferredLoadComponent","joinClasses","UFI2CommentRow_actor.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var i=b("deferredLoadComponent")(b("requireDeferred")("UFI2ActorPresenceProvider.react"));function a(a){__p&&__p();var c=a.actor,d=a.children,e=a.depth,f=a.displayPresence;f=f===void 0?!1:f;var g=a.isComposer;g=g===void 0?!1:g;a.relay;var j=a.showWarning;j=j===void 0?!1:j;a=babelHelpers.objectWithoutPropertiesLoose(a,["actor","children","depth","displayPresence","isComposer","relay","showWarning"]);var k=null;if(c){var l;l=e===0?(l=(l=c.profile_picture_depth_0)==null?void 0:l.uri)!=null?l:b("UFI2SilhouetteConfig").neutralSilhouette32:(l=(l=c.profile_picture_depth_1)==null?void 0:l.uri)!=null?l:b("UFI2SilhouetteConfig").neutralSilhouette20;var m=c.id;l=b("React").createElement(b("React").Fragment,null,b("React").createElement(b("Image.react"),{alt:c.name,className:"_3me-"+(e===0?" _3mf1":"")+(e===1?" _3mf2":""),src:l}),f&&m!=null?b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("span",null),maxDuration:1e3},b("React").createElement(i,{actorID:m},function(a){return a&&b("React").createElement("span",{className:"_6bi7"},b("React").createElement("span",{className:"accessible_elem"},h._("Active Now")))})):null);f=b("joinClasses")((j?"_2nvx":"")+" _3mf5"+(e===0?" _3mg0":"")+(e===1?" _3mg1":""));k=m!=null?b("React").createElement(b("UFI2ProfileLinkDynamic.react"),{"aria-hidden":!0,className:f,href:c.www_url,tabIndex:-1,uid:m},l):b("React").createElement("span",{"aria-hidden":!0,className:f,onClick:a.onAvatarClick},l)}j=g?{}:{"aria-label":e===0?h._("Comment"):h._("Comment reply"),role:"article"};return b("React").createElement(b("FlexibleBlock.react"),babelHelpers["extends"]({},j,a,{flex:b("FlexibleBlock.react").FLEX.right}),k,d)}a.displayName="UFI2CommentRow";e.exports=c(a,{actor:function(){return b("UFI2CommentRow_actor.graphql")}})}),null);
__d("UFI2CommentTopReactions.react",["cx","fbt","invariant","FBLogger","JSResource","React","RelayModern","UFI2AbstractButtonWrapper.react","UFI2PrimerDialogWrapper.react","UFI2Tooltip.react","UFIReactionIconImpl.react","UFIReactionsProfileBrowserUtils","getReactionKeyFromType","lazyLoadComponent","nullthrows","UFI2CommentTopReactions_feedback.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var j=b("lazyLoadComponent")(b("JSResource")("UFI2CommentReactionIconTooltipContentRenderer.react").__setRef("UFI2CommentTopReactions.react"));c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a,c){a=(c=a.node)==null?void 0:c.reaction_type;a||i(0,2434);c=b("getReactionKeyFromType")(a);return b("React").createElement(b("UFIReactionIconImpl.react"),{className:"_1lg-",key:"UFIReactionIcon:"+c,reaction:c})};d.render=function(){__p&&__p();var a=this,c,d=this.props,e=d.feedback;d=d.relay;var f=e.top_reactions,g=e.reactors;g=g==null?void 0:g.count_reduced;f=f==null?void 0:f.edges;f!=null||i(0,2435);if(f.length===0)return null;c=(c=(c=e.viewer_current_actor)==null?void 0:c.id)!=null?c:"0";if(g==null){b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",e.id||"UNKNOWN").mustfix("UFI2CommentTopReactions: Expected a reaction count");return null}f=f.slice(0,3);c=b("UFIReactionsProfileBrowserUtils").getPrimerProps({actorID:c,feedbackTargetID:b("nullthrows")(e.id,"Failed to fetch an id for the GraphQL `feedback` field.")});c=b("React").createElement(b("UFI2PrimerDialogWrapper.react"),{Component:b("UFI2AbstractButtonWrapper.react"),props:babelHelpers["extends"]({},c,{"aria-label":h._("See who reacted to this"),className:"_1lh9 _1lha",label:b("React").createElement(b("React").Fragment,null,f.map(function(b,c){return a.$1(b,c)}),b("React").createElement("span",{className:"_1lld",key:"count_reduced"},g)),role:"button"})});return b("React").createElement("span",{className:"_1lh3",ref:this.props.rootRef},b("React").createElement(b("UFI2Tooltip.react"),{alignH:"center",className:"_1lh7","data-testid":"UFI2CommentTopReactions/tooltip",environment:d.environment,tabIndex:-1,tooltipContentComponent:j,tooltipContentProps:{queryVariables:{feedbackTargetID:b("nullthrows")(e.id,"Failed to fetch an id for the GraphQL `feedback` field.")}}},c))};return c}(b("React").PureComponent);e.exports=a(c,{feedback:function(){return b("UFI2CommentTopReactions_feedback.graphql")}})}),null);
__d("UFI2CommentTopReactionsWrapper.react",["cx","CSS","DOMIntersection","React","RelayModern","UFI2CommentTopReactions.react","injectSubscriptionsHandler.react","intersectionObserverEntryIsIntersecting","observeIntersection","queryThenMutateDOM","UFI2CommentTopReactionsWrapper_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("DOMIntersection").isIntersecting;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.$2=null,d.$3=!1,d.$4=null,d.$5=null,d.$6=function(a){d.$1=a,a==null&&(d.$5=null),d.$7()},d.$8=function(a){d.$4!=a&&(d.$4=a,d.$2!=null&&(d.$2.remove(),d.$2=null),a&&(d.$2=b("observeIntersection")(a,function(a){d.$3=b("intersectionObserverEntryIsIntersecting")(a),d.$7()},{rootMargin:"1000px"}),d.props.subscriptionsHandler.addSubscriptions(d.$2)))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$7=function(){var a=this,c=this.props.avoidableElementBorderingBottom.current,d=this.$1,e=this.$4;if(this.$5!==null||!c||!d||!e||!this.$3)return;var f=!1;this.props.subscriptionsHandler.addSubscriptions(b("queryThenMutateDOM")(function(){f=h(c,e)},function(){f!==a.$5&&(f===!0&&b("CSS").addClass(d,"_680_"),b("CSS").removeClass(d,"invisible_elem"),a.$5=f,a.$2!=null&&(a.$2.remove(),a.$2=null))},"UFI2CommentTopReactionsWrapper_"+(this.props.feedback.id||"UNKNOWN")))};d.componentDidUpdate=function(){this.$7()};d.render=function(){var a;return b("React").createElement("div",{className:"_680y"},b("React").createElement("div",{className:"_6cuy"},this.props.children),((a=this.props.feedback.reactors)==null?void 0:a.count)?b("React").createElement("div",{className:"_6cuq invisible_elem",ref:this.$6},b("React").createElement(b("UFI2CommentTopReactions.react"),{feedback:this.props.feedback,rootRef:this.$8})):null)};return c}(b("React").Component);c.displayName="UFI2CommentTopReactionsWrapper";e.exports=a(b("injectSubscriptionsHandler.react")(c),{feedback:function(){return b("UFI2CommentTopReactionsWrapper_feedback.graphql")}})}),null);
__d("UFI2VPVDLoggedComponent.react",["cx","invariant","Banzai","Parent","React","ReactDOM","UFI2ActiveLayerMonitor","UFI2UserActivityMonitor","collectDataAttributes","containsNode","getFBAlphaConsoleSize","getSharedStopwatch","gkx","injectSubscriptionsHandler.react","intersectionObserverEntryIsIntersecting","observeIntersection","onAttachedToDOM","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=[0,.05,.1,.15,.2,.25,.3,.35,.4,.45,.5,.55,.6,.65,.7,.75,.8,.85,.9,.95,1],j=200,k={height:0};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1="HIDDEN",d.$4=!1,d.$7=b("UFI2UserActivityMonitor").getActivityState(),d.$8="div",d.$11=function(a,c){return d.$5?b("collectDataAttributes")(d.$5,a,c):null},d.$12=function(a){d.$4=b("containsNode")(a,d.$5),d.$13()},d.$14=function(a){if(b("intersectionObserverEntryIsIntersecting")(a)===!1)d.$1="HIDDEN";else{var c=a.boundingClientRect,e=a.intersectionRect,f=a.rootBounds;c=c||k;e=e||k;f=f||k;e.height>=j||e.height>=f.height/2||e.height===c.height||a.intersectionRatio>.95&&a.intersectionRatio<=1?d.$1="VISIBLE":d.$1="HIDDEN"}d.$13()},d.$15=function(a){var c=a instanceof HTMLDivElement?a:b("ReactDOM").findDOMNode(a);c==null||c instanceof HTMLDivElement||h(0,5279);d.$5!==c&&(d.$2!=null&&(d.$2.remove(),delete d.$2),d.$3!=null&&(d.$3.remove(),delete d.$3));c&&(b("onAttachedToDOM")?d.$2=b("onAttachedToDOM")(c,function(){d.$3&&d.$3.remove(),d.$16(c)}):d.$16(c));d.$5=c},d.$17=function(a){d.$7=a,d.$13()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$13=function(){__p&&__p();var a=this.$6;if(this.$1==="HIDDEN"||this.$4===!1||this.$7==="INACTIVE"){if(a==null)return;if(!a.isSharedWithOtherClients()){var c=a.getMilliseconds();this.props.onLogDuration(c,this.$11)}a.dispose();this.$6=null}else a==null&&(this.$6=a=b("getSharedStopwatch")(this.props.contentIdentifier)),a.start()};d.$16=function(a){this.$4=b("containsNode")(b("UFI2ActiveLayerMonitor").getLastActiveLayer(),a);var c=b("Parent").byClass(a,"uiScrollableAreaWrap"),d=c==null?"-44px 0px -"+b("getFBAlphaConsoleSize")().height+"px 0px":"0px";this.$3=b("observeIntersection")(a,this.$14,{root:c instanceof HTMLElement?c:null,rootMargin:d,threshold:i})};d.componentDidMount=function(){__p&&__p();var a=this;this.props.subscriptionsHandler.addSubscriptions(b("Banzai").subscribe(b("Banzai").SHUTDOWN,function(){a.$1="HIDDEN",a.$13()}),b("UFI2UserActivityMonitor").subscribe(this.$17),b("UFI2ActiveLayerMonitor").subscribe(this.$12));var c=this.props.domAttachmentEventEmitter;c&&this.props.subscriptionsHandler.addSubscriptions(c.addListener("inserted",function(){var b=a.$5;if(b==null)return;a.$2&&(a.$2.remove(),delete a.$2);a.$3&&a.$3.remove();a.$16(b)}))};d.componentWillUnmount=function(){this.$1="HIDDEN",this.$2&&(this.$2.remove(),delete this.$2),this.$3&&(this.$3.remove(),delete this.$3),this.$13()};d.render=function(){var a=this.$8;return b("React").createElement(a,{ref:this.$15},this.props.children)};return c}(b("React").Component);e.exports=b("injectSubscriptionsHandler.react")(a)}),null);
__d("UFI2Comment.react",["cx","ActorPresenceGatingConfig","FBLogger","FeedbackSourceType","JSResource","React","RelayFBMatchContainer","RelayModern","SiteData","SubscriptionsHandler","TrackingNodes","UFI2CommentActionLinksDynamic.react","UFI2CommentAttachmentsDynamic.react","UFI2CommentBodyDynamic.react","UFI2CommentDefaultLayout.react","UFI2CommentMenu.react","UFI2CommentRow.react","UFI2CommentsConfig","UFI2CommentTopReactionsWrapper.react","UFI2Config","UFI2ErrorBoundary.react","UFI2SurfaceContainerContext","UFI2VPVDLoggedComponent.react","UFICommonInteractionEvents","UFICommonInteractionLogger","UFIODSLogger","UFIVersion","clearTimeout","gkx","isCommentFresh","joinClasses","lazyLoadComponent","makeUFI2HighlightedComment","nullthrows","requireCond","setTimeoutAcrossTransitions","cr:840776","UFI2Comment_comment.graphql","UFI2Comment_feedback.graphql","UFI2CommentRefetchQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("RelayModern").createRefetchContainer;b("RelayModern").graphql;var h=b("SiteData").pr,i=b("lazyLoadComponent")(b("JSResource")("UFI2CommentModerationControls.react").__setRef("UFI2Comment.react")),j=b("makeUFI2HighlightedComment")(b("UFI2CommentBodyDynamic.react")),k=b("makeUFI2HighlightedComment")(b("UFI2CommentRow.react"));function l(a){__p&&__p();var c=a.attached_story,d=a.attachments;a=a.id;if(c!=null)return!b("UFI2Config").shouldUseSimplifiedAttachments;if(d.length===0)return!1;c=d[0].style_list;if(c==null){b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",a||"UNKNOWN").mustfix("Encountered a null `style_list` property while trying to determine if a comment attachment is renderable. Investigate why.");return!1}if(c.includes("COMMENT_MESSAGE_INFO"))return!1;if(b("UFI2Config").shouldUseSimplifiedAttachments)for(var d=c,a=Array.isArray(d),c=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(a){if(c>=d.length)break;e=d[c++]}else{c=d.next();if(c.done)break;e=c.value}e=e;if(b("UFI2Config").attachmentStylesToSimplify.includes(e))return!1}return!0}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.context=null,d.state={isFetchingTranslation:!1,isHovered:!1},d.$1=b("React").createRef(),d.$2=new(b("SubscriptionsHandler"))(),d.$4=function(){var a=d.props.comment;return a.id?"`UFI2Comment` experienced a fatal error rendering a comment with ID "+a.id+".":"`UFI2Comment` experienced a fatal error rendering a comment without ID."},d.$5=function(a){d.setState({isHovered:!0})},d.$6=function(a){d.setState({isHovered:!1})},d.$7=function(a){d.state.isHovered||d.setState({isHovered:!0})},d.$8=function(){var a=d.props,c=a.comment,e=a.onTranslated,f=a.onUntranslated,g=(a=c.preferred_body)==null?void 0:a.translation_type;d.setState(function(a){return{isFetchingTranslation:!0}},function(){var a,i=g==="MACHINE_TRANSLATION"?"ORIGINAL":"MACHINE_TRANSLATION";d.props.relay.refetch({commentProfilePictureSizeDepth0:b("UFI2CommentsConfig").profilePictureSize32,commentProfilePictureSizeDepth1:b("UFI2CommentsConfig").profilePictureSize20,containerIsFeedStory:b("nullthrows")((a=d.context)==null?void 0:(a=a.containerMapping)==null?void 0:a.containerIsFeedStory),id:c.id,isComet:b("gkx")("708253"),scale:h,translationType:i,useDefaultActor:d.props.useDefaultActor},null,function(){i==="MACHINE_TRANSLATION"?e&&e():f&&f(),d.setState({isFetchingTranslation:!1})})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(a){if(!this.props.comment||!this.props.comment.feedback||this.props.comment.optimistic_action||this.props.comment.optimistic_error)return a;var c=this.props.comment.feedback,d=a.slice(0,-1);a=a.slice(-1);c=b("React").createElement(b("UFI2CommentTopReactionsWrapper.react"),{avoidableElementBorderingBottom:this.$1,feedback:c},a);return b("React").Children.toArray([].concat(d,[c]))};d.$9=function(){var a;if(((a=this.props.comment)==null?void 0:(a=a.preferred_body)==null?void 0:a.translation_type)==="MACHINE_TRANSLATION"||this.state.isFetchingTranslation===!0)return;this.$8()};d.componentDidMount=function(){__p&&__p();var a=this,c=this.props,d=c.comment,e=c.depth,f=c.feedbackSource,g=c.isHighlighted;c=c.translationRequested;c===!0&&this.$9();f===b("FeedbackSourceType").NEWS_FEED&&(e===0?b("UFIODSLogger").bump("comment.newsfeed.toplevel.componentDidMount",b("UFIVersion").RELAY):b("UFIODSLogger").bump("comment.newsfeed.replies.componentDidMount",b("UFIVersion").RELAY));d.client_id&&d.optimistic_action&&b("UFICommonInteractionLogger").endInteraction(d.client_id+(d.optimistic_action==="ADD"?b("UFICommonInteractionEvents").UFI2_OPTIMISTIC_COMMENT:b("UFICommonInteractionEvents").UFI2_OPTIMISTIC_COMMENT_EDIT));if(g){var h=b("setTimeoutAcrossTransitions")(function(){a.props.onDeeplinkToComment&&a.props.onDeeplinkToComment()},0);this.$2.addSubscriptions({remove:function(){b("clearTimeout")(h)}})}};d.componentDidUpdate=function(a){a.translationRequested!==this.props.translationRequested&&this.props.translationRequested===!0&&this.$9();if(this.props.comment.client_id&&!this.props.comment.optimistic_action&&!this.props.comment.optimistic_error&&a.comment.optimistic_action){a=this.props.comment.client_id+(a.comment.optimistic_action==="ADD"?b("UFICommonInteractionEvents").UFI2_PERSISTED_COMMENT:b("UFICommonInteractionEvents").UFI2_PERSISTED_COMMENT_EDIT);b("UFICommonInteractionLogger").endInteraction(a)}};d.componentWillUnmount=function(){this.$2.release()};d.render=function(){__p&&__p();var a,c=this.props,d=c.Selectors,e=c.className,f=c.comment,g=c.domAttachmentEventEmitter,h=c.feedback,m=c.depth,n=c.feedbackSource,o=c.isCommentFresh,p=c.isHighlighted,q=c.listState,r=c.logCommentViewportViewDuration,s=c.onReplyToComment,t=c.relay;c=c.totalCount;var u=f.author,v=f.comment_moderation_data,w=f.id,x=f.www_layout_renderer;if(!u){b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",w||"UNKNOWN").mustfix("UFI2Comment: Cant render comment without author");return null}if(!w){b("FBLogger")("ufi2").mustfix("UFI2Comment: Cant render comment without an id");return null}a=(a=this.props.feedback.viewer_current_actor)==null?void 0:a.id;var y=this.props.feedback.id,z=d.getHiddenStateForComment({commentID:w,depth:m,state:q});o=o(f);var A=d.isCommentHiddenByViewer({commentID:w,depth:m,state:q}),B=p&&!f.preferred_body;p=p?j:b("UFI2CommentBodyDynamic.react");B=B?k:b("UFI2CommentRow.react");p=b("React").createElement(p,{comment:f,feedback:h,isHighlighted:this.props.isHighlighted});var C=l(f)&&b("React").createElement(b("React").Suspense,{fallback:b("cr:840776")!=null?b("React").createElement("div",{style:{paddingLeft:10}},b("React").createElement(b("cr:840776"),null)):null},b("React").createElement(b("UFI2CommentAttachmentsDynamic.react"),{comment:f,feedbackSource:this.props.feedbackSource,storyRenderLocation:this.props.storyRenderLocation}));p=b("React").Children.toArray([p,C]);C=b("React").createElement(b("UFI2CommentActionLinksDynamic.react"),{Selectors:d,actionLinksListRef:this.$1,comment:f,depth:m,environment:t&&t.environment,feedback:h,feedbackSource:n,handleOnReply:s,handleTranslationClick:this.$8,isFetchingTranslation:this.state.isFetchingTranslation,listState:q,totalCount:c,trackingInfo:b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.COMMENT),useDefaultActor:this.props.useDefaultActor});h=b("React").createElement(b("UFI2CommentMenu.react"),{comment:f,feedback:this.props.feedback,feedbackSource:this.props.feedbackSource,onEdit:this.props.onEdit,topLevelFeedbackId:(d=this.props.topLevelFeedbackID)!=null?d:null,visible:this.state.isHovered&&!f.optimistic_error});s=this.$3(p);q=s[0];c=s.slice(1);d=b("React").createElement(b("UFI2ErrorBoundary.react"),{getFBLoggerErrorMessage:this.$4},b("React").createElement(B,{actor:u,"aria-busy":z==="LOCALLY_HIDDEN"&&!v?"true":void 0,className:b("joinClasses")((o?"_p20":"")+" _4eek"+(A?" aero":""),e),"data-ft":b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.COMMENT),"data-testid":"UFI2Comment/root_depth_"+m,depth:m,displayPresence:u.id!==a&&b("ActorPresenceGatingConfig").www_comment_presence_enabled,onMouseEnter:this.$5,onMouseLeave:this.$6,onMouseMove:this.$7,showWarning:Boolean(f.optimistic_error)},b("React").createElement(b("RelayFBMatchContainer"),{fallback:b("React").createElement(b("UFI2CommentDefaultLayout.react"),{childrenForLayout:{actionLinks:C,firstContentElement:q,menu:h,otherContentElements:c}}),match:x,props:{childrenForLayout:{actionLinks:C,firstContentElement:q,menu:h,otherContentElements:c}}})));r!=null&&(d=b("React").createElement(b("UFI2VPVDLoggedComponent.react"),{contentIdentifier:w,domAttachmentEventEmitter:g,onLogDuration:r},d));return a!=null&&v!=null&&z==="LOCALLY_HIDDEN"&&y!=null?b("React").createElement(b("React").Suspense,{fallback:d,maxDuration:200},b("React").createElement(i,{actorID:a,author:u,className:e,comment:f,commentID:w,commentModerationData:v,environment:t.environment,feedbackSource:n,feedbackTargetID:y})):d};return c}(b("React").PureComponent);c.displayName="UFI2Comment";c.defaultProps={isCommentFresh:b("isCommentFresh")};c.contextType=b("UFI2SurfaceContainerContext");e.exports=a(c,{comment:function(){return b("UFI2Comment_comment.graphql")},feedback:function(){return b("UFI2Comment_feedback.graphql")}},function(){return b("UFI2CommentRefetchQuery.graphql")})}),null);
__d("UFI2CommentActorLink.react",["cx","React","RelayModern","UFI2CommentActorLinkBadgesDynamic.react","UFI2CommentActorNameDynamic.react","joinClasses","UFI2CommentActorLink_comment.graphql","UFI2CommentActorLink_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){var c=a.className,d=a.comment;a=a.feedback;var e=d.author;return!e?null:b("React").createElement(b("React").Fragment,null,b("React").createElement(b("UFI2CommentActorNameDynamic.react"),{author:e,className:b("joinClasses")(d.is_author_weak_reference?"_2so8":"",c)}),b("React").createElement(b("UFI2CommentActorLinkBadgesDynamic.react"),{comment:d,feedback:a}))}a.displayName="UFI2CommentActorLink";e.exports=c(a,{comment:function(){return b("UFI2CommentActorLink_comment.graphql")},feedback:function(){return b("UFI2CommentActorLink_feedback.graphql")}})}),null);
__d("UFI2CommentActorName.react",["React","RelayModern","UFI2ProfileLinkDynamic.react","UFI2CommentActorName_author.graphql"],(function(a,b,c,d,e,f){"use strict";c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){var c=a.author;a=a.className;return c.id!=null&&c.url!=null?b("React").createElement(b("UFI2ProfileLinkDynamic.react"),{className:a,href:c.url,uid:c.id},c.name):b("React").createElement("span",{className:a},c.name)}e.exports=c(a,{author:function(){return b("UFI2CommentActorName_author.graphql")}})}),null);
__d("UFI2CommentActorVerifiedBadge.react",["cx","React","RelayModern","UFI2CommentActorVerifiedBadge_comment.graphql"],(function(a,b,c,d,e,f,g){"use strict";c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){a=a.comment.author;return!a||!a.is_verified?null:b("React").createElement("span",{className:"_5dzy _5dz- _56_f"})}e.exports=c(a,{comment:function(){return b("UFI2CommentActorVerifiedBadge_comment.graphql")}})}),null);
__d("UFI2VideoTimeIndexLink.react",["requireDeferred","FBLogger","Link.react","React","scrollIntoView"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("requireDeferred")("UFIVideoPlayerRegistry"),h=b("React").useState;function a(a){__p&&__p();var c=h(g.getModuleIfRequired()),d=c[0],e=c[1];d==null&&g.onReady(function(a){e(a)});return d==null?a.text:b("React").createElement(b("Link.react"),{href:"#",onClick:function(c){c.preventDefault();c=d.getAvailableVideoPlayerControllerForElement(c.target,a.videoId);if(c==null){b("FBLogger")("video").warn("Failed to find a video player controller when clicking on a video time index link.");return}["finished","paused","playing","ready"].includes(c.getState())&&(c.pause("seek_initiated"),c.seek(a.timeIndex),c.play("seek_initiated"),b("scrollIntoView")(c.getRootNode(),{behavior:"smooth",verticalAlign:"center"}))}},a.text)}e.exports=a}),null);
__d("UFI2CommentBodyTextWithEntities.react",["cx","Locale","React","RelayModern","TruncatedTextWithEntities.react","UFI2CommentBodyTextWithEntitiesConfig","UnicodeUtils","URITruncator","interpolateUFI2TextWithRange","nullthrows","UFI2CommentBodyTextWithEntities_comment.graphql","UFI2CommentBodyTextWithEntities_textWithEntities.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function h(a,b){return a.offset-b.offset}function i(a){return[].concat(a.ranges,a.delight_ranges).filter(function(a){return a!=null}).sort(h)}function j(a,c){switch(c.__typename){case"EntityAtRange":c=b("nullthrows")(c.entity,"Expected an `entity` property to be present on a range of type `EntityAtRange`.");switch(c.__typename){case"ExternalUrl":c=b("URITruncator")(a,b("UFI2CommentBodyTextWithEntitiesConfig").uriTruncationThreshold);return a.length-c.length;default:return 0}default:return 0}}function k(a){__p&&__p();var c=0,d=0,e=a.text;a=i(a);var f=a.length;for(var g=0;g<f;g++){var h=a[g],k=h?parseFloat(h.offset):0,l=h?parseFloat(h.length):0;if(k<c)continue;var m=e==null?"":b("UnicodeUtils").substr(e,k,l);d+=j(m,h);c=k+l}return d}function a(a){var c=!a.isHighlighted&&!a.comment.is_locally_composed,d=c?k(a.textWithEntities):0;return b("React").createElement(b("TruncatedTextWithEntities.react"),{allowSeeMoreLinebreakOnLongWords:!0,className:"_3l3x",dir:a.dir,interpolator:b("interpolateUFI2TextWithRange"),maxLength:c?420+d:null,maxLines:c?3:null,ranges:a.textWithEntities.ranges,renderEmoji:!0,renderEmoticons:b("UFI2CommentBodyTextWithEntitiesConfig").renderEmoticons,showEmojisStandalone:Boolean(a.isStandaloneEmojiComment),text:b("nullthrows")(a.textWithEntities.text,"Tried to render a comment, but the text of the comment was `null` or `undefined`."),textDelightRanges:a.textWithEntities.delight_ranges,truncationPercent:.6})}a.displayName="UFI2CommentBodyTextWithEntities";a.defaultProps={dir:b("Locale").isRTL()?"rtl":"ltr"};e.exports=c(a,{comment:function(){return b("UFI2CommentBodyTextWithEntities_comment.graphql")},textWithEntities:function(){return b("UFI2CommentBodyTextWithEntities_textWithEntities.graphql")}})}),null);
__d("UFI2CommentBodyStandaloneEmoji.react",["cx","React","RelayModern","TrackingNodes","UFI2CommentBodyTextWithEntities.react","joinClasses","UFI2CommentBodyStandaloneEmoji_comment.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){var c=a.className,d=a.comment;a=a.isHighlighted;return b("React").createElement("span",{className:b("joinClasses")((d.optimistic_error?"_4hfs":"")+" _4hft",c),"data-ft":b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.USER_MESSAGE),"data-testid":"UFI2Comment/bodyStandaloneEmoji"},d.preferred_body?b("React").createElement(b("UFI2CommentBodyTextWithEntities.react"),{comment:d,isHighlighted:a,isStandaloneEmojiComment:!0,textWithEntities:d.preferred_body}):null)}a.displayName="UFI2CommentBodyStandaloneEmoji";e.exports=c(a,{comment:function(){return b("UFI2CommentBodyStandaloneEmoji_comment.graphql")}})}),null);
__d("UFI2CommentDisabledNotice.react",["cx","React","RelayModern","TextWithEntities.react","linkifyEntityRange","UFI2CommentDisabledNotice_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.feedback;if(!a.comments_disabled_notice)return null;var c=a.comments_disabled_notice;c=b("React").createElement("div",{className:"_69g2"},b("React").createElement(b("TextWithEntities.react"),{interpolator:b("linkifyEntityRange"),ranges:c.ranges,text:c.text}));return b("React").createElement("div",{className:(a.display_comments_count&&a.display_comments_count.count&&a.display_comments_count.count>0?"_2o30":"")+" _69g3"},c)};return c}(b("React").Component);e.exports=a(c,{feedback:function(){return b("UFI2CommentDisabledNotice_feedback.graphql")}})}),null);
__d("UFI2CommentErrorFooter.react",["cx","fbt","FBLogger","React","RelayModern","UFI2CreateCommentMutation","ifRequired","UFI2CommentErrorFooter_comment.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){__p&&__p();var c=a.comment.id;if(!c){b("FBLogger")("ufi2").mustfix("UFI2CommentErrorFooter tried to render without a comment ID");return null}var d=h._("Unable to post comment."),e=null;switch(a.comment.optimistic_action){case"ADD":e=b("UFI2CreateCommentMutation").getRetryFn(c);break;case"EDIT":d=h._("Unable to edit comment.");b("ifRequired")("UFI2EditCommentMutation",function(a){e=a.getRetryFn(c)},function(){b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",c||"UNKNOWN").mustfix("Edit mutation not present on edit error")});break;default:b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",c||"UNKNOWN").warn("UFI2CommentErrorFooter no specified behavior for action `%s`.",a.comment.optimistic_action)}e||b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",c||"UNKNOWN").warn("No mutation retry handler for action `%s`.",a.comment.optimistic_action);return b("React").createElement("div",{className:"_1m2l","data-testid":"UFI2CommentErrorFooter/root"},e?h._("{errorMessage} {retryLink}",[h._param("errorMessage",d),h._param("retryLink",b("React").createElement("a",{href:"#",onClick:e,role:"button"},h._("Try again")))]):d)}a.displayName="UFI2CommentErrorFooter";e.exports=c(a,{comment:function(){return b("UFI2CommentErrorFooter_comment.graphql")}})}),null);
__d("UFI2CommentPrivateReplyLink.react",["React","RelayModern","UFI2CommentActionLinks.react","UFI2PrivateReplyLink.react","UFI2CommentPrivateReplyLink_feedback.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var g=b("UFI2CommentActionLinks.react").UFI2CommentActionLinkItem;function a(a){a.className;var c=a.feedback;a=a.seeResponseLabel;return b("React").createElement(b("UFI2PrivateReplyLink.react"),{WrapperComponent:function(a){a=a.children;return b("React").createElement(g,{key:"pageAdminPrivateReplyContext"},a({className:""}))},feedback:c,seeResponseLabel:a})}a.displayName="UFI2CommentPrivateReplyLink";d=c(a,{feedback:function(){return b("UFI2CommentPrivateReplyLink_feedback.graphql")}});e.exports=d}),null);
__d("UFI2CommentTranslateAllButton.react",["cx","fbt","React","UFI2LinkWrapper.react"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return b("React").createElement(b("UFI2LinkWrapper.react"),{className:"_6srr",onClick:a.onClick},h._("Translate All Comments"))}e.exports=a}),null);
__d("UFI2CommentsCount.react",["cx","fbt","invariant","FBLogger","JSResource","React","RelayModern","UFI2AbstractButtonWrapper.react","UFI2Tooltip.react","URI","joinClasses","lazyLoadComponent","UFI2CommentsCount_feedback.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var j=b("lazyLoadComponent")(b("JSResource")("UFI2CommentsCountTooltipContent.react").__setRef("UFI2CommentsCount.react"));c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){var b=c.props.onClick;b&&(b(),a.preventDefault())},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){__p&&__p();var a=this.props,c=a.className,d=a.feedback,e=a.relay;a=a.trackingInfo;var f=d.comment_count,g=d.i18n_comment_count;f=f==null?void 0:f.total_count;f!=null||i(0,476);if(f===0)return null;var k=d.url;k==null&&b("FBLogger")("ufi2").mustfix("UFI2CommentsCount: Expected feedback target to have a url");k=k==null?"#":new(b("URI"))(k).addQueryData({comment_tracking:a}).toString();d=d.id;d!=null||i(0,478);return b("React").createElement(b("UFI2Tooltip.react"),{className:b("joinClasses")("_1whp",c),environment:e.environment,tooltipContentComponent:j,tooltipContentProps:{queryVariables:{feedbackTargetID:d}}},b("React").createElement(b("UFI2AbstractButtonWrapper.react"),{className:"_3hg-","data-ft":a,"data-testid":"UFI2CommentsCount/root",href:k,label:h._({"*":"{number} Comments","_1":"1 Comment"},[h._plural(f,"number",g)]),onClick:this.$1,role:"button"}))};return c}(b("React").Component);c.displayName="UFI2CommentsCount";e.exports=a(c,{feedback:function(){return b("UFI2CommentsCount_feedback.graphql")}})}),null);
__d("UFI2CommentsListGetDerivedStateFromProps",["UFI2CommentsConfig","UFI2CommentsListState","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("UFI2CommentsListState").Selectors,h=b("UFI2CommentsListState").StateUpdaters;function i(a){var b=a.depth,c=a.feedback;a=a.topLevelFeedback;return b===0?Boolean(c.can_viewer_comment):a!=null&&a.can_viewer_comment===!0&&c!=null&&c.can_viewer_comment===!0}function a(a,c){__p&&__p();var d=c.mirroredProps;c=c.listState;if(d===a)return{listState:c,mirroredProps:d};var e=d.feedback,f=d.isRefetchingConnection,j=d.topLevelFeedback;d=d.totalCount;var k=a.feedback,l=a.commentIDs,m=a.commentsByID,n=a.connectionPageInfo,o=a.depth,p=a.hiddenCommentIDs,q=a.isRefetchingConnection,r=a.topLevelFeedback,s=a.shouldRenderComposerPreemptively,t=a.totalCount,u=a,v=n.afterCount,w=n.beforeCount,x=n.hasNext,y=n.hasPrevious;n=n.pageSize;var z=c;z=h.setCommentsByID({args:{commentsByID:m,depth:o},state:z});if(o===0&&g.isListLoading({depth:o,state:z})){c=f===!0&&q===!1;c&&l.length>0&&(z=h.receiveRefetchList({args:{afterCount:v,beforeCount:w,canViewerComment:i({depth:o,feedback:k,topLevelFeedback:r}),commentIDs:l,commentsByID:m,depth:o,hasNext:x,hasPrevious:y,hiddenCommentIDs:p,pageSize:n,shouldRenderComposerPreemptively:s,totalCount:t},state:z}));return{listState:z,mirroredProps:u}}f=a.newlyCreatedCommentIDs;q=a.newlyHiddenCommentIDs;c=a.newlyUnhiddenCommentIDs;v=a.commentIDsUpdatedToServerIDs;w=a.removedCommentIDs;l=i({depth:o,feedback:e,topLevelFeedback:j});m=i({depth:o,feedback:k,topLevelFeedback:r});v.length>0&&v.forEach(function(a){var b=a.clientID;a=a.serverID;z=h.setServerCommentID({args:{clientCommentID:b,depth:o,serverCommentID:a},state:z})});l!==m&&(z=h.setCanViewerComment({args:{canViewerComment:m,depth:o},state:z}));q.length>0&&(z=h.hideComments({args:{commentIDs:q,depth:o},state:z}));c.length>0&&(z=h.unhideComments({args:{commentIDs:c,depth:o},state:z}));if(f.length>0){x=a.connectionPageInfo.pageSize;for(var y=f.length-1;y>=0;y--){p=f[y];o===0?z=h.receiveNewComment({args:{commentID:p,depth:o,pageSize:x,prevTotalCount:d,totalCount:t},state:z}):z=h.receiveNewComment({args:{commentID:p,depth:o,minCountToShowCollapser:b("UFI2CommentsConfig").minRepliesToToggleReplies,pageSize:x,prevTotalCount:d,totalCount:t},state:z})}}else w.length>0&&w.forEach(function(a){o===0?z=h.deleteComment({args:{commentID:a,depth:o},state:z}):z=h.deleteComment({args:{commentID:a,depth:o,minCountToShowCollapser:b("UFI2CommentsConfig").minRepliesToToggleReplies},state:z})});return{listState:z,mirroredProps:u}}function c(a){var c=a.commentsByID,d=a.commentIDs,e=a.connectionPageInfo,f=e.afterCount,g=e.beforeCount,j=e.hasNext,k=e.hasPrevious;e=e.pageSize;var l=a.depth,m=a.feedback,n=a.hiddenCommentIDs,o=a.isInitiallyExpanded,p=a.shouldRenderComposerPreemptively,q=a.topLevelFeedback;a=a.totalCount;var r=i({depth:l,feedback:m,topLevelFeedback:q});g={afterCount:f,beforeCount:g,canViewerComment:r,commentIDs:d,commentsByID:c,feedbackTargetID:b("nullthrows")(m.id),hasNext:j,hasPrevious:k,hiddenCommentIDs:n,initiallyExpanded:o,pageSize:e,shouldRenderComposerPreemptively:p,topLevelFeedbackTargetID:(f=q==null?void 0:q.id)!=null?f:b("nullthrows")(m.id),totalCount:a};return l===0?h.getInitialState(babelHelpers["extends"]({},g,{depth:0})):h.getInitialState(babelHelpers["extends"]({},g,{depth:1,minCountToShowCollapser:b("UFI2CommentsConfig").minRepliesToToggleReplies}))}e.exports={getCanViewerComment:i,getDerivedStateFromProps:a,getInitialState:c}}),null);
__d("UFI2RealtimeContext",["React","warning"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext(function(){b("warning")(!1,"UFI2RealtimeContext: Using default context. Put an instance of `UFI2RealtimeRoot` in the tree.");return null});e.exports=a}),null);
__d("UFI2RealtimeContainer.react",["React","UFI2RealtimeContext"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React").useContext;function a(a){var c=a.children;a=a.subscribe;var d=g(b("UFI2RealtimeContext"));return b("React").createElement(h,{factory:d,subscribe:a},c)}var h=function(b){__p&&__p();babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.componentDidMount=function(){this.$1||(this.$1=this.props.factory(new i(this.props.subscribe)))};c.componentWillUnmount=function(){this.$1&&(this.$1.dispose(),this.$1=null)};c.render=function(){return this.props.children||null};return a}(b("React").Component),i=function(){function a(a){this.$1=a}var b=a.prototype;b.subscribe=function(){this.$2||(this.$2=this.$1())};b.unsubscribe=function(){this.$2&&(this.$2.dispose(),this.$2=null)};return a}();e.exports=a}),null);
__d("UFI2RelayConnectionRenderer.react",["invariant","React","RelayRuntime","react-relay/ReactRelayContext","react-relay/ReactRelayQueryFetcher","react-relay/readContext","react-relay/RelayContext"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("RelayRuntime").ConnectionInterface;a=b("RelayRuntime").deepFreeze;var i=b("react-relay/RelayContext").assertRelayContext;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$1=!1;d.$2=!1;d.$6=function(a,b){if(!d.$7()||d.$1)return;d.$4("forward",a,b||{})};d.$8=function(a,b){if(!d.$9()||d.$2)return;d.$4("backward",a,b||{})};d.$7=function(){var a=d.props.connection;a=j(a);return a?a.hasNext:!1};d.$9=function(){var a=d.props.connection;a=j(a);return a?a.hasPrevious:!1};d.$5=function(a,b){a==="forward"?(d.$1=!0,d.forceUpdate(b)):a==="backward"&&(d.$2=!0,d.forceUpdate(b))};var e=i(b("react-relay/readContext")(b("react-relay/ReactRelayContext")));d.state={mirroredRelayContext:e,prevProps:c,queryFetchers:{backward:new(b("react-relay/ReactRelayQueryFetcher"))(),forward:new(b("react-relay/ReactRelayQueryFetcher"))()}};return d}c.getDerivedStateFromProps=function(a,c){var d=i(b("react-relay/readContext")(b("react-relay/ReactRelayContext")));if(c.prevProps.paginationQuery!==a.paginationQuery||c.mirroredRelayContext.environment!==d.environment||c.mirroredRelayContext.variables!==d.variables){c=c.queryFetchers;return{mirroredRelayContext:d,prevProps:a,queryFetchers:babelHelpers["extends"]({},c)}}return null};var d=c.prototype;d.componentDidUpdate=function(a,b){this.state.queryFetchers!==b.queryFetchers&&(b.queryFetchers.backward.dispose(),b.queryFetchers.forward.dispose())};d.componentWillUnmount=function(){var a=this.state.queryFetchers;a.backward.dispose();a.forward.dispose()};d.shouldComponentUpdate=function(a,b){return!0};d.$3=function(a,b){a==="forward"?(this.$1=!1,this.forceUpdate(b)):a==="backward"&&(this.$2=!1,this.forceUpdate(b))};d.$4=function(a,b,c){__p&&__p();var d=this,e=this.props,f=e.connection;e=e.paginationQuery;var h=this.state.queryFetchers;h=h[a];f=j(f);f||g(0,1775);var i=k(a,b,f,c);if(!i)return;b=this.state.mirroredRelayContext.environment;var l=c.onLoaded;f=b.unstable_internal;c=f.createOperationDescriptor;f=f.getRequest;f=f(e);e=c(f,i);var m=!1;try{var n=h.fetch({environment:b,onDataChange:function(b){__p&&__p();var c=b.error,e=b.snapshot;if(m)return;m=!0;if(c){l&&l({error:c,variables:i});return}if(!i)return;d.$3(a,function(){l&&l({data:e==null?void 0:e.data,variables:i})})},operation:e,preservePreviousReferences:!0});n?(m=!0,this.$3(a,function(){l&&l({data:n.data,variables:i})})):this.$5(a)}catch(a){l&&l({error:a,variables:i})}};d.render=function(){var a=this.props.connection;if(!a)return null;a=a.edges;a={edges:a,hasNext:this.$7(),hasPrevious:this.$9(),isLoadingNext:this.$1,isLoadingPrevious:this.$2,loadNext:this.$6,loadPrevious:this.$8};return this.props.children(a)};return c}(b("React").Component);function j(a){if(!a)return null;var b=h.get(),c=b.PAGE_INFO,d=b.HAS_NEXT_PAGE,e=b.HAS_PREV_PAGE,f=b.END_CURSOR;b=b.START_CURSOR;a=a[c];a||g(0,1776);return{backwardCursor:a[b],forwardCursor:a[f],hasNext:a[d],hasPrevious:a[e]}}function k(a,b,c,d){switch(a){case"backward":a=b;var e=c.backwardCursor;return typeof d.queryVariables==="function"?d.queryVariables({after:null,before:e,first:null,last:a}):babelHelpers["extends"]({after:null,before:e,first:null,last:a},d.queryVariables);case"forward":e=b;a=c.forwardCursor;return typeof d.queryVariables==="function"?d.queryVariables({after:a,before:null,first:e,last:null}):babelHelpers["extends"]({after:a,before:null,first:e,last:null},d.queryVariables);default:throw new Error("UFI2RelayConnectionRenderer: direction must be one of backward or forward")}}e.exports=c}),null);
__d("UFI2CommentsProvider.react",["invariant","requireDeferred","FBLogger","React","RelayModern","SiteData","UFI2CommentsConfig","UFI2CommentsProviderState","UFI2Config","UFI2DebugLog","UFI2RealtimeContainer.react","UFI2RelayConnectionRenderer.react","UFI2SurfaceContainerContext","gkx","nullthrows","UFI2CommentsProviderPaginationQuery.graphql","UFI2CommentsProviderReadCommentsPageQuery.graphql","UFI2CommentsProvider_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();c=b("RelayModern").createRefetchContainer;b("RelayModern").graphql;var h=b("SiteData").pr;d=b("UFI2CommentsProviderState").getDerivedStateFromProps;var i=b("UFI2CommentsProviderState").getInitialState,j=b("requireDeferred")("UFI2CreateCommentSubscription"),k=50,l=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(a){__p&&__p();var d,e;e=c.call(this,a)||this;e.context=null;e.state=i({edges:e.props.edges,feedback:e.props.feedback});e.$1=function(a){__p&&__p();var c=a.count,d=a.direction,f=a.onCommentsFetched;a=e.props;var g=a.displayCommentsContext,i=a.feedLocation,j=a.feedbackSource,k=a.depth,l=a.feedback,m=a.isLoadingNext,n=a.isLoadingPrevious,o=a.loadNext,p=a.loadPrevious;a=a.useDefaultActor;var q=e.state.selectedViewOption;l=l.id;if(!l){b("FBLogger")("ufi2").mustfix("UFI2CommentsProvider: Cant fetch without a feedback id");return}if(d==="forward"&&m)return;if(d==="backward"&&n)return;n=babelHelpers["extends"]({},b("nullthrows")((m=e.context)==null?void 0:m.containerMapping),{commentProfilePictureSizeDepth0:b("UFI2CommentsConfig").profilePictureSize32,commentProfilePictureSizeDepth1:b("UFI2CommentsConfig").profilePictureSize20,displayCommentsContextEnableComment:g==null?void 0:g.enableComment,displayCommentsContextIsAdPreview:g==null?void 0:g.isAdPreview,displayCommentsContextIsAggregatedShare:g==null?void 0:g.isAggregatedShare,displayCommentsContextIsStorySet:g==null?void 0:g.isStorySet,displayCommentsFeedbackContext:g==null?void 0:g.feedbackContext,feedLocation:i,feedbackID:l,feedbackSource:j,includeNestedComments:k===0,isComet:b("gkx")("708253"),isInitialFetch:!1,scale:h,useDefaultActor:a,viewOption:q});if(d==="backward")p(c,{onLoaded:function(a){var b=a.error;a=a.variables;return e.$2({direction:d,error:b,onCommentsFetched:f,variables:a})},queryVariables:n});else if(d==="forward")o(c,{onLoaded:function(a){var b=a.error;a=a.variables;return e.$2({direction:d,error:b,onCommentsFetched:f,variables:a})},queryVariables:n});else throw new Error("UFI2CommentsProvider: Invalid direction")};e.$3=function(a){var c=e.state.commentsByID[a];if(c==null){b("FBLogger")("ufi2").warn("UFI2CommentsProvider: Could not find requested comment locally: %s",a);return null}return c};e.$6=function(a){__p&&__p();var c=a.onComplete;a=a.queryVariables;var d=e.props,f=d.displayCommentsContext,g=d.feedLocation,i=d.feedback,j=d.feedbackSource,k=d.relay;d=d.useDefaultActor;var l=e.state.selectedViewOption;i=i.id;if(!i){b("FBLogger")("ufi2").mustfix("UFI2CommentsProvider: Cant refetch without a feedback id");return}var m=babelHelpers["extends"]({commentProfilePictureSizeDepth0:b("UFI2CommentsConfig").profilePictureSize32,commentProfilePictureSizeDepth1:b("UFI2CommentsConfig").profilePictureSize20,displayCommentsContextEnableComment:f==null?void 0:f.enableComment,displayCommentsContextIsAdPreview:f==null?void 0:f.isAdPreview,displayCommentsContextIsAggregatedShare:f==null?void 0:f.isAggregatedShare,displayCommentsContextIsStorySet:f==null?void 0:f.isStorySet,displayCommentsFeedbackContext:f==null?void 0:f.feedbackContext,feedLocation:g,feedbackID:i,feedbackSource:j,includeNestedComments:!0,isComet:b("gkx")("708253"),isInitialFetch:!1,scale:h,useDefaultActor:d,viewOption:l},b("nullthrows")((f=e.context)==null?void 0:f.containerMapping),a);e.setState({isRefetchingConnection:!0},function(){k.refetch(function(a){return babelHelpers["extends"]({},a,m)},null,function(a){return e.$5(a||null,c)})})};e.$7=function(a){var b=a.onComplete;a=a.viewOption;e.setState({selectedViewOption:a},function(){e.$6({onComplete:b,queryVariables:{}})})};e.$8=function(){__p&&__p();var a=e.props,c=a.depth,d=a.feedback,f=a.feedbackSource,g=a.relay,h=a.useDefaultActor,i=d.id,k=d.subscription_target_id;if(c===1||!i||!k)return null;var l=!1,m={dispose:function(){l=!0}};j.load().then(function(a){if(l)return;m.dispose=a.subscribe({commentProfilePictureSizeDepth0:b("UFI2CommentsConfig").profilePictureSize32,commentProfilePictureSizeDepth1:b("UFI2CommentsConfig").profilePictureSize20,containerMapping:b("nullthrows")((a=e.context)==null?void 0:a.containerMapping),environment:g.environment,feedbackSource:f,subscriptionTargetID:k,topLevelFeedbackTargetID:i,useDefaultActor:h}).dispose})["catch"](function(a){return b("FBLogger")("ufi2").catching(a).mustfix("Error subscribing to UFI2CreateCommentSubscription, this is probably because the arguments didn't line up with what we're expected or someone has been tinkering with its implementation")});return m};b("UFI2DebugLog").log({depth:a.depth,feedbackSource:a.feedbackSource,feedbackTargetID:(d=a.feedback)==null?void 0:d.id,name:"UFI2CommentsProviderInternal.constructor",topLevelFeedbackTargetID:(d=(d=a.topLevelFeedback)==null?void 0:d.id)!=null?d:(d=a.feedback)==null?void 0:d.id,viewOption:e.state.selectedViewOption});return e}var d=a.prototype;d.componentDidUpdate=function(a,c){b("UFI2DebugLog").log({depth:this.props.depth,feedbackSource:this.props.feedbackSource,feedbackTargetID:(a=this.props.feedback)==null?void 0:a.id,name:"UFI2CommentsProviderInternal.componentDidUpdate",topLevelFeedbackTargetID:(a=(c=this.props.topLevelFeedback)==null?void 0:c.id)!=null?a:(c=this.props.feedback)==null?void 0:c.id,viewOption:this.state.selectedViewOption})};d.componentWillUnmount=function(){var a;b("UFI2DebugLog").log({depth:this.props.depth,feedbackTargetID:(a=this.props.feedback)==null?void 0:a.id,name:"UFI2CommentsProviderInternal.componentWillUnmount",topLevelFeedbackTargetID:(a=(a=this.props.topLevelFeedback)==null?void 0:a.id)!=null?a:(a=this.props.feedback)==null?void 0:a.id})};d.$2=function(a){__p&&__p();var b=a.direction,c=a.error,d=a.onCommentsFetched;a=a.variables;if(c){d&&d({commentIDs:[],direction:b,error:c});return}c=this.props.relay.environment;var e=c.unstable_internal,f=e.createOperationDescriptor;e=e.getRequest;e=e(n);f=f(e,a);e=c.lookup(f.fragment).data;e=(f=e==null?void 0:(a=e.feedback)==null?void 0:(c=a.display_comments)==null?void 0:c.edges)!=null?f:[];a=e.map(function(a){return a==null?void 0:(a=a.node)==null?void 0:a.id}).filter(Boolean);d&&d({commentIDs:a||[],direction:b,error:null})};d.$4=function(a){a=a.client_id||a.id;a!=null||g(0,398);return a};d.$5=function(a,b){this.setState({isRefetchingConnection:!1},function(){b&&b(a)})};d.render=function(){__p&&__p();var a,c,d=this.props,e=d.children,f=d.depth,g=d.feedback,h=d.hasNext,i=d.hasPrevious,j=d.isLoadingNext;d=d.isLoadingPrevious;var l=this.state,m=l.commentIDs,n=l.commentIDsUpdatedToServerIDs,o=l.commentsByID,p=l.hiddenCommentIDs,q=l.isRefetchingConnection,r=l.newlyCreatedCommentIDs,s=l.newlyHiddenCommentIDs,t=l.newlyUnhiddenCommentIDs,u=l.removedCommentIDs;l=l.selectedViewOption;a=Math.ceil(((a=(a=g.display_comments)==null?void 0:a.page_size)!=null?a:k)*(f>0?b("UFI2Config").legacyReplyFetchShortfallSimulationFactor:b("UFI2Config").legacyTopLevelFetchShortfallSimulationFactor));c={afterCount:(c=(c=g.display_comments)==null?void 0:c.after_count)!=null?c:0,beforeCount:(c=(c=g.display_comments)==null?void 0:c.before_count)!=null?c:0,hasNext:h,hasPrevious:i,pageSize:a};a=(i=(h=g.display_comments)==null?void 0:h.is_initially_expanded)!=null?i:!1;h=(i=(h=g.display_comments)==null?void 0:h.highlighted_comments)!=null?i:[];i=(i=(i=g.display_comments)==null?void 0:i.count)!=null?i:0;l=(l=l||((l=g.display_comments)==null?void 0:l.view_option))!=null?l:null;return b("React").createElement(b("UFI2RealtimeContainer.react"),{subscribe:this.$8},e({commentIDs:m,commentIDsUpdatedToServerIDs:n,commentsByID:o,connectionPageInfo:c,fetchComments:this.$1,getComment:this.$3,getCommentRenderingKey:this.$4,hiddenCommentIDs:p,highlightedComments:h,isFetchingNextComments:j,isFetchingPreviousComments:d,isInitiallyExpanded:a,isRefetchingConnection:q,newlyCreatedCommentIDs:r,newlyHiddenCommentIDs:s,newlyUnhiddenCommentIDs:t,refetchConnection:this.$6,removedCommentIDs:u,setViewOption:this.$7,shouldRenderComposerPreemptively:(m=(e=g.display_comments)==null?void 0:e.should_render_composer_preemptively)!=null?m:f===0,totalCount:i,viewOption:l}))};return a}(b("React").Component);l.displayName="UFI2CommentsProviderInternal";l.getDerivedStateFromProps=d;l.contextType=b("UFI2SurfaceContainerContext");function a(a){var c=a.feedback.display_comments;if(!c){var d;return(d=a.fallback)!=null?d:null}return b("React").createElement(b("UFI2RelayConnectionRenderer.react"),{connection:c,paginationQuery:m},function(c){return b("React").createElement(l,babelHelpers["extends"]({},a,c))})}a.displayName="UFI2CommentsProvider";a.defaultProps={depth:0};var m=function(){return b("UFI2CommentsProviderPaginationQuery.graphql")},n=function(){return b("UFI2CommentsProviderReadCommentsPageQuery.graphql")};e.exports=c(a,{feedback:function(){return b("UFI2CommentsProvider_feedback.graphql")}},m)}),null);
__d("UFI2CommentsList.react",["fbt","invariant","FBLogger","React","ReactDOM","RelayModern","SearchableEntry","SubscriptionsHandler","UFI2CommentsConfig","UFI2CommentsListGetDerivedStateFromProps","UFI2CommentsListState","UFI2CommentsProvider.react","debounce","emptyFunction","scrollIntoView","UFI2CommentsList_feedback.graphql"],(function(a,b,c,d,e,f,g,h){__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var i=b("UFI2CommentsListGetDerivedStateFromProps").getCanViewerComment;d=b("UFI2CommentsListGetDerivedStateFromProps").getDerivedStateFromProps;var j=b("UFI2CommentsListGetDerivedStateFromProps").getInitialState,k=b("UFI2CommentsListState").Selectors,l=b("UFI2CommentsListState").StateUpdaters;function m(a,b){return(a=a.comment_composer_placeholder)!=null?a:b>0?g._("Write a reply\u2026"):g._("Write a comment\u2026")}var n=function(c){"use strict";__p&&__p();babelHelpers.inheritsLoose(a,c);function a(a){__p&&__p();var d;d=c.call(this,a)||this;d.$1=null;d.$2=null;d.$3=new Map();d.$5={};d.$6=!1;d.$7=new(b("SubscriptionsHandler"))();d.state={listState:j(d.props),mirroredProps:d.props};d.$10=function(){var a=d.props,b=a.depth,c=a.totalCount;d.$11(function(a){return l.collapseList({args:{depth:b,totalCount:c},state:a})})};d.$12=function(a){__p&&__p();a=a.focusComposer;var c=d.props,e=c.depth,f=c.fetchComments,g=c.connectionPageInfo.pageSize,h=c.refetchConnection,i=c.totalCount;a&&(d.$6=!0);var j=!1;d.$11(function(a){__p&&__p();var c=e===0&&k.isListLoading({depth:e,state:a})||e===1&&k.isRepliesExpanderLoading({depth:e,state:a});if(c)return null;c=e===0?l.expandList({args:{depth:e,totalCount:i},state:a}):l.expandList({args:{depth:e,minCountToShowCollapser:b("UFI2CommentsConfig").minRepliesToToggleReplies,totalCount:i},state:a});if(e===0){a=k.isListLoading({depth:e,state:c});j=a;return c}a=k.isRepliesExpanderLoading({depth:e,state:c});j=a;return c},function(a){__p&&__p();if(!j)return;if(e===0){h({});return}a=k.getCountForFetch({depth:e,direction:"forward",pageSize:g,state:a});if(a==null)return;f({count:a,direction:"forward",onCommentsFetched:d.$13})})};d.$14=function(a){var b=d.props.depth;d.$11(function(c){return l.expandHiddenComments({args:{commentIDs:a,depth:b},state:c})})};d.$15=function(){var a=d.props,b=a.depth,c=a.feedback,e=a.feedbackSource;a=a.useDefaultActor;c.id!=null||h(0,3323);return{feedback:c,feedbackSource:e,feedbackTargetID:c.id,placeholder:m(c,b),useDefaultActor:a}};d.$16=function(a){__p&&__p();var b=d.props,c=b.depth,e=b.feedback,f=b.feedbackSource,g=b.getCommentRenderingKey,h=b.relay,j=b.topLevelFeedback,l=b.totalCount;b=b.useDefaultActor;var m=d.state.listState;h=h.environment;g=g(a);var n=j==null?void 0:j.id;h={Selectors:k,comment:a,depth:c,environment:h,feedback:e,feedbackSource:f,key:g,listState:m,onDeeplinkToComment:i({depth:c,feedback:e,topLevelFeedback:j})?function(){d.$17(a)}:null,onReplyToComment:i({depth:c,feedback:e,topLevelFeedback:j})?function(){__p&&__p();if(c!==0){var b;d.$2=null;var f=a.author;if(f&&f.id!==((b=e.viewer_current_actor)==null?void 0:b.id)){b=f.__typename;var g=f.id;f=f.name;if(b&&g&&f){var h=d.$1;g={authorId:g,authorIsWeakReference:Boolean(a.is_author_weak_reference),authorName:f,authorType:b};h?d.$18(g,h):d.$2=g}}}d.$17(a)}:null,totalCount:l,useDefaultActor:b};return!n?h:babelHelpers["extends"]({},h,{topLevelFeedbackID:n})};d.$19=function(){var a=d.props,b=a.depth,c=a.feedback,e=a.feedbackSource,f=a.topLevelFeedback;a=a.useDefaultActor;f=f==null?void 0:f.id;e={componentRef:b===0?d.$20:d.$21,feedback:c,feedbackSource:e,placeholder:m(c,b),useDefaultActor:a};return!f?e:babelHelpers["extends"]({},e,{topLevelFeedbackID:f})};d.$23=function(){return d.$22("forward")};d.$24=function(){return d.$22("backward")};d.$25=function(){var a=d.props,b=a.depth,c=a.relay;a=a.totalCount;var e=d.state.listState;c=c.environment;return{Selectors:k,depth:b,environment:c,expandHiddenComments:d.$14,listState:e,totalCount:a}};d.$26=function(a){var c=d.props,e=c.depth,f=c.displayCommentsContext,g=c.feedLocation,i=c.feedback,j=c.feedbackSource,k=c.getComment;c=c.useDefaultActor;e===0||h(0,3324);e=k(a);k=e&&e.feedback;e=b("React").createRef();d.$5[a]=e;k!=null||h(0,3325);return{depth:1,displayCommentsContext:f,feedLocation:g,feedback:k,feedbackSource:j,listRef:e,topLevelFeedback:i,useDefaultActor:c}};d.$31=function(){return d.$27("forward")};d.$32=function(){return d.$27("backward")};d.$33=function(){var a=d.props,b=a.connectionPageInfo.pageSize,c=a.depth,e=a.relay;a=a.totalCount;var f=d.state.listState;e=e.environment;return{Selectors:k,depth:c,environment:e,listState:f,pageSize:b,totalCount:a}};d.$34=function(){var a=d.props,b=a.depth,c=a.relay;a=a.totalCount;var e=d.state.listState;c=c.environment;b===1||h(0,3326);return{Selectors:k,collapseList:d.$10,depth:b,environment:c,listState:e,totalCount:a}};d.$35=function(){var a=d.props,b=a.depth,c=a.highlightedComments,e=a.relay,f=a.totalCount;a=a.viewOption;var g=d.state.listState;e=e.environment;b===1||h(0,3327);return{Selectors:k,depth:b,environment:e,expandList:d.$12,highlightedComments:c,listState:g,onMouseEnter:function(){return d.$30("forward")},totalCount:f,viewOption:a}};d.$13=function(a){__p&&__p();var c=a.commentIDs,e=a.direction;a=a.error;if(a)return;a=d.props;var f=a.connectionPageInfo,g=a.depth,i=a.feedback,j=a.hiddenCommentIDs,k=a.totalCount,m=f.afterCount,n=f.beforeCount,o=f.hasNext,p=f.hasPrevious,q=f.pageSize,r=i.id;r!=null||h(0,3323);var s=!1;d.$11(function(a){s=!0;if(g===0)if(e==="backward")return l.receiveCommentsPage({args:{beforeCount:n,commentIDs:c,depth:g,direction:e,feedbackTargetID:r,hasPrevious:p,hiddenCommentIDs:j,pageSize:q,totalCount:k},state:a});else return l.receiveCommentsPage({args:{afterCount:m,commentIDs:c,depth:g,direction:e,feedbackTargetID:r,hasNext:o,hiddenCommentIDs:j,pageSize:q,totalCount:k},state:a});else if(e==="backward")return l.receiveCommentsPage({args:{beforeCount:n,commentIDs:c,depth:g,direction:e,feedbackTargetID:r,hasPrevious:p,hiddenCommentIDs:j,minCountToShowCollapser:b("UFI2CommentsConfig").minRepliesToToggleReplies,pageSize:q,totalCount:k},state:a});else return l.receiveCommentsPage({args:{afterCount:m,commentIDs:c,depth:g,direction:e,feedbackTargetID:r,hasNext:o,hiddenCommentIDs:j,minCountToShowCollapser:b("UFI2CommentsConfig").minRepliesToToggleReplies,pageSize:q,totalCount:k},state:a})},function(a){s&&d.$36(e)})};d.$37=function(){d.$4()};d.$38=function(){d.$4.reset()};d.$20=function(a){d.$1=a};d.$21=function(a){d.$20(a);if(a&&d.$2){var b=d.$2;d.$2=null;d.$18(b,a)}};d.$28=function(a){a=a?a.onCommentsRendered:void 0;d.$39("forward",a)};d.$29=function(a){a=a?a.onCommentsRendered:void 0;d.$39("backward",a)};d.$40=function(a){__p&&__p();var b=a.onComplete,c=a.viewOption;a=d.props;var e=a.depth,f=a.setViewOption;if(e===1){b&&b(null);return}var g=!1;d.$11(function(a){if(k.isListLoading({depth:e,state:a}))return null;g=!0;return l.requestRefetchList({args:{depth:e},state:a})},function(a){g?f({onComplete:b,viewOption:c}):b&&b(null)})};d.$41=function(a){a=a.focusComposer;var b=d.props.depth,c=d.state.listState;!k.isListExpanded({depth:b,state:c})?d.$12({focusComposer:a}):d.$10()};d.Actions={collapseList:d.$10,expandList:d.$12,loadNewerComments:d.$29,loadOlderComments:d.$28,setViewOption:d.$40,toggleList:d.$41};d.$4=b("debounce")(b("UFI2CommentsConfig").paginationPrefetchingStrategy==="no_prefetching"?b("emptyFunction"):function(){return d.$8("forward")},b("UFI2CommentsConfig").firstPagePreloadDelay,babelHelpers.assertThisInitialized(d),!0);d.$7.addSubscriptions(d.$4);return d}var d=a.prototype;d.componentDidUpdate=function(a,c){__p&&__p();a=this.props;c=a.depth;a=a.totalCount;var d=this.state.listState,e=k.hasVisibleComments({depth:c,state:d});e=e||a===0;a=c===0&&e&&!k.isListLoading({depth:c,state:d});d=c===1&&e;var f=this.$1;if(this.$6===!0&&f!=null&&(a||d)){this.$6=!1;e=b("ReactDOM").findDOMNode(f);if(e&&c===0){if(e instanceof Text){b("FBLogger")("ufi2").mustfix("The composer is a Text node! I don't know what happened but this is UNACCEPTABLE, we found this out because we were trying to scroll to this component. You can look into and possibly fix this issue by asserting the composerRef on UFI2CommentList is being set correctly");f.focus();return}b("scrollIntoView")(e,{behavior:"smooth",onScrollComplete:function(){return f.focus()},verticalAlign:"center"})}else f.focus()}};d.componentWillUnmount=function(){this.$7.release()};d.$9=function(a,b){var c=this.$3.get(a)||[];c.push(b);this.$3.set(a,c)};d.$8=function(a){var b=this.props,c=b.depth,d=b.fetchComments,e=b.connectionPageInfo.pageSize;b=b.totalCount;var f=this.state.listState;if(!k.canFetchInDirection({depth:c,direction:a,state:f,totalCount:b}))return;b=k.getCountForFetch({depth:c,direction:a,pageSize:e,state:f});if(b==null)return;d({count:b,direction:a,onCommentsFetched:this.$13})};d.$22=function(a){var b=this.props,c=b.depth,d=b.relay,e=b.totalCount;b=b.viewOption;d=d.environment;var f=this.state.listState;return{Selectors:k,depth:c,direction:a,environment:d,listState:f,totalCount:e,viewOption:b}};d.$27=function(a){var b=this,c=this.props,d=c.connectionPageInfo.pageSize,e=c.depth,f=c.totalCount;c=c.viewOption;var g=this.state.listState,h=a==="forward"?this.$28:this.$29;return{Selectors:k,depth:e,direction:a,listState:g,loadMoreComments:h,onMouseEnter:function(){return b.$30(a)},pageSize:d,totalCount:f,viewOption:c}};d.$30=function(a){b("UFI2CommentsConfig").paginationPrefetchingStrategy==="prefetch_enter_pager_1000ms_list"&&this.$8(a)};d.$17=function(a){__p&&__p();var b=this.props,c=b.depth,d=b.feedback;b=b.topLevelFeedback;d=i({depth:c,feedback:d,topLevelFeedback:b});if(!d)return;if(c===0){if(!a)return;d=((b=a.can_comment)==null?void 0:b.can_viewer_comment)===!0;if(d){c=a.id;b=c&&this.$5[c];b&&b.current&&b.current.$12({focusComposer:!0})}else{d=this.$1;d&&d.focus()}}else this.$12({focusComposer:!0})};d.$39=function(a,c){__p&&__p();var d=this,e=this.props,f=e.connectionPageInfo.pageSize,g=e.depth,h=e.fetchComments,i=!1;this.$11(function(c){var d=k.isPagerLoading({depth:g,direction:a,state:c})||g===0&&k.isListLoading({depth:g,state:c})||g===1&&k.isRepliesExpanderLoading({depth:g,state:c});if(d)return null;d=g===0?l.requestCommentsPage({args:{depth:0,direction:a,pageSize:f},state:c}):l.requestCommentsPage({args:{depth:1,direction:a,minCountToShowCollapser:b("UFI2CommentsConfig").minRepliesToToggleReplies,pageSize:f},state:c});i=k.isPagerLoading({depth:g,direction:a,state:d});return d},function(b){if(!i){c&&c();return}b=k.getCountForFetch({depth:g,direction:a,pageSize:f,state:b});if(b==null)return;c!=null&&d.$9(a,c);h({count:b,direction:a,onCommentsFetched:d.$13})})};d.$18=function(a,c){var d=a.authorId,e=a.authorIsWeakReference,f=a.authorName;a=a.authorType;c.execCommand({__type:"PrefillMention",mentionableEntity:new(b("SearchableEntry"))({auxiliaryData:{authorativePerson:void 0,connectedPage:void 0,disableAutosuggest:void 0,renderType:e?"non_member":"member",verified:void 0,workForeignEntity:void 0,workUser:void 0},title:f,type:a==="User"?"user":"non_user",uniqueID:d})})};d.$36=function(a){__p&&__p();var b=this.$3.get(a)||[];for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e()}this.$3["delete"](a)};d.$11=function(a,b){var c=this;this.setState(function(b){b=a(b.listState);return!b?null:{listState:b}},function(){return b&&b(c.state.listState)})};d.render=function(){var a=this.props,b=a.children,c=a.depth,d=a.getComment,e=a.isInitiallyExpanded,f=a.relay,g=a.totalCount;a=a.viewOption;var h=this.state.listState;f=f.environment;f={Actions:this.Actions,Selectors:k,environment:f,getComment:d,getCommentEditorProps:this.$15,getCommentProps:this.$16,getComposerProps:this.$19,getFilterWarningPropsForNewerComments:this.$24,getFilterWarningPropsForOlderComments:this.$23,getHiddenCommentsPlaceholderProps:this.$25,getPagerPropsForNewerComments:this.$32,getPagerPropsForOlderComments:this.$31,getPaginationProgressProps:this.$33,isInitiallyExpanded:e,listState:h,onCommentsListMouseEnter:this.$37,onCommentsListMouseLeave:this.$38,totalCount:g,viewOption:a};d=c===0?babelHelpers["extends"]({},f,{depth:0,getNestedCommentsListProps:this.$26}):babelHelpers["extends"]({},f,{depth:1,getRepliesCollapserProps:this.$34,getRepliesExpanderProps:this.$35});return b(d)};return a}(b("React").Component);n.displayName="UFI2CommentsListInternal";n.getDerivedStateFromProps=d;function a(a){var c=a.children,d=a.depth,e=a.displayCommentsContext,f=a.fallback,g=a.feedLocation,i=a.feedback,j=a.feedbackSource,k=a.listRef,l=a.relay,m=a.topLevelFeedback,o=a.useDefaultActor;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","depth","displayCommentsContext","fallback","feedLocation","feedback","feedbackSource","listRef","relay","topLevelFeedback","useDefaultActor"]);d===1&&(m!=null||h(0,3328));return b("React").createElement(b("UFI2CommentsProvider.react"),babelHelpers["extends"]({depth:d,displayCommentsContext:e,fallback:f,feedLocation:g,feedback:i,feedbackSource:j,topLevelFeedback:m,useDefaultActor:o},a),function(a){return b("React").createElement(n,babelHelpers["extends"]({},a,{children:c,depth:d,displayCommentsContext:e,feedLocation:g,feedback:i,feedbackSource:j,ref:k,relay:l,topLevelFeedback:m,useDefaultActor:o}))})}a.displayName="UFI2CommentsList";a.defaultProps={depth:0};f=c(a,{feedback:function(){return b("UFI2CommentsList_feedback.graphql")}});e.exports=f}),null);
__d("UFI2CommentsPager.react",["React","TrackingNodes","UFI2CommentsPagerRenderer.react","UFICommonInteractionEvents","UFICommonInteractionLogger","getUFI2PagerLabel"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={pagerLabel:b("getUFI2PagerLabel")(d.props)},d.$1=function(){var a=d.props,c=a.depth;a=a.loadMoreComments;var e=b("UFICommonInteractionLogger").startInteraction(c===0?b("UFICommonInteractionEvents").UFI2_TOP_LEVEL_COMMENTS_PAGINATION:b("UFICommonInteractionEvents").UFI2_REPLY_COMMENTS_PAGINATION);a({onCommentsRendered:function(){return b("UFICommonInteractionLogger").endInteraction(e)}})},c)||babelHelpers.assertThisInitialized(d)}c.getDerivedStateFromProps=function(a){var c=a.Selectors,d=a.depth,e=a.direction,f=a.listState;c=c.isPagerLoading({depth:d,direction:e,state:f});return!c?{pagerLabel:b("getUFI2PagerLabel")(a)}:null};var d=c.prototype;d.render=function(){var a=this.props,c=a.Selectors,d=a.className,e=a.depth,f=a.direction,g=a.linkClassName,h=a.listState,i=a.nestedPagerIconClassName;a=a.onMouseEnter;var j=this.state.pagerLabel;if(j==null)return null;c=c.isPagerLoading({depth:e,direction:f,state:h});f=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.VIEW_ALL_COMMENTS);return b("React").createElement(b("UFI2CommentsPagerRenderer.react"),{className:d,depth:e,isLoading:c,linkClassName:g,nestedPagerIconClassName:i,onClick:this.$1,onMouseEnter:a,trackingInfo:f},function(a){return b("React").createElement("span",{className:a},j)})};return c}(b("React").Component);e.exports=a}),null);
__d("UFI2Composer.react",["cx","fbt","invariant","Bootloader","FBLogger","FeedbackSourceType","Random","React","ReactDOM","RelayModern","Run","SubscriptionsHandler","TrackingNodes","UFI2CommentRow.react","UFI2ComposerActions.react","UFI2Config","UFI2ErrorBoundary.react","UFI2ProgressiveComposerInput.react","UFICommonInteractionEvents","UFICommonInteractionLogger","UFINavigationCheck","UFIODSLogger","UFIVersion","Vector","WebFunnelLogger","collectDataAttributes","createUFI2ComposerPluginPipeline","emptyFunction","getActiveElement","getCommentDataFromComposerState","getPlainTextFromUFI2InputState","getScrollableAreaContainingNode","gkx","ifRequired","isUFI2ComposerStateEmpty","joinClasses","killswitch","makeUFI2ClientID","memoize","nullthrows","requestAnimationFrameAcrossTransitions","setFocusOnUFI2ComposerInputState","UFI2Composer_actor.graphql","UFI2Composer_feedback.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var j=b("UFI2Config").composerInputSamplingRateDenominator;function k(a){a===void 0&&(a=b("emptyFunction"));return b("Bootloader").loadModules(["clearUFIComposerInputState"],a,"UFI2Composer.react")}var l=[],m=b("memoize")(function(){var a=j||100;return b("Random").coinflip(a)&&b("gkx")("678290")});d=function(c){__p&&__p();babelHelpers.inheritsLoose(d,c);function d(){__p&&__p();var a,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=d=c.call.apply(c,[this].concat(f))||this,d.$1=[],d.$2=[],d.$3=b("React").createRef(),d.$5=!1,d.$6=null,d.$7=!1,d.$8=null,d.state={UFI2ComposerPluginPipeline:b("createUFI2ComposerPluginPipeline")(d.props.initialPlugins||l),composerState:d.props.initialComposerState||{attachment:null,feedbackID:b("nullthrows")(d.props.feedback.id,"A `UFI2Composer` was mounted without a feedback target ID. This is a fatal error, since there's nothing useful a composer can do without one. Please check why the GraphQL query for this feedback object failed to materialize an ID."),formattingStyle:"PLAIN_TEXT",inputDecorators:[],inputState:b("UFI2ProgressiveComposerInput.react").createEmptyComposerState(),isLocked:!1}},d.$9=null,d.$10=new(b("SubscriptionsHandler"))(),d.$11=function(a,c){var e=d.$3.current;e=b("ReactDOM").findDOMNode(e);return e?b("collectDataAttributes")(e,a,c):null},d.$13=function(){__p&&__p();var a=d.props,c=a.actor,e=a.onCommit,f=a.relay,g=a.topLevelFeedbackID,h=a.useDefaultActor,j=b("makeUFI2ClientID")(b("UFICommonInteractionLogger").makeTrackingID()),l=c.id;l!=null||i(0,4686);var m=function(a,b){b===void 0&&(b={}),e({actorID:l,clientID:j,commentData:a,entitiesByID:b,environment:f.environment,feedbackSource:d.props.feedbackSource,getTrackingDataFn:d.$11,topLevelFeedbackID:g,useDefaultActor:h})};a=d.state.composerState.inputState;if(a.__type==="plain-text"){if(a.text.trim()===""&&d.state.composerState.attachment==null)return;d.$14();d.$12(j);var n=d.state.composerState.attachment;m({attachments:n&&(n.__type==="ExistingAttachment"?[]:d.$1.map(function(a){return a(n)}).filter(Boolean)),feedback_id:d.state.composerState.feedbackID,formatting_style:d.state.composerState.formattingStyle,message:{text:a.text}});d.setState(function(a){return{composerState:babelHelpers["extends"]({},a.composerState,{attachment:null,formattingStyle:"PLAIN_TEXT",inputState:{__type:"plain-text",selectionOffsets:{end:0,start:0},text:""}})}})}else{d.$12(j);c=function(){__p&&__p();k(function(a){__p&&__p();if(d.$7===!1)return;var c=b("getCommentDataFromComposerState")({attachmentMappers:d.$1,composerState:d.state.composerState,contentBlockToTextWithEntitiesInputMessageMappers:d.$2});if(c==null){d.setState(function(a){return{composerState:babelHelpers["extends"]({},a.composerState,{isLocked:!1})}});d.props.commentAction==="EDIT"&&m(null,{});return}d.$14();m(c.commentData,c.entitiesByID);d.setState(function(b){return{composerState:babelHelpers["extends"]({},a(b.composerState),{attachment:null,formattingStyle:"PLAIN_TEXT",isLocked:!1})}})})};b("killswitch")("UFI2_FIX_COMMIT_WHILE_IN_COMPOSITION_MODE")?(d.setState(function(a){return{composerState:babelHelpers["extends"]({},a.composerState,{isLocked:!0})}}),c()):d.setState(function(a){return{composerState:babelHelpers["extends"]({},a.composerState,{isLocked:!0})}},c)}},d.$15=function(){d.$4&&!d.$5&&(new(b("WebFunnelLogger"))("UFI2ComposerWebFunnelDefinition").setSessionKey(d.$4).setAction("first_input").log(),d.$5=!0);m()&&(d.$8=b("UFICommonInteractionLogger").startInteraction(b("UFICommonInteractionEvents").UFI2_COMPOSER_KEYPRESS_LATENCY));return"not-handled"},d.$16=function(a){__p&&__p();d.setState(function(b){__p&&__p();b=b.composerState;if(b.isLocked)return{};var c=a(b);c&&c.inputState&&c.inputState.__type==="editor-state-based"&&c.inputState.editorState.getCurrentContent().getBlockMap().some(function(a){return a.getText()!=null})&&k();if(c){b=babelHelpers["extends"]({},b,c);return{composerState:b}}else return null})},d.$17=function(a){d.$6=a,d.props.onInputRefUpdated&&d.props.onInputRefUpdated(a)},d.$18=function(){if(!d.$4){var a=d.props.actor.id;a&&(d.$4=a+"_"+Date.now(),new(b("WebFunnelLogger"))("UFI2ComposerWebFunnelDefinition").setSessionKey(d.$4).setAction("focus").setFunnelTags(["depth_"+d.props.depth]).markStart().log())}},d.$19=function(a){__p&&__p();var c=d.state.composerState.inputState;switch(c.__type){case"editor-state-based":a.preventDefault();d.setState(function(a){__p&&__p();var c=a.composerState.inputState;if(c.__type!=="editor-state-based"){b("FBLogger")("ufi2").warn("While handling a focus trigger click on an editor-state-based input the `inputState` type unexpectedly changed to `%s`.",c.__type);return null}var d=c.editorState,e=d.getSelection();if(e.getHasFocus()===!1){var f=e.set("hasFocus",!0);return b("ifRequired")("EditorState",function(b){return{composerState:babelHelpers["extends"]({},a.composerState,{inputState:babelHelpers["extends"]({},c,{editorState:b.forceSelection(d,f)})})}},function(){return null})}else return null});break;case"plain-text":default:a.preventDefault(),b("getActiveElement")()!==d.$6&&d.focus()}},d.$20=function(){__p&&__p();var a;for(var b=arguments.length,c=new Array(b),e=0;e<b;e++)c[e]=arguments[e];(a=d.$1).push.apply(a,c);var f=!1;return{remove:function(){if(f)return;f=!0;this.$1=this.$1.filter(function(a){return c.includes(a)===!1})}}},d.$21=function(){__p&&__p();var a;for(var b=arguments.length,c=new Array(b),e=0;e<b;e++)c[e]=arguments[e];(a=d.$2).push.apply(a,c);var f=!1;return{remove:function(){if(f)return;f=!0;this.$2=this.$2.filter(function(a){return c.includes(a)===!1})}}},d.$23=function(a){var c=a.actions;a=a.inputProps;var e=d.props,f=e.depth;e=e.placeholder;var g=a.composerState,h=b("getPlainTextFromUFI2InputState")(g.inputState).trim()!=="";return b("React").createElement("form",{className:b("joinClasses")((g.isLocked?"_4w75":"")+" _129h"+(h?" _7c_q":""),a.formClassName)},b("React").createElement(b("UFI2ProgressiveComposerInput.react"),{className:b("joinClasses")((h===!1?"_7c_r":"")+" _4w79",a.className),composerState:a.composerState,depth:f,handleBeforeInput:d.$15,handleCommand:a.handleCommand,handleKeyCommand:a.handleKeyCommand,handlePastedFiles:a.handlePastedFiles,keyBindingFn:a.keyBindingFn,onBlur:a.onBlur,onClick:a.onClick,onCommit:a.onCommit,onComposerStateChange:a.onComposerStateChange,onFocus:a.onFocus,onInputRefUpdated:a.onInputRefUpdated,placeholder:a.placeholder||e,ref:d.$3,webDriverTestID:a.webDriverTestID}),c?b("React").createElement(b("UFI2ComposerActions.react"),null,c):null)},a)||babelHelpers.assertThisInitialized(d)}var e=d.prototype;e.$12=function(a){var c=this.props.commentAction,d=c==="ADD"?b("UFICommonInteractionEvents").UFI2_OPTIMISTIC_COMMENT:b("UFICommonInteractionEvents").UFI2_OPTIMISTIC_COMMENT_EDIT;b("UFICommonInteractionLogger").startInteraction(d,a+d);d=c==="ADD"?b("UFICommonInteractionEvents").UFI2_PERSISTED_COMMENT:b("UFICommonInteractionEvents").UFI2_PERSISTED_COMMENT_EDIT;b("UFICommonInteractionLogger").startInteraction(d,a+d)};e.componentDidUpdate=function(a,c){a=this.$8;a&&c.composerState!==this.state.composerState&&(this.$8=null,b("UFICommonInteractionLogger").endInteractionAtEndOfFrame(a))};e.$14=function(){this.$4&&(new(b("WebFunnelLogger"))("UFI2ComposerWebFunnelDefinition").setSessionKey(this.$4).setAction("commit").markEnd().log(),delete this.$4,this.$5=!1)};e.$22=function(){if(this.props.initialComposerState){if(this.props.initialComposerState!==this.state.composerState)return!0}else if(!b("isUFI2ComposerStateEmpty")(this.state.composerState))return!0;return!1};e.componentDidMount=function(){var c=this;this.$7=!0;var d=this.props,e=d.depth;d=d.feedbackSource;d===b("FeedbackSourceType").NEWS_FEED&&(e===0?b("UFIODSLogger").bump("composer.newsfeed.toplevel.componentDidMount",b("UFIVersion").RELAY):b("UFIODSLogger").bump("composer.newsfeed.replies.componentDidMount",b("UFIVersion").RELAY));this.$10.addSubscriptions(b("Run").onBeforeUnload(function(){return a.PageTransitions&&b("UFINavigationCheck").isLeaving(a.PageTransitions)&&c.$22()?h._("You haven't finished your comment yet. Do you want to leave without finishing?"):void 0}))};e.componentWillUnmount=function(){this.$7=!1,this.$10.release(),window.cancelAnimationFrame(this.$9)};e.execCommand=function(a){this.$3.current?this.$3.current.execCommand(a):b("FBLogger")("ufi2").warn("Someone tried to run a `%s` command, but a ref to the composer was not yet available.",a.__type)};e.focus=function(){__p&&__p();var a=this.$6;if(a){var c=b("getScrollableAreaContainingNode")(a);if(c){var d=c.getScrollTop();this.$9=b("requestAnimationFrameAcrossTransitions")(function(){c.setScrollTop(d,!1)})}else{var e=b("Vector").getScrollPosition();this.$9=b("requestAnimationFrameAcrossTransitions")(function(){window.scrollTo(e.x,e.y)})}this.$16(function(c){c.inputState.__type==="plain-text"&&a.focus();return b("setFocusOnUFI2ComposerInputState")(c)})}};e.render=function(){var a=this.props,c=a.actor,d=a.className;a=a.depth;var e=this.state.UFI2ComposerPluginPipeline;return b("React").createElement(b("UFI2ErrorBoundary.react"),null,b("React").createElement(b("UFI2CommentRow.react"),{actor:c,className:d,"data-ft":b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.ADD_COMMENT_BOX),"data-testid":"UFI2Composer/root",depth:a,isComposer:!0,onAvatarClick:this.$19},b("React").createElement(e,{actions:this.props.actions||l,initialComposerState:this.props.initialComposerState,inputProps:{commentAction:this.props.commentAction,composerState:this.state.composerState,depth:a,formClassName:this.props.formClassName,onClick:this.$19,onCommit:this.$13,onComposerStateChange:this.$16,onFocus:this.$18,onInputRefUpdated:this.$17},onInstallAttachmentMappers:this.$20,onInstallContentBlockToTextWithEntitiesInputMessageMappers:this.$21,render:this.$23})))};return d}(b("React").Component);d.displayName="UFI2Composer";e.exports=c(d,{actor:function(){return b("UFI2Composer_actor.graphql")},feedback:function(){return b("UFI2Composer_feedback.graphql")}})}),null);
__d("UFI2PaginationProgressIndicator.react",["cx","fbt","NumberFormat","React","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){var c=a.Selectors,d=a.className,e=a.depth,f=a.listState,g=a.pageSize;a=a.totalCount;var i=c.hasMoreInDirection({depth:e,direction:"forward",state:f,totalCount:a});c=c.getVisibleCommentsCount({depth:e,state:f});return a>=g&&i?b("React").createElement("span",{className:b("joinClasses")("_3bu3",d)},h._("{number of comments displayed} of {total number of comments}",[h._param("number of comments displayed",b("NumberFormat").formatInteger(c)),h._param("total number of comments",b("NumberFormat").formatInteger(a))])):null};e.exports=a}),null);
__d("UFI2PrivateReplyIndicator.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").createElement("span",{className:a.className},g._("Page responded privately"))}a.shouldRender=function(a){return a==="ALREADY_REPLIED"};e.exports=a}),null);
__d("UFI2ReactionsCount.react",["cx","fbt","invariant","JSResource","NumberFormat","React","RelayModern","ShimButton.react","UFI2PrimerDialogWrapper.react","UFI2Tooltip.react","UFIReactionsProfileBrowserUtils","intlList","lazyLoadComponent","UFI2ReactionsCount_feedback.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var j=function(a){return b("React").createElement("span",a)},k=b("lazyLoadComponent")(b("JSResource")("UFI2ReactionsCountTooltipContent.react").__setRef("UFI2ReactionsCount.react"));c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){};d.render=function(){__p&&__p();var a=this.props,c=a.feedback;a=a.relay;var d=c.i18n_reaction_count,e=c.id,f=c.important_reactors,g=c.reaction_count,h=c.viewer_current_actor,m=c.viewer_feedback_reaction_info;c=(c=(c=c.viewer_current_actor)==null?void 0:c.id)!=null?c:"0";g=g==null?void 0:g.count;e||i(0,3978);g!=null||i(0,3979);d||i(0,3980);if(g===0)return null;h=h==null?void 0:h.name;f=(f=f==null?void 0:f.nodes)!=null?f:[];m=m!=null;var n=m?f.length+1:f.length;n=n<g;var o=n?b("UFI2Tooltip.react"):j;n=n?{environment:a.environment,tooltipContentComponent:k,tooltipContentProps:{queryVariables:{feedbackTargetID:e},reactionCount:g}}:{};a=b("UFIReactionsProfileBrowserUtils").getPrimerProps({actorID:c,feedbackTargetID:e});return b("React").createElement(b("UFI2PrimerDialogWrapper.react"),{Component:b("ShimButton.react"),props:babelHelpers["extends"]({},a,{children:b("React").createElement(b("React").Fragment,null,b("React").createElement("span",{"aria-hidden":!0,className:"_3dlg",key:"count-sentence"},b("React").createElement(o,babelHelpers["extends"]({className:"_3dlh"},n),d)),b("React").createElement("span",{className:"_3dlh _3dli","data-testid":"UFI2ReactionsCount/sentenceWithSocialContext",key:"social-sentence"},b("React").createElement(o,n,b("React").createElement(l,{actorName:h,i18nReactionCount:d,importantReactors:f,reactionCount:g,viewerReacted:m})))),className:"_3dlf","data-testid":"UFI2ReactionsCount/root",form:"link",onClick:this.$1})})};return c}(b("React").Component);c.displayName="UFI2ReactionsCount";function l(a){__p&&__p();var c=a.actorName,d=a.i18nReactionCount,e=a.importantReactors,f=a.reactionCount;a=a.viewerReacted;if(a&&f===1)return c;if(!a&&e.length===0)return m(d,f);c=[a?h._("You"):null].concat(e.map(function(a){return a==null?void 0:a.name})).filter(Boolean);a=f-c.length;a>0&&c.push(h._({"*":"{number} others","_1":"1 other"},[h._plural(a,"number",m(d,a))]));return b("intlList")(c)}function m(a,c){var d=Math.floor(Math.log10(c));return d<3?b("NumberFormat").formatInteger(c):a}e.exports=a(c,{feedback:function(){return b("UFI2ReactionsCount_feedback.graphql")}})}),null);
__d("UFI2RealtimeRoot.react",["React","Run","UFI2RealtimeContext","UFI2SubscriptionManager"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=new(b("UFI2SubscriptionManager"))(),d.$2=null,d.$4=function(a){return d.$1.add(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$3=function(){this.$2!=null&&(this.$2.remove(),this.$2=null),this.$1.unsubscribeAll()};d.subscribe=function(){this.props.enabled&&this.$1.subscribeAllOnIdle()};d.componentDidMount=function(){var a=this;this.$2=b("Run").onAfterLoad(function(){a.$2=null,a.subscribe()})};d.componentWillUnmount=function(){this.$3(),this.$1.reset()};d.render=function(){return b("React").createElement(b("UFI2RealtimeContext").Provider,{value:this.$4},this.props.children)};return c}(b("React").Component);a.defaultProps={enabled:!0};e.exports=a}),null);
__d("UFI2RepliesExpander.react",["cx","fbt","invariant","FBLogger","Image.react","Middot.react","NumberFormat","React","RelayModern","TrackingNodes","UFI2CommentsPagerRenderer.react","cometUseServerTime","getFBTSafeGenderFromDisplayGender","joinClasses","requireCond","cr:851885","UFI2RepliesExpander_highlightedComments.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){__p&&__p();var c=a.Selectors,d=a.className,e=a.depth,f=a.expandList,g=a.listState,h=a.onMouseEnter,k=a.viewOption;e===1||i(0,2662);if(!c.isRepliesExpanderVisible({depth:e,state:g}))return null;var l=c.getRepliesExpanderCount({depth:e,state:g});if(l==null){b("FBLogger")("ufi2").warn("UFI2RepliesExpander: Tried rendering a visible replies expander without a count");return null}c=c.isRepliesExpanderLoading({depth:e,state:g});var m=a.highlightedComments||[];g=m[0];a=g==null?void 0:g.author;g=a!=null;a=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.VIEW_ALL_COMMENTS);return b("React").createElement(b("UFI2CommentsPagerRenderer.react"),{className:b("joinClasses")(g?"_77bj":"",d),depth:e,isLoading:c,nestedPagerIconClassName:g?"_3eof":"",onClick:function(){return f({focusComposer:!0})},onMouseEnter:h,trackingInfo:a},function(a){return b("React").createElement(j,{count:l,highlightedComments:m,pagerTextClassName:a,viewOption:k})})}function j(a){var c=a.count,d=a.highlightedComments,e=a.pagerTextClassName;a=a.viewOption;d=d[0];var f=d==null?void 0:d.author,g=f!=null;d=d==null?void 0:d.created_time;c=h._({"*":{"*":"{count} Replies","_1":"{count} Reply"}},[h._param("count",b("NumberFormat").formatInteger(c),[0,c]),h._plural(c)]);var i=b("cometUseServerTime")();i=f!=null&&d!=null&&(i/1e3-d<43200||a==="RECENT_ACTIVITY");return b("React").createElement(b("React").Fragment,null,b("React").createElement("span",{className:e},g&&f?b("React").createElement(b("React").Fragment,null,b("React").createElement(k,{actor:f}),"\xa0",b("React").createElement(b("Middot.react"),null),"\xa0"):null,c),d!=null&&i?b("React").createElement(b("cr:851885"),{timestamp:d}):null)}function k(a){__p&&__p();var c;a=a.actor;if(a==null)return null;var d=a.name;if(!d)return null;c=(c=a.profile_picture)==null?void 0:c.uri;if(!c)return null;a=a.gender;a=b("getFBTSafeGenderFromDisplayGender")(a);return b("React").createElement("div",{className:"_3eog"},b("React").createElement("span",{className:"_3eoh"},b("React").createElement(b("Image.react"),{alt:d,className:"img _3eoi",src:c})),b("React").createElement("span",{className:"_3eol"},h._({"*":"{actor} replied"},[h._name("actor",d,a)])))}d=c(a,{highlightedComments:function(){return b("UFI2RepliesExpander_highlightedComments.graphql")}});d.PagerLabel=j;e.exports=d}),null);
__d("UFI2SeenByCount.react",["cx","fbt","invariant","ActorURI","React","RelayModern","UFI2AbstractButtonWrapper.react","UFI2PrimerDialogWrapper.react","URI","XUFIGroupSeenByProfileBrowserController","XUFIGroupSeenByProfileDialogController","joinClasses","UFI2SeenByCount_feedback.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(a){};d.render=function(){__p&&__p();var a=this.props,c=a.className;a=a.feedback;var d=a.can_show_seen_by,e=a.seen_by,f=a.share_fbid,g=e==null?void 0:e.count;if(!d||!g)return null;d=e==null?void 0:e.i18n_seen_by_count;d!=null||i(0,5404);e=e==null?void 0:e.seen_by_everyone;e!=null||i(0,5405);a=a==null?void 0:(a=a.viewer_current_actor)==null?void 0:a.id;a||i(0,5406);var j=b("ActorURI").create(b("XUFIGroupSeenByProfileBrowserController").getURIBuilder().setInt("id",f).getURI(),a);a=b("ActorURI").create(b("XUFIGroupSeenByProfileDialogController").getURIBuilder().setInt("id",f).getURI(),a);f=new(b("URI"))("/ajax/ufi/seen_list_hovercard.php").setQueryData({id:f});return b("React").createElement(b("UFI2PrimerDialogWrapper.react"),{Component:b("UFI2AbstractButtonWrapper.react"),props:{ajaxify:a.toString(),className:b("joinClasses")("_33zy",c),"data-hovercard":f,"data-testid":"UFI2SeenByCount/root",href:j.toString(),label:e===!0?h._("Seen by everyone"):h._({"*":"Seen by {seenByCount}"},[h._param("seenByCount",d,[0,g])]),onClick:this.$1,rel:"dialog",role:"button"}})};return c}(b("React").Component);c.displayName="UFI2SeenByCount";e.exports=a(c,{feedback:function(){return b("UFI2SeenByCount_feedback.graphql")}})}),null);
__d("UFI2SharesCount.react",["cx","fbt","invariant","ActorURIConfig","FBLogger","JSResource","React","RelayModern","UFI2AbstractButtonWrapper.react","UFI2FeedbackSummaryConfig","UFI2PrimerDialogWrapper.react","UFI2Tooltip.react","URI","XViewSharesPermalinkController","joinClasses","lazyLoadComponent","UFI2SharesCount_feedback.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var j=b("lazyLoadComponent")(b("JSResource")("UFI2SharesCountTooltipContent.react").__setRef("UFI2SharesCount.react"));c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){};d.render=function(){__p&&__p();var a,c,d=this.props,e=d.className,f=d.feedback;d=d.relay;var g=f.share_count,k=f.i18n_share_count;g=g==null?void 0:g.count;g!=null||i(0,2968);if(g===0)return null;a=(a=(a=f.viewer_current_actor)==null?void 0:a.id)!=null?a:0;var l=f.share_fbid;f=f.id;if(!f){b("FBLogger")("ufi2").mustfix("UFI2SharesCount tried to render without a feedback ID.");return null}if(!l){b("FBLogger")("ufi2").mustfix("UFI2SharesCount tried to render without a share FBID. Feedback Target ID: %s",f);return null}c=b("XViewSharesPermalinkController").getURIBuilder().setInt("id",l).getURI().setQueryData((c={},c[b("ActorURIConfig").PARAMETER_ACTOR]=a,c));a=new(b("URI"))("/ajax/shares/view").setQueryData((l={target_fbid:l},l[b("ActorURIConfig").PARAMETER_ACTOR]=a,l));l=b("React").createElement(b("UFI2PrimerDialogWrapper.react"),{Component:b("UFI2AbstractButtonWrapper.react"),props:{ajaxify:a.toString(),className:"_3rwx","data-testid":"UFI2SharesCount/root",href:c.toString(),label:h._({"*":"{number} Shares","_1":"1 Share"},[h._plural(g,"number",k)]),onClick:this.$1,rel:"dialog"}});return b("UFI2FeedbackSummaryConfig").sharesTooltipStrategy!=="disabled"?b("React").createElement(b("UFI2Tooltip.react"),{className:b("joinClasses")("_355t",e),environment:d.environment,tooltipContentComponent:j,tooltipContentProps:{queryVariables:{feedbackTargetID:f}}},l):b("React").createElement("span",{className:b("joinClasses")("_355t",e)},l)};return c}(b("React").Component);c.displayName="UFI2SharesCount";e.exports=a(c,{feedback:function(){return b("UFI2SharesCount_feedback.graphql")}})}),null);
__d("UFI2TopReactions.react",["cx","fbt","invariant","JSResource","React","ReactDOM","RelayModern","RTLKeys","ShimButton.react","UFI2PrimerDialogWrapper.react","UFI2ReactionIconTooltipTitle.react","UFI2Tooltip.react","UFIReactionIconImpl.react","UFIReactionsProfileBrowserUtils","getReactionKeyFromType","joinClasses","lazyLoadComponent","nullthrows","UFI2TopReactions_feedback.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var j=b("lazyLoadComponent")(b("JSResource")("UFI2ReactionIconTooltipContent.react").__setRef("UFI2TopReactions.react"));c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1={},d.state={selectedReactionIndex:null},d.$3=function(a){d.$2=a},d.$5=function(a){switch(a.keyCode){case b("RTLKeys").getLeft():a.preventDefault();d.$4(-1);break;case b("RTLKeys").getRight():a.preventDefault();d.$4(1);break}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidUpdate=function(){var a=this.state.selectedReactionIndex;if(a!==null){a=b("ReactDOM").findDOMNode(this.$1[a]);a!=null&&a.focus()}};d.$4=function(a){var c=this.props.feedback.top_reactions,d=b("nullthrows")(c==null?void 0:c.edges);this.setState(function(b){return{selectedReactionIndex:Math.max(0,Math.min(b.selectedReactionIndex+a,d.length-1))}})};d.$6=function(a,c,d){__p&&__p();var e=this,f=c.i18n_reaction_count;c=c.node;var g=this.props.relay.environment,k=this.state.selectedReactionIndex,l=c==null?void 0:c.localized_name;c=c==null?void 0:c.reaction_type;var m=this.props.feedback.id;c!=null||i(0,4015);m!=null||i(0,4016);var n=b("getReactionKeyFromType")(c);a=b("UFIReactionsProfileBrowserUtils").getPrimerProps({actorID:a,feedbackTargetID:m,reactionKey:n});var o=k===null;k=k===d;o=o&&d===0||k?0:-1;k=b("React").createElement("div",null,b("React").createElement(b("UFI2ReactionIconTooltipTitle.react"),null,l),h._("Loading\u2026"));return b("React").createElement(b("UFI2Tooltip.react"),{className:"_1n9k","data-testid":"UFI2TopReactions/tooltip_"+c,environment:g,key:n,placeholder:k,tabIndex:-1,tooltipContentComponent:j,tooltipContentProps:{i18nReactionName:l,placeholder:k,queryVariables:{feedbackTargetID:m,reactionType:c},reactionType:c}},b("React").createElement(b("UFI2PrimerDialogWrapper.react"),{Component:b("ShimButton.react"),props:babelHelpers["extends"]({},a,{"aria-label":h._("{i18nReactionCount} {i18nReactionName}",[h._param("i18nReactionCount",f),h._param("i18nReactionName",l)]),children:b("React").createElement(b("UFIReactionIconImpl.react"),{className:"_1n9q",key:"reactionIcon",reaction:n}),className:"_1n9l",form:"link",ref:function(a){e.$1[d]=a},tabIndex:o})}))};d.render=function(){__p&&__p();var a=this,c=this.props,d=c.className;c=c.feedback;var e=c.top_reactions;e=e==null?void 0:e.edges;e||i(0,4017);var f=(c=(c=c.viewer_current_actor)==null?void 0:c.id)!=null?c:"0";if(e.length===0)return null;c=e.filter(function(a){return((a=a.node)==null?void 0:a.reaction_type)!=null}).slice(0,3);return b("React").createElement("span",{"aria-label":h._("See who reacted to this"),className:b("joinClasses")("_1n9r",d),onKeyDown:this.$5,ref:this.$3,role:"toolbar"},c.map(function(b,c){return a.$6(f,b,c)}))};return c}(b("React").Component);c.displayName="UFI2TopReactions";e.exports=a(c,{feedback:function(){return b("UFI2TopReactions_feedback.graphql")}})}),null);
__d("UFI2ViewCount.react",["cx","fbt","React","RelayModern","UFI2TooltipCometCompatWrapper.react","joinClasses","renderCrosspostedTooltipText","UFI2ViewCount_feedback.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){var c=a.className;a=a.feedback;var d=a.video_view_count,e=a.video_view_count_reduced,f=a.total_video_posts,g=a.video_post_view_count;if(a==null||d==null||e==null||f==null||g==null||(a==null?void 0:(a=a.parent_object_ent)==null?void 0:a.is_live_streaming)===!0)return null;a=Math.max(0,d-g);a=b("renderCrosspostedTooltipText")({otherPostsViews:a,postViews:g,posts:f});return b("React").createElement(b("UFI2TooltipCometCompatWrapper.react"),{alignH:"left",className:c,delayMountUntilHover:!0,position:"below",tooltip:a},b("React").createElement("span",{className:b("joinClasses")("_26fq"+(a?" _26fr":"")),"data-testid":"UFI2ViewCount/root"},h._({"*":"{count} Views","_1":"{count} View"},[h._param("count",e),h._plural(d)])))}e.exports=c(a,{feedback:function(){return b("UFI2ViewCount_feedback.graphql")}})}),null);
__d("UFI2ViewOptionsSelector.react",["cx","requireDeferred","FBLogger","React","UFI2LinkWrapper.react","deferredLoadComponent","getUFI2SelectorOptionFromViewOption","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("deferredLoadComponent")(b("requireDeferred")("UFI2ViewOptionsSelectorImpl.react"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={loadImmediately:!1},c.loadImmediately=function(){if(c.state.loadImmediately)return;c.setState({loadImmediately:!0})},c.$1=function(a){if(!c.state.loadImmediately||!a)return;a.showPopover()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){__p&&__p();var a=this.props,c=a.selectedViewOption,d=a.viewOptions,e=a.className,f=a.linkClassName;a=a.caretClassName;d=d.map(function(a){return b("getUFI2SelectorOptionFromViewOption")(a)}).filter(Boolean);var g=d.find(function(a){return a.value===c});if(g==null){b("FBLogger")("ufi2").mustfix("SelectedOption missing from possible options, failed to render UFI2ViewOptionsSelector");return null}var i=g.name;f=b("React").createElement(b("UFI2LinkWrapper.react"),{className:b("joinClasses")(f,"_21q1"),"data-testid":"UFI2ViewOptionsSelector/link",onClick:this.loadImmediately,role:"button"},i,b("React").createElement("div",{className:b("joinClasses")(a,"_1ojy")}));return b("React").createElement("div",{className:b("joinClasses")(e,"_21ij"),"data-testid":"UFI2ViewOptionsSelector/root"},b("React").createElement(b("React").Suspense,{fallback:f,loading:f},b("React").createElement(h,{alignh:this.props.alignh,loadImmediately:this.state.loadImmediately,menuClassName:this.props.menuClassName,menuRef:this.$1,onChange:this.props.onChange,selectedOption:g,selectorOptions:d},f)))};return c}(b("React").PureComponent);e.exports=a}),null);